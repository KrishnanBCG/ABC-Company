var pS=Object.create;var Nu=Object.defineProperty,gS=Object.defineProperties,mS=Object.getOwnPropertyDescriptor,bS=Object.getOwnPropertyDescriptors,vS=Object.getOwnPropertyNames,tl=Object.getOwnPropertySymbols,yS=Object.getPrototypeOf,Bu=Object.prototype.hasOwnProperty,lv=Object.prototype.propertyIsEnumerable;var av=(t,e,i)=>e in t?Nu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,le=(t,e)=>{for(var i in e||={})Bu.call(e,i)&&av(t,i,e[i]);if(tl)for(var i of tl(e))lv.call(e,i)&&av(t,i,e[i]);return t},Ze=(t,e)=>gS(t,bS(e));var Vu=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,i)=>(typeof require<"u"?require:e)[i]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var ju=(t,e)=>{var i={};for(var n in t)Bu.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&tl)for(var n of tl(t))e.indexOf(n)<0&&lv.call(t,n)&&(i[n]=t[n]);return i};var di=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var AS=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of vS(e))!Bu.call(t,r)&&r!==i&&Nu(t,r,{get:()=>e[r],enumerable:!(n=mS(e,r))||n.enumerable});return t};var dv=(t,e,i)=>(i=t!=null?pS(yS(t)):{},AS(e||!t||!t.__esModule?Nu(i,"default",{value:t,enumerable:!0}):i,t));var ae=(t,e,i)=>new Promise((n,r)=>{var o=l=>{try{a(i.next(l))}catch(d){r(d)}},s=l=>{try{a(i.throw(l))}catch(d){r(d)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(o,s);a((i=i.apply(t,e)).next())});var Fu=di(()=>{"use strict"});var sS=di((qX,oS)=>{"use strict";var DU="bold|bolder|lighter|[1-9]00",IU="italic|oblique",TU="small-caps",MU="ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",PU="px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q",rS=`'([^']+)'|"([^"]+)"|[\\w\\s-]+`,FU=new RegExp(`(${DU}) +`,"i"),kU=new RegExp(`(${IU}) +`,"i"),RU=new RegExp(`(${TU}) +`,"i"),LU=new RegExp(`(${MU}) +`,"i"),OU=new RegExp(`([\\d\\.]+)(${PU}) *((?:${rS})( *, *(?:${rS}))*)`),iv={},NU=16;oS.exports=t=>{if(iv[t])return iv[t];let e=OU.exec(t);if(!e)return;let i={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(e[1]),unit:e[2],family:e[3].replace(/["']/g,"").replace(/ *, */g,",")},n,r,o,s,a=t.substring(0,e.index);switch((n=FU.exec(a))&&(i.weight=n[1]),(r=kU.exec(a))&&(i.style=r[1]),(o=RU.exec(a))&&(i.variant=o[1]),(s=LU.exec(a))&&(i.stretch=s[1]),i.unit){case"pt":i.size/=.75;break;case"pc":i.size*=16;break;case"in":i.size*=96;break;case"cm":i.size*=96/2.54;break;case"mm":i.size*=96/25.4;break;case"%":break;case"em":case"rem":i.size*=NU/.75;break;case"q":i.size*=96/25.4/4;break}return iv[t]=i}});var aS=di($a=>{"use strict";var BU=sS();$a.parseFont=BU;$a.createCanvas=function(t,e){return Object.assign(document.createElement("canvas"),{width:t,height:e})};$a.createImageData=function(t,e,i){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(t);case 2:return new ImageData(t,e);default:return new ImageData(t,e,i)}};$a.loadImage=function(t,e){return new Promise(function(i,n){let r=Object.assign(document.createElement("img"),e);function o(){r.onload=null,r.onerror=null}r.onload=function(){o(),i(r)},r.onerror=function(){o(),n(new Error('Failed to load the image "'+t+'"'))},r.src=t})}});var lS=di(()=>{"use strict"});var rv=di(()=>{"use strict"});var ov=di(()=>{"use strict"});var dS=di(()=>{"use strict"});var cS=di((exports,module)=>{"use strict";(function(e,i){typeof exports=="object"&&typeof module=="object"?module.exports=e.pdfjsLib=i():typeof define=="function"&&define.amd?define("pdfjs-dist/build/pdf",[],()=>e.pdfjsLib=i()):typeof exports=="object"?exports["pdfjs-dist/build/pdf"]=e.pdfjsLib=i():e["pdfjs-dist/build/pdf"]=e.pdfjsLib=i()})(globalThis,()=>(()=>{"use strict";var __webpack_modules__=[,(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.RenderingIntentFlag=e.PromiseCapability=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.MAX_IMAGE_SIZE_TO_CACHE=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationReplyType=e.AnnotationPrefix=e.AnnotationMode=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=w,e.bytesToString=z,e.createValidAbsoluteUrl=M,e.getModificationDate=xt,e.getUuid=Cn,e.getVerbosityLevel=H,e.info=N,e.isArrayBuffer=Qe,e.isArrayEqual=Ot,e.isNodeJS=void 0,e.normalizeUnicode=ys,e.objectFromMap=W,e.objectSize=X,e.setVerbosityLevel=Y,e.shadow=R,e.string32=ne,e.stringToBytes=q,e.stringToPDFString=be,e.stringToUTF8String=we,e.unreachable=y,e.utf8StringToString=Ie,e.warn=I;let i=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=i;let n=[1,0,0,1,0,0];e.IDENTITY_MATRIX=n;let r=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=r;let o=1e7;e.MAX_IMAGE_SIZE_TO_CACHE=o;let s=1.35;e.LINE_FACTOR=s;let a=.35;e.LINE_DESCENT_FACTOR=a;let l=a/s;e.BASELINE_FACTOR=l;let d={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=d;let u={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=u;let c="pdfjs_internal_editor_";e.AnnotationEditorPrefix=c;let h={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};e.AnnotationEditorType=h;let g={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};e.AnnotationEditorParamsType=g;let p={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=p;let f={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=f;let v={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=v;let m={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=m;let x={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=x;let b={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=b;let A={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=A;let _={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=_;let S={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=S;let D={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=D;let F={O:"PageOpen",C:"PageClose"};e.PageActionEventType=F;let k={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=k;let U={NONE:0,BINARY:1};e.CMapCompressionType=U;let Q={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=Q;let G={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=G;let K=k.WARNINGS;function Y(re){Number.isInteger(re)&&(K=re)}function H(){return K}function N(re){K>=k.INFOS&&console.log(`Info: ${re}`)}function I(re){K>=k.WARNINGS&&console.log(`Warning: ${re}`)}function y(re){throw new Error(re)}function w(re,te){re||y(te)}function C(re){switch(re?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function M(re,te=null,ee=null){if(!re)return null;try{if(ee&&typeof re=="string"&&(ee.addDefaultProtocol&&re.startsWith("www.")&&re.match(/\./g)?.length>=2&&(re=`http://${re}`),ee.tryConvertEncoding))try{re=we(re)}catch{}let me=te?new URL(re,te):new URL(re);if(C(me))return me}catch{}return null}function R(re,te,ee,me=!1){return Object.defineProperty(re,te,{value:ee,enumerable:!me,configurable:!0,writable:!1}),ee}let L=function(){function te(ee,me){this.constructor===te&&y("Cannot initialize BaseException."),this.message=ee,this.name=me}return te.prototype=new Error,te.constructor=te,te}();e.BaseException=L;class V extends L{constructor(te,ee){super(te,"PasswordException"),this.code=ee}}e.PasswordException=V;class B extends L{constructor(te,ee){super(te,"UnknownErrorException"),this.details=ee}}e.UnknownErrorException=B;class E extends L{constructor(te){super(te,"InvalidPDFException")}}e.InvalidPDFException=E;class T extends L{constructor(te){super(te,"MissingPDFException")}}e.MissingPDFException=T;class P extends L{constructor(te,ee){super(te,"UnexpectedResponseException"),this.status=ee}}e.UnexpectedResponseException=P;class O extends L{constructor(te){super(te,"FormatError")}}e.FormatError=O;class j extends L{constructor(te){super(te,"AbortException")}}e.AbortException=j;function z(re){(typeof re!="object"||re?.length===void 0)&&y("Invalid argument for bytesToString");let te=re.length,ee=8192;if(te<ee)return String.fromCharCode.apply(null,re);let me=[];for(let qe=0;qe<te;qe+=ee){let bt=Math.min(qe+ee,te),ht=re.subarray(qe,bt);me.push(String.fromCharCode.apply(null,ht))}return me.join("")}function q(re){typeof re!="string"&&y("Invalid argument for stringToBytes");let te=re.length,ee=new Uint8Array(te);for(let me=0;me<te;++me)ee[me]=re.charCodeAt(me)&255;return ee}function ne(re){return String.fromCharCode(re>>24&255,re>>16&255,re>>8&255,re&255)}function X(re){return Object.keys(re).length}function W(re){let te=Object.create(null);for(let[ee,me]of re)te[ee]=me;return te}function $(){let re=new Uint8Array(4);return re[0]=1,new Uint32Array(re.buffer,0,1)[0]===1}function Z(){try{return new Function(""),!0}catch{return!1}}class J{static get isLittleEndian(){return R(this,"isLittleEndian",$())}static get isEvalSupported(){return R(this,"isEvalSupported",Z())}static get isOffscreenCanvasSupported(){return R(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?R(this,"platform",{isWin:!1,isMac:!1}):R(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return R(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}e.FeatureTest=J;let ie=[...Array(256).keys()].map(re=>re.toString(16).padStart(2,"0"));class de{static makeHexColor(te,ee,me){return`#${ie[te]}${ie[ee]}${ie[me]}`}static scaleMinMax(te,ee){let me;te[0]?(te[0]<0&&(me=ee[0],ee[0]=ee[1],ee[1]=me),ee[0]*=te[0],ee[1]*=te[0],te[3]<0&&(me=ee[2],ee[2]=ee[3],ee[3]=me),ee[2]*=te[3],ee[3]*=te[3]):(me=ee[0],ee[0]=ee[2],ee[2]=me,me=ee[1],ee[1]=ee[3],ee[3]=me,te[1]<0&&(me=ee[2],ee[2]=ee[3],ee[3]=me),ee[2]*=te[1],ee[3]*=te[1],te[2]<0&&(me=ee[0],ee[0]=ee[1],ee[1]=me),ee[0]*=te[2],ee[1]*=te[2]),ee[0]+=te[4],ee[1]+=te[4],ee[2]+=te[5],ee[3]+=te[5]}static transform(te,ee){return[te[0]*ee[0]+te[2]*ee[1],te[1]*ee[0]+te[3]*ee[1],te[0]*ee[2]+te[2]*ee[3],te[1]*ee[2]+te[3]*ee[3],te[0]*ee[4]+te[2]*ee[5]+te[4],te[1]*ee[4]+te[3]*ee[5]+te[5]]}static applyTransform(te,ee){let me=te[0]*ee[0]+te[1]*ee[2]+ee[4],qe=te[0]*ee[1]+te[1]*ee[3]+ee[5];return[me,qe]}static applyInverseTransform(te,ee){let me=ee[0]*ee[3]-ee[1]*ee[2],qe=(te[0]*ee[3]-te[1]*ee[2]+ee[2]*ee[5]-ee[4]*ee[3])/me,bt=(-te[0]*ee[1]+te[1]*ee[0]+ee[4]*ee[1]-ee[5]*ee[0])/me;return[qe,bt]}static getAxialAlignedBoundingBox(te,ee){let me=this.applyTransform(te,ee),qe=this.applyTransform(te.slice(2,4),ee),bt=this.applyTransform([te[0],te[3]],ee),ht=this.applyTransform([te[2],te[1]],ee);return[Math.min(me[0],qe[0],bt[0],ht[0]),Math.min(me[1],qe[1],bt[1],ht[1]),Math.max(me[0],qe[0],bt[0],ht[0]),Math.max(me[1],qe[1],bt[1],ht[1])]}static inverseTransform(te){let ee=te[0]*te[3]-te[1]*te[2];return[te[3]/ee,-te[1]/ee,-te[2]/ee,te[0]/ee,(te[2]*te[5]-te[4]*te[3])/ee,(te[4]*te[1]-te[5]*te[0])/ee]}static singularValueDecompose2dScale(te){let ee=[te[0],te[2],te[1],te[3]],me=te[0]*ee[0]+te[1]*ee[2],qe=te[0]*ee[1]+te[1]*ee[3],bt=te[2]*ee[0]+te[3]*ee[2],ht=te[2]*ee[1]+te[3]*ee[3],Mi=(me+ht)/2,Pi=Math.sqrt((me+ht)**2-4*(me*ht-bt*qe))/2,li=Mi+Pi||1,Mt=Mi-Pi||1;return[Math.sqrt(li),Math.sqrt(Mt)]}static normalizeRect(te){let ee=te.slice(0);return te[0]>te[2]&&(ee[0]=te[2],ee[2]=te[0]),te[1]>te[3]&&(ee[1]=te[3],ee[3]=te[1]),ee}static intersect(te,ee){let me=Math.max(Math.min(te[0],te[2]),Math.min(ee[0],ee[2])),qe=Math.min(Math.max(te[0],te[2]),Math.max(ee[0],ee[2]));if(me>qe)return null;let bt=Math.max(Math.min(te[1],te[3]),Math.min(ee[1],ee[3])),ht=Math.min(Math.max(te[1],te[3]),Math.max(ee[1],ee[3]));return bt>ht?null:[me,bt,qe,ht]}static bezierBoundingBox(te,ee,me,qe,bt,ht,Mi,Pi){let li=[],Mt=[[],[]],Fi,ki,Xa,_t,Ja,el,Ru,Lu;for(let Ou=0;Ou<2;++Ou){if(Ou===0?(ki=6*te-12*me+6*bt,Fi=-3*te+9*me-9*bt+3*Mi,Xa=3*me-3*te):(ki=6*ee-12*qe+6*ht,Fi=-3*ee+9*qe-9*ht+3*Pi,Xa=3*qe-3*ee),Math.abs(Fi)<1e-12){if(Math.abs(ki)<1e-12)continue;_t=-Xa/ki,0<_t&&_t<1&&li.push(_t);continue}Ru=ki*ki-4*Xa*Fi,Lu=Math.sqrt(Ru),!(Ru<0)&&(Ja=(-ki+Lu)/(2*Fi),0<Ja&&Ja<1&&li.push(Ja),el=(-ki-Lu)/(2*Fi),0<el&&el<1&&li.push(el))}let As=li.length,hn,ws=As;for(;As--;)_t=li[As],hn=1-_t,Mt[0][As]=hn*hn*hn*te+3*hn*hn*_t*me+3*hn*_t*_t*bt+_t*_t*_t*Mi,Mt[1][As]=hn*hn*hn*ee+3*hn*hn*_t*qe+3*hn*_t*_t*ht+_t*_t*_t*Pi;return Mt[0][ws]=te,Mt[1][ws]=ee,Mt[0][ws+1]=Mi,Mt[1][ws+1]=Pi,Mt[0].length=Mt[1].length=ws+2,[Math.min(...Mt[0]),Math.min(...Mt[1]),Math.max(...Mt[0]),Math.max(...Mt[1])]}}e.Util=de;let ge=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function be(re){if(re[0]>="\xEF"){let ee;if(re[0]==="\xFE"&&re[1]==="\xFF"?ee="utf-16be":re[0]==="\xFF"&&re[1]==="\xFE"?ee="utf-16le":re[0]==="\xEF"&&re[1]==="\xBB"&&re[2]==="\xBF"&&(ee="utf-8"),ee)try{let me=new TextDecoder(ee,{fatal:!0}),qe=q(re);return me.decode(qe)}catch(me){I(`stringToPDFString: "${me}".`)}}let te=[];for(let ee=0,me=re.length;ee<me;ee++){let qe=ge[re.charCodeAt(ee)];te.push(qe?String.fromCharCode(qe):re.charAt(ee))}return te.join("")}function we(re){return decodeURIComponent(escape(re))}function Ie(re){return unescape(encodeURIComponent(re))}function Qe(re){return typeof re=="object"&&re?.byteLength!==void 0}function Ot(re,te){if(re.length!==te.length)return!1;for(let ee=0,me=re.length;ee<me;ee++)if(re[ee]!==te[ee])return!1;return!0}function xt(re=new Date){return[re.getUTCFullYear().toString(),(re.getUTCMonth()+1).toString().padStart(2,"0"),re.getUTCDate().toString().padStart(2,"0"),re.getUTCHours().toString().padStart(2,"0"),re.getUTCMinutes().toString().padStart(2,"0"),re.getUTCSeconds().toString().padStart(2,"0")].join("")}class _n{#e=!1;constructor(){this.promise=new Promise((te,ee)=>{this.resolve=me=>{this.#e=!0,te(me)},this.reject=me=>{this.#e=!0,ee(me)}})}get settled(){return this.#e}}e.PromiseCapability=_n;let At=null,kn=null;function ys(re){return At||(At=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,kn=new Map([["\uFB05","\u017Ft"]])),re.replaceAll(At,(te,ee,me)=>ee?ee.normalize("NFKC"):kn.get(me))}function Cn(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();let re=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(re);else for(let te=0;te<32;te++)re[te]=Math.floor(Math.random()*255);return z(re)}let Tt="pdfjs_internal_id_";e.AnnotationPrefix=Tt},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);let DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;let DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(t){if(typeof t=="string"||t instanceof URL?t={url:t}:(0,_util.isArrayBuffer)(t)&&(t={data:t}),typeof t!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");let e=new PDFDocumentLoadingTask,{docId:i}=e,n=t.url?getUrlProp(t.url):null,r=t.data?getDataProp(t.data):null,o=t.httpHeaders||null,s=t.withCredentials===!0,a=t.password??null,l=t.range instanceof PDFDataRangeTransport?t.range:null,d=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE,u=t.worker instanceof PDFWorker?t.worker:null,c=t.verbosity,h=typeof t.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(t.docBaseUrl)?t.docBaseUrl:null,g=typeof t.cMapUrl=="string"?t.cMapUrl:null,p=t.cMapPacked!==!1,f=t.CMapReaderFactory||DefaultCMapReaderFactory,v=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,m=t.StandardFontDataFactory||DefaultStandardFontDataFactory,x=t.stopAtErrors!==!0,b=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,A=t.isEvalSupported!==!1,_=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!_util.isNodeJS,S=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,D=typeof t.disableFontFace=="boolean"?t.disableFontFace:_util.isNodeJS,F=t.fontExtraProperties===!0,k=t.enableXfa===!0,U=t.ownerDocument||globalThis.document,Q=t.disableRange===!0,G=t.disableStream===!0,K=t.disableAutoFetch===!0,Y=t.pdfBug===!0,H=l?l.length:t.length??NaN,N=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!_util.isNodeJS&&!D,I=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:f===_display_utils.DOMCMapReaderFactory&&m===_display_utils.DOMStandardFontDataFactory&&g&&v&&(0,_display_utils.isValidFetchUrl)(g,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(v,document.baseURI),y=t.canvasFactory||new DefaultCanvasFactory({ownerDocument:U}),w=t.filterFactory||new DefaultFilterFactory({docId:i,ownerDocument:U}),C=null;(0,_util.setVerbosityLevel)(c);let M={canvasFactory:y,filterFactory:w};if(I||(M.cMapReaderFactory=new f({baseUrl:g,isCompressed:p}),M.standardFontDataFactory=new m({baseUrl:v})),!u){let V={verbosity:c,port:_worker_options.GlobalWorkerOptions.workerPort};u=V.port?PDFWorker.fromPort(V):new PDFWorker(V),e._worker=u}let R={docId:i,apiVersion:"3.11.174",data:r,password:a,disableAutoFetch:K,rangeChunkSize:d,length:H,docBaseUrl:h,enableXfa:k,evaluatorOptions:{maxImageSize:b,disableFontFace:D,ignoreErrors:x,isEvalSupported:A,isOffscreenCanvasSupported:_,canvasMaxAreaInBytes:S,fontExtraProperties:F,useSystemFonts:N,cMapUrl:I?g:null,standardFontDataUrl:I?v:null}},L={ignoreErrors:x,isEvalSupported:A,disableFontFace:D,fontExtraProperties:F,enableXfa:k,ownerDocument:U,disableAutoFetch:K,pdfBug:Y,styleElement:C};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");let V=_fetchDocument(u,R),B=new Promise(function(E){let T;l?T=new _transport_stream.PDFDataTransportStream({length:H,initialData:l.initialData,progressiveDone:l.progressiveDone,contentDispositionFilename:l.contentDispositionFilename,disableRange:Q,disableStream:G},l):r||(T=(O=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(O):(0,_display_utils.isValidFetchUrl)(O.url)?new _displayFetch_stream.PDFFetchStream(O):new _displayNetwork.PDFNetworkStream(O))({url:n,length:H,httpHeaders:o,withCredentials:s,rangeChunkSize:d,disableRange:Q,disableStream:G})),E(T)});return Promise.all([V,B]).then(function([E,T]){if(e.destroyed)throw new Error("Loading aborted");let P=new _message_handler.MessageHandler(i,E,u.port),O=new WorkerTransport(P,e,T,L,M);e._transport=O,P.send("Ready",null)})}).catch(e._capability.reject),e}function _fetchDocument(t,e){return ae(this,null,function*(){if(t.destroyed)throw new Error("Worker was destroyed");let i=yield t.messageHandler.sendWithPromise("GetDocRequest",e,e.data?[e.data.buffer]:null);if(t.destroyed)throw new Error("Worker was destroyed");return i})}function getUrlProp(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(_util.isNodeJS&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(t){if(_util.isNodeJS&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return(0,_util.stringToBytes)(t);if(typeof t=="object"&&!isNaN(t?.length)||(0,_util.isArrayBuffer)(t))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){return ae(this,null,function*(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),yield this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(e,i,n=!1,r=null){this.length=e,this.initialData=i,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,i){for(let n of this._rangeListeners)n(e,i)}onDataProgress(e,i){this._readyCapability.promise.then(()=>{for(let n of this._progressListeners)n(e,i)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(let i of this._progressiveReadListeners)i(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,i){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,i){this._pdfInfo=e,this._transport=i,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(n=>{if(!n)return n;let r=[];for(let o in n)r.push(...n[o]);return r}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#e=null;#t=!1;constructor(e,i,n,r=!1){this._pageIndex=e,this._pageInfo=i,this._transport=n,this._stats=r?new _display_utils.StatTimer:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:i=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:o=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:i,offsetX:n,offsetY:r,dontFlip:o})}getAnnotations({intent:e="display"}={}){let i=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,i.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){return ae(this,null,function*(){return this._transport._htmlForXfa?.children[this._pageIndex]||null})}render({canvasContext:e,viewport:i,intent:n="display",annotationMode:r=_util.AnnotationMode.ENABLE,transform:o=null,background:s=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:d=null,printAnnotationStorage:u=null}){this._stats?.time("Overall");let c=this._transport.getRenderingIntent(n,r,u);this.#t=!1,this.#i(),a||(a=this._transport.getOptionalContentConfig());let h=this._intentStates.get(c.cacheKey);h||(h=Object.create(null),this._intentStates.set(c.cacheKey,h)),h.streamReaderCancelTimeout&&(clearTimeout(h.streamReaderCancelTimeout),h.streamReaderCancelTimeout=null);let g=!!(c.renderingIntent&_util.RenderingIntentFlag.PRINT);h.displayReadyCapability||(h.displayReadyCapability=new _util.PromiseCapability,h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(c));let p=m=>{h.renderTasks.delete(f),(this._maybeCleanupAfterRender||g)&&(this.#t=!0),this.#n(!g),m?(f.capability.reject(m),this._abortOperatorList({intentState:h,reason:m instanceof Error?m:new Error(m)})):f.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},f=new InternalRenderTask({callback:p,params:{canvasContext:e,viewport:i,transform:o,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:h.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!g,pdfBug:this._pdfBug,pageColors:d});(h.renderTasks||=new Set).add(f);let v=f.task;return Promise.all([h.displayReadyCapability.promise,a]).then(([m,x])=>{if(this.destroyed){p();return}this._stats?.time("Rendering"),f.initializeGraphics({transparency:m,optionalContentConfig:x}),f.operatorListChanged()}).catch(p),v}getOperatorList({intent:e="display",annotationMode:i=_util.AnnotationMode.ENABLE,printAnnotationStorage:n=null}={}){function r(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(a))}let o=this._transport.getRenderingIntent(e,i,n,!0),s=this._intentStates.get(o.cacheKey);s||(s=Object.create(null),this._intentStates.set(o.cacheKey,s));let a;return s.opListReadCapability||(a=Object.create(null),a.operatorListChanged=r,s.opListReadCapability=new _util.PromiseCapability,(s.renderTasks||=new Set).add(a),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o)),s.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:i=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:i===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>_xfa_text.XfaText.textContent(n));let i=this.streamTextContent(e);return new Promise(function(n,r){function o(){s.read().then(function({value:l,done:d}){if(d){n(a);return}Object.assign(a.styles,l.styles),a.items.push(...l.items),o()},r)}let s=i.getReader(),a={items:[],styles:Object.create(null)};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let e=[];for(let i of this._intentStates.values())if(this._abortOperatorList({intentState:i,reason:new Error("Page was destroyed."),force:!0}),!i.opListReadCapability)for(let n of i.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,this.#i(),Promise.all(e)}cleanup(e=!1){this.#t=!0;let i=this.#n(!1);return e&&i&&(this._stats&&=new _display_utils.StatTimer),i}#n(e=!1){if(this.#i(),!this.#t||this.destroyed)return!1;if(e)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(let{renderTasks:i,operatorList:n}of this._intentStates.values())if(i.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#i(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(e,i){let n=this._intentStates.get(i);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,i){for(let n=0,r=e.length;n<r;n++)i.operatorList.fnArray.push(e.fnArray[n]),i.operatorList.argsArray.push(e.argsArray[n]);i.operatorList.lastChunk=e.lastChunk,i.operatorList.separateAnnots=e.separateAnnots;for(let n of i.renderTasks)n.operatorListChanged();e.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:e,cacheKey:i,annotationStorageSerializable:n}){let{map:r,transfers:o}=n,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:i,annotationStorage:r},o).getReader(),l=this._intentStates.get(i);l.streamReader=a;let d=()=>{a.read().then(({value:u,done:c})=>{if(c){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(u,l),d())},u=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(let c of l.renderTasks)c.operatorListChanged();this.#n(!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(u);else if(l.opListReadCapability)l.opListReadCapability.reject(u);else throw u}})};d()}_abortOperatorList({intentState:e,reason:i,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(i instanceof _display_utils.RenderingCancelledException){let r=RENDERING_CANCELLED_TIMEOUT;i.extraDelay>0&&i.extraDelay<1e3&&(r+=i.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:i,force:!0})},r);return}}if(e.streamReader.cancel(new _util.AbortException(i.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(let[r,o]of this._intentStates)if(o===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=new Set;#t=Promise.resolve();postMessage(e,i){let n={data:structuredClone(e,i?{transfer:i}:null)};this.#t.then(()=>{for(let r of this.#e)r.call(this,n)})}addEventListener(e,i){this.#e.add(i)}removeEventListener(e,i){this.#e.delete(i)}terminate(){this.#e.clear()}}exports.LoopbackPort=LoopbackPort;let PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof Vu=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){let t=document?.currentScript?.src;t&&(PDFWorkerUtil.fallbackWorkerSrc=t.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(t,e){let i;try{if(i=new URL(t),!i.origin||i.origin==="null")return!1}catch{return!1}let n=new URL(e,i);return i.origin===n.origin},PDFWorkerUtil.createCDNWrapper=function(t){let e=`importScripts("${t}");`;return URL.createObjectURL(new Blob([e]))}}class PDFWorker{static#workerPorts;constructor({name:t=null,port:e=null,verbosity:i=(0,_util.getVerbosityLevel)()}={}){if(this.name=t,this.destroyed=!1,this.verbosity=i,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,e){if(PDFWorker.#workerPorts?.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(PDFWorker.#workerPorts||=new WeakMap).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new _message_handler.MessageHandler("main","worker",t),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:t}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));let e=new Worker(t),i=new _message_handler.MessageHandler("main","worker",e),n=()=>{e.removeEventListener("error",r),i.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=()=>{this._webWorker||n()};e.addEventListener("error",r),i.on("test",s=>{if(e.removeEventListener("error",r),this.destroyed){n();return}s?(this._messageHandler=i,this._port=e,this._webWorker=e,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),i.destroy(),e.terminate())}),i.on("ready",s=>{if(e.removeEventListener("error",r),this.destroyed){n();return}try{o()}catch{this._setupFakeWorker()}});let o=()=>{let s=new Uint8Array;i.send("test",s,[s.buffer])};o();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}let e=new LoopbackPort;this._port=e;let i=`fake${PDFWorkerUtil.fakeWorkerId++}`,n=new _message_handler.MessageHandler(i+"_worker",i,e);t.setup(n,e);let r=new _message_handler.MessageHandler(i,i+"_worker",e);this._messageHandler=r,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){if(!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");let e=this.#workerPorts?.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new PDFWorker(t)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){let loader=()=>ae(this,null,function*(){let mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof Vu=="function"){let worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;class WorkerTransport{#e=new Map;#t=new Map;#n=new Map;#i=null;constructor(e,i,n,r,o){this.messageHandler=e,this.loadingTask=i,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#a(e,i=null){let n=this.#e.get(e);if(n)return n;let r=this.messageHandler.sendWithPromise(e,i);return this.#e.set(e,r),r}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(e,i=_util.AnnotationMode.ENABLE,n=null,r=!1){let o=_util.RenderingIntentFlag.DISPLAY,s=_annotation_storage.SerializableEmpty;switch(e){case"any":o=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":o=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${e}`)}switch(i){case _util.AnnotationMode.DISABLE:o+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:o+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:o+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,s=(o&_util.RenderingIntentFlag.PRINT&&n instanceof _annotation_storage.PrintAnnotationStorage?n:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${i}`)}return r&&(o+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:o,cacheKey:`${o}_${s.hash}`,annotationStorageSerializable:s}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#i?.reject(new Error("Worker was destroyed during onPassword callback"));let e=[];for(let n of this.#t.values())e.push(n._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let i=this.messageHandler.sendWithPromise("Terminate",null);return e.push(i),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:e,loadingTask:i}=this;e.on("GetReader",(n,r)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:s}){if(s){r.close();return}(0,_util.assert)(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",n=>{let r=new _util.PromiseCapability,o=this._fullReader;return o.headersReady.then(()=>{(!o.isStreamingSupported||!o.isRangeSupported)&&(this._lastProgress&&i.onProgress?.(this._lastProgress),o.onProgress=s=>{i.onProgress?.({loaded:s.loaded,total:s.total})}),r.resolve({isStreamingSupported:o.isStreamingSupported,isRangeSupported:o.isRangeSupported,contentLength:o.contentLength})},r.reject),r.promise}),e.on("GetRangeReader",(n,r)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:s,done:a}){if(a){r.close();return}(0,_util.assert)(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{o.cancel(s),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,i._capability.resolve(new PDFDocumentProxy(n,this))}),e.on("DocException",function(n){let r;switch(n.name){case"PasswordException":r=new _util.PasswordException(n.message,n.code);break;case"InvalidPDFException":r=new _util.InvalidPDFException(n.message);break;case"MissingPDFException":r=new _util.MissingPDFException(n.message);break;case"UnexpectedResponseException":r=new _util.UnexpectedResponseException(n.message,n.status);break;case"UnknownErrorException":r=new _util.UnknownErrorException(n.message,n.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}i._capability.reject(r)}),e.on("PasswordRequest",n=>{if(this.#i=new _util.PromiseCapability,i.onPassword){let r=o=>{o instanceof Error?this.#i.reject(o):this.#i.resolve({password:o})};try{i.onPassword(r,n.code)}catch(o){this.#i.reject(o)}}else this.#i.reject(new _util.PasswordException(n.message,n.code));return this.#i.promise}),e.on("DataLoaded",n=>{i.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;this.#t.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,r,o])=>{if(!this.destroyed&&!this.commonObjs.has(n))switch(r){case"Font":let s=this._params;if("error"in o){let d=o.error;(0,_util.warn)(`Error during font loading: ${d}`),this.commonObjs.resolve(n,d);break}let a=s.pdfBug&&globalThis.FontInspector?.enabled?(d,u)=>globalThis.FontInspector.fontAdded(d,u):null,l=new _font_loader.FontFaceObject(o,{isEvalSupported:s.isEvalSupported,disableFontFace:s.disableFontFace,ignoreErrors:s.ignoreErrors,inspectFont:a});this.fontLoader.bind(l).catch(d=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!s.fontExtraProperties&&l.data&&(l.data=null),this.commonObjs.resolve(n,l)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${r}`)}}),e.on("obj",([n,r,o,s])=>{if(this.destroyed)return;let a=this.#t.get(r);if(!a.objs.has(n))switch(o){case"Image":if(a.objs.resolve(n,s),s){let l;if(s.bitmap){let{width:d,height:u}=s;l=d*u*4}else l=s.data?.length||0;l>_util.MAX_IMAGE_SIZE_TO_CACHE&&(a._maybeCleanupAfterRender=!0)}break;case"Pattern":a.objs.resolve(n,s);break;default:throw new Error(`Got unknown object type ${o}`)}}),e.on("DocProgress",n=>{this.destroyed||i.onProgress?.({loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");let{map:e,transfers:i}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},i).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));let i=e-1,n=this.#n.get(i);if(n)return n;let r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");let s=new PDFPageProxy(i,o,this,this._params.pdfBug);return this.#t.set(i,s),s});return this.#n.set(i,r),r}getPageIndex(e){return typeof e!="object"||e===null||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,i){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:i})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(e=>new _optional_content_config.OptionalContentConfig(e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){let e="GetMetadata",i=this.#e.get(e);if(i)return i;let n=this.messageHandler.sendWithPromise(e,null).then(r=>({info:r[0],metadata:r[1]?new _metadata.Metadata(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(e=!1){return ae(this,null,function*(){if(!this.destroyed){yield this.messageHandler.sendWithPromise("Cleanup",null);for(let i of this.#t.values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}})}get loadingParams(){let{disableAutoFetch:e,enableXfa:i}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e,enableXfa:i})}}class PDFObjects{#e=Object.create(null);#t(e){return this.#e[e]||={capability:new _util.PromiseCapability,data:null}}get(e,i=null){if(i){let r=this.#t(e);return r.capability.promise.then(()=>i(r.data)),null}let n=this.#e[e];if(!n?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){return this.#e[e]?.capability.settled||!1}resolve(e,i=null){let n=this.#t(e);n.data=i,n.capability.resolve()}clear(){for(let e in this.#e){let{data:i}=this.#e[e];i?.bitmap?.close()}this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(e){this.#e=e,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){let{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;let{annotationCanvasMap:i}=this.#e;return e.form||e.canvas&&i?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:e,params:i,objs:n,commonObjs:r,annotationCanvasMap:o,operatorList:s,pageIndex:a,canvasFactory:l,filterFactory:d,useRequestAnimationFrame:u=!1,pdfBug:c=!1,pageColors:h=null}){this.callback=e,this.params=i,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=d,this._pdfBug=c,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=i.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:i}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:n,viewport:r,transform:o,background:s}=this.params;this.gfx=new _canvas.CanvasGraphics(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,i=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,i))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){return ae(this,null,function*(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback())))})}}let version="3.11.174";exports.version=version;let build="ce8716743";exports.build=build},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SerializableEmpty=e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var n=i(1),r=i(4),o=i(8);let s=Object.freeze({map:null,hash:"",transfers:void 0});e.SerializableEmpty=s;class a{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(u,c){let h=this.#t.get(u);return h===void 0?c:Object.assign(c,h)}getRawValue(u){return this.#t.get(u)}remove(u){if(this.#t.delete(u),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(let c of this.#t.values())if(c instanceof r.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(u,c){let h=this.#t.get(u),g=!1;if(h!==void 0)for(let[p,f]of Object.entries(c))h[p]!==f&&(g=!0,h[p]=f);else g=!0,this.#t.set(u,c);g&&this.#n(),c instanceof r.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(c.constructor._type)}has(u){return this.#t.has(u)}getAll(){return this.#t.size>0?(0,n.objectFromMap)(this.#t):null}setAll(u){for(let[c,h]of Object.entries(u))this.setValue(c,h)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new l(this)}get serializable(){if(this.#t.size===0)return s;let u=new Map,c=new o.MurmurHash3_64,h=[],g=Object.create(null),p=!1;for(let[f,v]of this.#t){let m=v instanceof r.AnnotationEditor?v.serialize(!1,g):v;m&&(u.set(f,m),c.update(`${f}:${JSON.stringify(m)}`),p||=!!m.bitmap)}if(p)for(let f of u.values())f.bitmap&&h.push(f.bitmap);return u.size>0?{map:u,hash:c.hexdigest(),transfers:h}:s}}e.AnnotationStorage=a;class l extends a{#e;constructor(u){super();let{map:c,hash:h,transfers:g}=u.serializable,p=structuredClone(c,g?{transfer:g}:null);this.#e={map:p,hash:h,transfers:g}}get print(){(0,n.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}e.PrintAnnotationStorage=l},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var n=i(5),r=i(1),o=i(6);class s{#e="";#t=!1;#n=null;#i=null;#a=null;#o=!1;#s=null;#l=this.focusin.bind(this);#d=this.focusout.bind(this);#r=!1;#c=!1;#u=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#f=!1;#p=s._zIndex++;static _borderLineWidth=-1;static _colorManager=new n.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(d){this.constructor===s&&(0,r.unreachable)("Cannot initialize AnnotationEditor."),this.parent=d.parent,this.id=d.id,this.width=this.height=null,this.pageIndex=d.parent.pageIndex,this.name=d.name,this.div=null,this._uiManager=d.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=d.isCentered,this._structTreeParentId=null;let{rotation:u,rawDims:{pageWidth:c,pageHeight:h,pageX:g,pageY:p}}=this.parent.viewport;this.rotation=u,this.pageRotation=(360+u-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[c,h],this.pageTranslation=[g,p];let[f,v]=this.parentDimensions;this.x=d.x/f,this.y=d.y/v,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,r.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(d){let u=new a({id:d.parent.getNextId(),parent:d.parent,uiManager:d._uiManager});u.annotationElementId=d.annotationElementId,u.deleted=!0,u._uiManager.addToAnnotationStorage(u)}static initialize(d,u=null){if(s._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(h=>[h,d.get(h)])),u?.strings)for(let h of u.strings)s._l10nPromise.set(h,d.get(h));if(s._borderLineWidth!==-1)return;let c=getComputedStyle(document.documentElement);s._borderLineWidth=parseFloat(c.getPropertyValue("--outline-width"))||0}static updateDefaultParams(d,u){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(d){return!1}static paste(d,u){(0,r.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#f}set _isDraggable(d){this.#f=d,this.div?.classList.toggle("draggable",d)}center(){let[d,u]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*u/(d*2),this.y+=this.width*d/(u*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*u/(d*2),this.y-=this.width*d/(u*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(d){this._uiManager.addCommands(d)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#p}setParent(d){d!==null&&(this.pageIndex=d.pageIndex,this.pageDimensions=d.pageDimensions),this.parent=d}focusin(d){this._focusEventsAllowed&&(this.#r?this.#r=!1:this.parent.setSelected(this))}focusout(d){!this._focusEventsAllowed||!this.isAttachedToDOM||d.relatedTarget?.closest(`#${this.id}`)||(d.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(d,u,c,h){let[g,p]=this.parentDimensions;[c,h]=this.screenToPageTranslation(c,h),this.x=(d+c)/g,this.y=(u+h)/p,this.fixAndSetPosition()}#g([d,u],c,h){[c,h]=this.screenToPageTranslation(c,h),this.x+=c/d,this.y+=h/u,this.fixAndSetPosition()}translate(d,u){this.#g(this.parentDimensions,d,u)}translateInPage(d,u){this.#g(this.pageDimensions,d,u),this.div.scrollIntoView({block:"nearest"})}drag(d,u){let[c,h]=this.parentDimensions;if(this.x+=d/c,this.y+=u/h,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){let{x:m,y:x}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,x)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:g,y:p}=this,[f,v]=this.#m();g+=f,p+=v,this.div.style.left=`${(100*g).toFixed(2)}%`,this.div.style.top=`${(100*p).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#m(){let[d,u]=this.parentDimensions,{_borderLineWidth:c}=s,h=c/d,g=c/u;switch(this.rotation){case 90:return[-h,g];case 180:return[h,g];case 270:return[h,-g];default:return[-h,-g]}}fixAndSetPosition(){let[d,u]=this.pageDimensions,{x:c,y:h,width:g,height:p}=this;switch(g*=d,p*=u,c*=d,h*=u,this.rotation){case 0:c=Math.max(0,Math.min(d-g,c)),h=Math.max(0,Math.min(u-p,h));break;case 90:c=Math.max(0,Math.min(d-p,c)),h=Math.min(u,Math.max(g,h));break;case 180:c=Math.min(d,Math.max(g,c)),h=Math.min(u,Math.max(p,h));break;case 270:c=Math.min(d,Math.max(p,c)),h=Math.max(0,Math.min(u-g,h));break}this.x=c/=d,this.y=h/=u;let[f,v]=this.#m();c+=f,h+=v;let{style:m}=this.div;m.left=`${(100*c).toFixed(2)}%`,m.top=`${(100*h).toFixed(2)}%`,this.moveInDOM()}static#b(d,u,c){switch(c){case 90:return[u,-d];case 180:return[-d,-u];case 270:return[-u,d];default:return[d,u]}}screenToPageTranslation(d,u){return s.#b(d,u,this.parentRotation)}pageTranslationToScreen(d,u){return s.#b(d,u,360-this.parentRotation)}#h(d){switch(d){case 90:{let[u,c]=this.pageDimensions;return[0,-u/c,c/u,0]}case 180:return[-1,0,0,-1];case 270:{let[u,c]=this.pageDimensions;return[0,u/c,-c/u,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){let{parentScale:d,pageDimensions:[u,c]}=this,h=u*d,g=c*d;return r.FeatureTest.isCSSRoundSupported?[Math.round(h),Math.round(g)]:[h,g]}setDims(d,u){let[c,h]=this.parentDimensions;this.div.style.width=`${(100*d/c).toFixed(2)}%`,this.#o||(this.div.style.height=`${(100*u/h).toFixed(2)}%`),this.#n?.classList.toggle("small",d<s.SMALL_EDITOR_SIZE||u<s.SMALL_EDITOR_SIZE)}fixDims(){let{style:d}=this.div,{height:u,width:c}=d,h=c.endsWith("%"),g=!this.#o&&u.endsWith("%");if(h&&g)return;let[p,f]=this.parentDimensions;h||(d.width=`${(100*parseFloat(c)/p).toFixed(2)}%`),!this.#o&&!g&&(d.height=`${(100*parseFloat(u)/f).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#v(){if(this.#s)return;this.#s=document.createElement("div"),this.#s.classList.add("resizers");let d=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||d.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(let u of d){let c=document.createElement("div");this.#s.append(c),c.classList.add("resizer",u),c.addEventListener("pointerdown",this.#C.bind(this,u)),c.addEventListener("contextmenu",o.noContextMenu)}this.div.prepend(this.#s)}#C(d,u){u.preventDefault();let{isMac:c}=r.FeatureTest.platform;if(u.button!==0||u.ctrlKey&&c)return;let h=this.#A.bind(this,d),g=this._isDraggable;this._isDraggable=!1;let p={passive:!0,capture:!0};window.addEventListener("pointermove",h,p);let f=this.x,v=this.y,m=this.width,x=this.height,b=this.parent.div.style.cursor,A=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(u.target).cursor;let _=()=>{this._isDraggable=g,window.removeEventListener("pointerup",_),window.removeEventListener("blur",_),window.removeEventListener("pointermove",h,p),this.parent.div.style.cursor=b,this.div.style.cursor=A;let S=this.x,D=this.y,F=this.width,k=this.height;S===f&&D===v&&F===m&&k===x||this.addCommands({cmd:()=>{this.width=F,this.height=k,this.x=S,this.y=D;let[U,Q]=this.parentDimensions;this.setDims(U*F,Q*k),this.fixAndSetPosition()},undo:()=>{this.width=m,this.height=x,this.x=f,this.y=v;let[U,Q]=this.parentDimensions;this.setDims(U*m,Q*x),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",_),window.addEventListener("blur",_)}#A(d,u){let[c,h]=this.parentDimensions,g=this.x,p=this.y,f=this.width,v=this.height,m=s.MIN_SIZE/c,x=s.MIN_SIZE/h,b=B=>Math.round(B*1e4)/1e4,A=this.#h(this.rotation),_=(B,E)=>[A[0]*B+A[2]*E,A[1]*B+A[3]*E],S=this.#h(360-this.rotation),D=(B,E)=>[S[0]*B+S[2]*E,S[1]*B+S[3]*E],F,k,U=!1,Q=!1;switch(d){case"topLeft":U=!0,F=(B,E)=>[0,0],k=(B,E)=>[B,E];break;case"topMiddle":F=(B,E)=>[B/2,0],k=(B,E)=>[B/2,E];break;case"topRight":U=!0,F=(B,E)=>[B,0],k=(B,E)=>[0,E];break;case"middleRight":Q=!0,F=(B,E)=>[B,E/2],k=(B,E)=>[0,E/2];break;case"bottomRight":U=!0,F=(B,E)=>[B,E],k=(B,E)=>[0,0];break;case"bottomMiddle":F=(B,E)=>[B/2,E],k=(B,E)=>[B/2,0];break;case"bottomLeft":U=!0,F=(B,E)=>[0,E],k=(B,E)=>[B,0];break;case"middleLeft":Q=!0,F=(B,E)=>[0,E/2],k=(B,E)=>[B,E/2];break}let G=F(f,v),K=k(f,v),Y=_(...K),H=b(g+Y[0]),N=b(p+Y[1]),I=1,y=1,[w,C]=this.screenToPageTranslation(u.movementX,u.movementY);if([w,C]=D(w/c,C/h),U){let B=Math.hypot(f,v);I=y=Math.max(Math.min(Math.hypot(K[0]-G[0]-w,K[1]-G[1]-C)/B,1/f,1/v),m/f,x/v)}else Q?I=Math.max(m,Math.min(1,Math.abs(K[0]-G[0]-w)))/f:y=Math.max(x,Math.min(1,Math.abs(K[1]-G[1]-C)))/v;let M=b(f*I),R=b(v*y);Y=_(...k(M,R));let L=H-Y[0],V=N-Y[1];this.width=M,this.height=R,this.x=L,this.y=V,this.setDims(c*M,h*R),this.fixAndSetPosition()}addAltTextButton(){return ae(this,null,function*(){if(this.#n)return;let d=this.#n=document.createElement("button");d.className="altText";let u=yield s._l10nPromise.get("editor_alt_text_button_label");d.textContent=u,d.setAttribute("aria-label",u),d.tabIndex="0",d.addEventListener("contextmenu",o.noContextMenu),d.addEventListener("pointerdown",c=>c.stopPropagation()),d.addEventListener("click",c=>{c.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),d.addEventListener("keydown",c=>{c.target===d&&c.key==="Enter"&&(c.preventDefault(),this._uiManager.editAltText(this))}),this.#w(),this.div.append(d),s.SMALL_EDITOR_SIZE||(s.SMALL_EDITOR_SIZE=Math.min(128,Math.round(d.getBoundingClientRect().width*1.4)))})}#w(){return ae(this,null,function*(){let d=this.#n;if(!d)return;if(!this.#e&&!this.#t){d.classList.remove("done"),this.#i?.remove();return}s._l10nPromise.get("editor_alt_text_edit_button_label").then(c=>{d.setAttribute("aria-label",c)});let u=this.#i;if(!u){this.#i=u=document.createElement("span"),u.className="tooltip",u.setAttribute("role","tooltip");let c=u.id=`alt-text-tooltip-${this.id}`;d.setAttribute("aria-describedby",c);let h=100;d.addEventListener("mouseenter",()=>{this.#a=setTimeout(()=>{this.#a=null,this.#i.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},h)}),d.addEventListener("mouseleave",()=>{clearTimeout(this.#a),this.#a=null,this.#i?.classList.remove("show")})}d.classList.add("done"),u.innerText=this.#t?yield s._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#e,u.parentNode||d.append(u)})}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#e,decorative:this.#t}}set altTextData({altText:d,decorative:u}){this.#e===d&&this.#t===u||(this.#e=d,this.#t=u,this.#w())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#l),this.div.addEventListener("focusout",this.#d);let[d,u]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*u/d).toFixed(2)}%`,this.div.style.maxHeight=`${(100*d/u).toFixed(2)}%`);let[c,h]=this.getInitialTranslation();return this.translate(c,h),(0,n.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(d){let{isMac:u}=r.FeatureTest.platform;if(d.button!==0||d.ctrlKey&&u){d.preventDefault();return}this.#r=!0,this.#x(d)}#x(d){if(!this._isDraggable)return;let u=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let c,h;u&&(c={passive:!0,capture:!0},h=p=>{let[f,v]=this.screenToPageTranslation(p.movementX,p.movementY);this._uiManager.dragSelectedEditors(f,v)},window.addEventListener("pointermove",h,c));let g=()=>{if(window.removeEventListener("pointerup",g),window.removeEventListener("blur",g),u&&window.removeEventListener("pointermove",h,c),this.#r=!1,!this._uiManager.endDragSession()){let{isMac:p}=r.FeatureTest.platform;d.ctrlKey&&!p||d.shiftKey||d.metaKey&&p?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",g),window.addEventListener("blur",g)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(d,u,c){d.changeParent(this),this.x=u,this.y=c,this.fixAndSetPosition()}getRect(d,u){let c=this.parentScale,[h,g]=this.pageDimensions,[p,f]=this.pageTranslation,v=d/c,m=u/c,x=this.x*h,b=this.y*g,A=this.width*h,_=this.height*g;switch(this.rotation){case 0:return[x+v+p,g-b-m-_+f,x+v+A+p,g-b-m+f];case 90:return[x+m+p,g-b+v+f,x+m+_+p,g-b+v+A+f];case 180:return[x-v-A+p,g-b+m+f,x-v+p,g-b+m+_+f];case 270:return[x-m-_+p,g-b-v-A+f,x-m+p,g-b-v+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(d,u){let[c,h,g,p]=d,f=g-c,v=p-h;switch(this.rotation){case 0:return[c,u-p,f,v];case 90:return[c,u-h,v,f];case 180:return[g,u-h,f,v];case 270:return[g,u-p,v,f];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#u=!0}disableEditMode(){this.#u=!1}isInEditMode(){return this.#u}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#l),this.div?.addEventListener("focusout",this.#d)}serialize(d=!1,u=null){(0,r.unreachable)("An editor must be serializable")}static deserialize(d,u,c){let h=new this.prototype.constructor({parent:u,id:u.getNextId(),uiManager:c});h.rotation=d.rotation;let[g,p]=h.pageDimensions,[f,v,m,x]=h.getRectInCurrentCoords(d.rect,p);return h.x=f/g,h.y=v/p,h.width=m/g,h.height=x/p,h}remove(){this.div.removeEventListener("focusin",this.#l),this.div.removeEventListener("focusout",this.#d),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#n?.remove(),this.#n=null,this.#i=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#v(),this.#s.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#s?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(d,u){}disableEditing(){this.#n&&(this.#n.hidden=!0)}enableEditing(){this.#n&&(this.#n.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#c}set isEditing(d){this.#c=d,this.parent&&(d?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(d,u){this.#o=!0;let c=d/u,{style:h}=this.div;h.aspectRatio=c,h.height="auto"}static get MIN_SIZE(){return 16}}e.AnnotationEditor=s;class a extends s{constructor(d){super(d),this.annotationElementId=d.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=o,e.opacityToHex=s;var n=i(1),r=i(6);function o(g,p,f){for(let v of f)p.addEventListener(v,g[v].bind(g))}function s(g){return Math.round(Math.min(255,Math.max(1,255*g))).toString(16).padStart(2,"0")}class a{#e=0;getId(){return`${n.AnnotationEditorPrefix}${this.#e++}`}}class l{#e=(0,n.getUuid)();#t=0;#n=null;static get _isSVGFittingCanvas(){let p='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',v=new OffscreenCanvas(1,3).getContext("2d"),m=new Image;m.src=p;let x=m.decode().then(()=>(v.drawImage(m,0,0,1,1,0,0,1,3),new Uint32Array(v.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,n.shadow)(this,"_isSVGFittingCanvas",x)}#i(p,f){return ae(this,null,function*(){this.#n||=new Map;let v=this.#n.get(p);if(v===null)return null;if(v?.bitmap)return v.refCounter+=1,v;try{v||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let m;if(typeof f=="string"){v.url=f;let x=yield fetch(f);if(!x.ok)throw new Error(x.statusText);m=yield x.blob()}else m=v.file=f;if(m.type==="image/svg+xml"){let x=l._isSVGFittingCanvas,b=new FileReader,A=new Image,_=new Promise((S,D)=>{A.onload=()=>{v.bitmap=A,v.isSvg=!0,S()},b.onload=()=>ae(this,null,function*(){let F=v.svgUrl=b.result;A.src=(yield x)?`${F}#svgView(preserveAspectRatio(none))`:F}),A.onerror=b.onerror=D});b.readAsDataURL(m),yield _}else v.bitmap=yield createImageBitmap(m);v.refCounter=1}catch(m){console.error(m),v=null}return this.#n.set(p,v),v&&this.#n.set(v.id,v),v})}getFromFile(p){return ae(this,null,function*(){let{lastModified:f,name:v,size:m,type:x}=p;return this.#i(`${f}_${v}_${m}_${x}`,p)})}getFromUrl(p){return ae(this,null,function*(){return this.#i(p,p)})}getFromId(p){return ae(this,null,function*(){this.#n||=new Map;let f=this.#n.get(p);return f?f.bitmap?(f.refCounter+=1,f):f.file?this.getFromFile(f.file):this.getFromUrl(f.url):null})}getSvgUrl(p){let f=this.#n.get(p);return f?.isSvg?f.svgUrl:null}deleteId(p){this.#n||=new Map;let f=this.#n.get(p);f&&(f.refCounter-=1,f.refCounter===0&&(f.bitmap=null))}isValidId(p){return p.startsWith(`image_${this.#e}_`)}}class d{#e=[];#t=!1;#n;#i=-1;constructor(p=128){this.#n=p}add({cmd:p,undo:f,mustExec:v,type:m=NaN,overwriteIfSameType:x=!1,keepUndo:b=!1}){if(v&&p(),this.#t)return;let A={cmd:p,undo:f,type:m};if(this.#i===-1){this.#e.length>0&&(this.#e.length=0),this.#i=0,this.#e.push(A);return}if(x&&this.#e[this.#i].type===m){b&&(A.undo=this.#e[this.#i].undo),this.#e[this.#i]=A;return}let _=this.#i+1;_===this.#n?this.#e.splice(0,1):(this.#i=_,_<this.#e.length&&this.#e.splice(_)),this.#e.push(A)}undo(){this.#i!==-1&&(this.#t=!0,this.#e[this.#i].undo(),this.#t=!1,this.#i-=1)}redo(){this.#i<this.#e.length-1&&(this.#i+=1,this.#t=!0,this.#e[this.#i].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#e.length-1}destroy(){this.#e=null}}e.CommandManager=d;class u{constructor(p){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let{isMac:f}=n.FeatureTest.platform;for(let[v,m,x={}]of p)for(let b of v){let A=b.startsWith("mac+");f&&A?(this.callbacks.set(b.slice(4),{callback:m,options:x}),this.allKeys.add(b.split("+").at(-1))):!f&&!A&&(this.callbacks.set(b,{callback:m,options:x}),this.allKeys.add(b.split("+").at(-1)))}}#e(p){p.altKey&&this.buffer.push("alt"),p.ctrlKey&&this.buffer.push("ctrl"),p.metaKey&&this.buffer.push("meta"),p.shiftKey&&this.buffer.push("shift"),this.buffer.push(p.key);let f=this.buffer.join("+");return this.buffer.length=0,f}exec(p,f){if(!this.allKeys.has(f.key))return;let v=this.callbacks.get(this.#e(f));if(!v)return;let{callback:m,options:{bubbles:x=!1,args:b=[],checker:A=null}}=v;A&&!A(p,f)||(m.bind(p,...b)(),x||(f.stopPropagation(),f.preventDefault()))}}e.KeyboardManager=u;class c{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){let p=new Map([["CanvasText",null],["Canvas",null]]);return(0,r.getColorValues)(p),(0,n.shadow)(this,"_colors",p)}convert(p){let f=(0,r.getRGB)(p);if(!window.matchMedia("(forced-colors: active)").matches)return f;for(let[v,m]of this._colors)if(m.every((x,b)=>x===f[b]))return c._colorsMapping.get(v);return f}getHexCode(p){let f=this._colors.get(p);return f?n.Util.makeHexColor(...f):p}}e.ColorManager=c;let h=(()=>{class g{#e=null;#t=new Map;#n=new Map;#i=null;#a=null;#o=new d;#s=0;#l=new Set;#d=null;#r=null;#c=new Set;#u=null;#f=new a;#p=!1;#g=!1;#m=null;#b=n.AnnotationEditorType.NONE;#h=new Set;#v=null;#C=this.blur.bind(this);#A=this.focus.bind(this);#w=this.copy.bind(this);#x=this.cut.bind(this);#k=this.paste.bind(this);#F=this.keydown.bind(this);#R=this.onEditingAction.bind(this);#y=this.onPageChanging.bind(this);#D=this.onScaleChanging.bind(this);#I=this.onRotationChanging.bind(this);#T={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#_=[0,0];#S=null;#M=null;#N=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){let f=g.prototype,v=b=>{let{activeElement:A}=document;return A&&b.#M.contains(A)&&b.hasSomethingToControl()},m=this.TRANSLATE_SMALL,x=this.TRANSLATE_BIG;return(0,n.shadow)(this,"_keyboardManager",new u([[["ctrl+a","mac+meta+a"],f.selectAll],[["ctrl+z","mac+meta+z"],f.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],f.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],f.delete],[["Escape","mac+Escape"],f.unselectAll],[["ArrowLeft","mac+ArrowLeft"],f.translateSelectedEditors,{args:[-m,0],checker:v}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],f.translateSelectedEditors,{args:[-x,0],checker:v}],[["ArrowRight","mac+ArrowRight"],f.translateSelectedEditors,{args:[m,0],checker:v}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],f.translateSelectedEditors,{args:[x,0],checker:v}],[["ArrowUp","mac+ArrowUp"],f.translateSelectedEditors,{args:[0,-m],checker:v}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],f.translateSelectedEditors,{args:[0,-x],checker:v}],[["ArrowDown","mac+ArrowDown"],f.translateSelectedEditors,{args:[0,m],checker:v}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],f.translateSelectedEditors,{args:[0,x],checker:v}]]))}constructor(f,v,m,x,b,A){this.#M=f,this.#N=v,this.#i=m,this._eventBus=x,this._eventBus._on("editingaction",this.#R),this._eventBus._on("pagechanging",this.#y),this._eventBus._on("scalechanging",this.#D),this._eventBus._on("rotationchanging",this.#I),this.#a=b.annotationStorage,this.#u=b.filterFactory,this.#v=A,this.viewParameters={realScale:r.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#L(),this.#V(),this._eventBus._off("editingaction",this.#R),this._eventBus._off("pagechanging",this.#y),this._eventBus._off("scalechanging",this.#D),this._eventBus._off("rotationchanging",this.#I);for(let f of this.#n.values())f.destroy();this.#n.clear(),this.#t.clear(),this.#c.clear(),this.#e=null,this.#h.clear(),this.#o.destroy(),this.#i.destroy()}get hcmFilter(){return(0,n.shadow)(this,"hcmFilter",this.#v?this.#u.addHCMFilter(this.#v.foreground,this.#v.background):"none")}get direction(){return(0,n.shadow)(this,"direction",getComputedStyle(this.#M).direction)}editAltText(f){this.#i?.editAltText(this,f)}onPageChanging({pageNumber:f}){this.#s=f-1}focusMainContainer(){this.#M.focus()}findParent(f,v){for(let m of this.#n.values()){let{x,y:b,width:A,height:_}=m.div.getBoundingClientRect();if(f>=x&&f<=x+A&&v>=b&&v<=b+_)return m}return null}disableUserSelect(f=!1){this.#N.classList.toggle("noUserSelect",f)}addShouldRescale(f){this.#c.add(f)}removeShouldRescale(f){this.#c.delete(f)}onScaleChanging({scale:f}){this.commitOrRemove(),this.viewParameters.realScale=f*r.PixelsPerInch.PDF_TO_CSS_UNITS;for(let v of this.#c)v.onScaleChanging()}onRotationChanging({pagesRotation:f}){this.commitOrRemove(),this.viewParameters.rotation=f}addToAnnotationStorage(f){!f.isEmpty()&&this.#a&&!this.#a.has(f.id)&&this.#a.setValue(f.id,f)}#B(){window.addEventListener("focus",this.#A),window.addEventListener("blur",this.#C)}#V(){window.removeEventListener("focus",this.#A),window.removeEventListener("blur",this.#C)}blur(){if(!this.hasSelection)return;let{activeElement:f}=document;for(let v of this.#h)if(v.div.contains(f)){this.#m=[v,f],v._focusEventsAllowed=!1;break}}focus(){if(!this.#m)return;let[f,v]=this.#m;this.#m=null,v.addEventListener("focusin",()=>{f._focusEventsAllowed=!0},{once:!0}),v.focus()}#j(){window.addEventListener("keydown",this.#F,{capture:!0})}#L(){window.removeEventListener("keydown",this.#F,{capture:!0})}#O(){document.addEventListener("copy",this.#w),document.addEventListener("cut",this.#x),document.addEventListener("paste",this.#k)}#P(){document.removeEventListener("copy",this.#w),document.removeEventListener("cut",this.#x),document.removeEventListener("paste",this.#k)}addEditListeners(){this.#j(),this.#O()}removeEditListeners(){this.#L(),this.#P()}copy(f){if(f.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;let v=[];for(let m of this.#h){let x=m.serialize(!0);x&&v.push(x)}v.length!==0&&f.clipboardData.setData("application/pdfjs",JSON.stringify(v))}cut(f){this.copy(f),this.delete()}paste(f){f.preventDefault();let{clipboardData:v}=f;for(let b of v.items)for(let A of this.#r)if(A.isHandlingMimeForPasting(b.type)){A.paste(b,this.currentLayer);return}let m=v.getData("application/pdfjs");if(!m)return;try{m=JSON.parse(m)}catch(b){(0,n.warn)(`paste: "${b.message}".`);return}if(!Array.isArray(m))return;this.unselectAll();let x=this.currentLayer;try{let b=[];for(let S of m){let D=x.deserialize(S);if(!D)return;b.push(D)}let A=()=>{for(let S of b)this.#z(S);this.#G(b)},_=()=>{for(let S of b)S.remove()};this.addCommands({cmd:A,undo:_,mustExec:!0})}catch(b){(0,n.warn)(`paste: "${b.message}".`)}}keydown(f){this.getActive()?.shouldGetKeyboardEvents()||g._keyboardManager.exec(this,f)}onEditingAction(f){["undo","redo","delete","selectAll"].includes(f.name)&&this[f.name]()}#E(f){Object.entries(f).some(([m,x])=>this.#T[m]!==x)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#T,f)})}#H(f){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:f})}setEditingState(f){f?(this.#B(),this.#j(),this.#O(),this.#E({isEditing:this.#b!==n.AnnotationEditorType.NONE,isEmpty:this.#U(),hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:this.#o.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#V(),this.#L(),this.#P(),this.#E({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(f){if(!this.#r){this.#r=f;for(let v of this.#r)this.#H(v.defaultPropertiesToUpdate)}}getId(){return this.#f.getId()}get currentLayer(){return this.#n.get(this.#s)}getLayer(f){return this.#n.get(f)}get currentPageIndex(){return this.#s}addLayer(f){this.#n.set(f.pageIndex,f),this.#p?f.enable():f.disable()}removeLayer(f){this.#n.delete(f.pageIndex)}updateMode(f,v=null){if(this.#b!==f){if(this.#b=f,f===n.AnnotationEditorType.NONE){this.setEditingState(!1),this.#Q();return}this.setEditingState(!0),this.#W(),this.unselectAll();for(let m of this.#n.values())m.updateMode(f);if(v){for(let m of this.#t.values())if(m.annotationElementId===v){this.setSelected(m),m.enterInEditMode();break}}}}updateToolbar(f){f!==this.#b&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:f})}updateParams(f,v){if(this.#r){if(f===n.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(f);return}for(let m of this.#h)m.updateParams(f,v);for(let m of this.#r)m.updateDefaultParams(f,v)}}enableWaiting(f=!1){if(this.#g!==f){this.#g=f;for(let v of this.#n.values())f?v.disableClick():v.enableClick(),v.div.classList.toggle("waiting",f)}}#W(){if(!this.#p){this.#p=!0;for(let f of this.#n.values())f.enable()}}#Q(){if(this.unselectAll(),this.#p){this.#p=!1;for(let f of this.#n.values())f.disable()}}getEditors(f){let v=[];for(let m of this.#t.values())m.pageIndex===f&&v.push(m);return v}getEditor(f){return this.#t.get(f)}addEditor(f){this.#t.set(f.id,f)}removeEditor(f){this.#t.delete(f.id),this.unselect(f),(!f.annotationElementId||!this.#l.has(f.annotationElementId))&&this.#a?.remove(f.id)}addDeletedAnnotationElement(f){this.#l.add(f.annotationElementId),f.deleted=!0}isDeletedAnnotationElement(f){return this.#l.has(f)}removeDeletedAnnotationElement(f){this.#l.delete(f.annotationElementId),f.deleted=!1}#z(f){let v=this.#n.get(f.pageIndex);v?v.addOrRebuild(f):this.addEditor(f)}setActiveEditor(f){this.#e!==f&&(this.#e=f,f&&this.#H(f.propertiesToUpdate))}toggleSelected(f){if(this.#h.has(f)){this.#h.delete(f),f.unselect(),this.#E({hasSelectedEditor:this.hasSelection});return}this.#h.add(f),f.select(),this.#H(f.propertiesToUpdate),this.#E({hasSelectedEditor:!0})}setSelected(f){for(let v of this.#h)v!==f&&v.unselect();this.#h.clear(),this.#h.add(f),f.select(),this.#H(f.propertiesToUpdate),this.#E({hasSelectedEditor:!0})}isSelected(f){return this.#h.has(f)}unselect(f){f.unselect(),this.#h.delete(f),this.#E({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#h.size!==0}undo(){this.#o.undo(),this.#E({hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#U()})}redo(){this.#o.redo(),this.#E({hasSomethingToUndo:!0,hasSomethingToRedo:this.#o.hasSomethingToRedo(),isEmpty:this.#U()})}addCommands(f){this.#o.add(f),this.#E({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#U()})}#U(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(let f of this.#t.values())return f.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;let f=[...this.#h],v=()=>{for(let x of f)x.remove()},m=()=>{for(let x of f)this.#z(x)};this.addCommands({cmd:v,undo:m,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#G(f){this.#h.clear();for(let v of f)v.isEmpty()||(this.#h.add(v),v.select());this.#E({hasSelectedEditor:!0})}selectAll(){for(let f of this.#h)f.commit();this.#G(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.hasSelection){for(let f of this.#h)f.unselect();this.#h.clear(),this.#E({hasSelectedEditor:!1})}}translateSelectedEditors(f,v,m=!1){if(m||this.commitOrRemove(),!this.hasSelection)return;this.#_[0]+=f,this.#_[1]+=v;let[x,b]=this.#_,A=[...this.#h],_=1e3;this.#S&&clearTimeout(this.#S),this.#S=setTimeout(()=>{this.#S=null,this.#_[0]=this.#_[1]=0,this.addCommands({cmd:()=>{for(let S of A)this.#t.has(S.id)&&S.translateInPage(x,b)},undo:()=>{for(let S of A)this.#t.has(S.id)&&S.translateInPage(-x,-b)},mustExec:!1})},_);for(let S of A)S.translateInPage(f,v)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#d=new Map;for(let f of this.#h)this.#d.set(f,{savedX:f.x,savedY:f.y,savedPageIndex:f.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#d)return!1;this.disableUserSelect(!1);let f=this.#d;this.#d=null;let v=!1;for(let[{x,y:b,pageIndex:A},_]of f)_.newX=x,_.newY=b,_.newPageIndex=A,v||=x!==_.savedX||b!==_.savedY||A!==_.savedPageIndex;if(!v)return!1;let m=(x,b,A,_)=>{if(this.#t.has(x.id)){let S=this.#n.get(_);S?x._setParentAndPosition(S,b,A):(x.pageIndex=_,x.x=b,x.y=A)}};return this.addCommands({cmd:()=>{for(let[x,{newX:b,newY:A,newPageIndex:_}]of f)m(x,b,A,_)},undo:()=>{for(let[x,{savedX:b,savedY:A,savedPageIndex:_}]of f)m(x,b,A,_)},mustExec:!0}),!0}dragSelectedEditors(f,v){if(this.#d)for(let m of this.#d.keys())m.drag(f,v)}rebuild(f){if(f.parent===null){let v=this.getLayer(f.pageIndex);v?(v.changeParent(f),v.addOrRebuild(f)):(this.addEditor(f),this.addToAnnotationStorage(f),f.rebuild())}else f.parent.addOrRebuild(f)}isActive(f){return this.#e===f}getActive(){return this.#e}getMode(){return this.#b}get imageManager(){return(0,n.shadow)(this,"imageManager",new l)}}return g})();e.AnnotationEditorUIManager=h},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMFilterFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=void 0,e.deprecated=D,e.getColorValues=G,e.getCurrentTransform=K,e.getCurrentTransformInverse=Y,e.getFilenameFromUrl=m,e.getPdfFilenameFromUrl=x,e.getRGB=Q,e.getXfaPageViewport=U,e.isDataScheme=f,e.isPdfFile=v,e.isValidFetchUrl=A,e.loadScript=S,e.noContextMenu=_,e.setLayerDimensions=H;var n=i(7),r=i(1);let o="http://www.w3.org/2000/svg";class s{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}e.PixelsPerInch=s;class a extends n.BaseFilterFactory{#e;#t;#n;#i;#a;#o;#s;#l;#d;#r;#c=0;constructor({docId:I,ownerDocument:y=globalThis.document}={}){super(),this.#n=I,this.#i=y}get#u(){return this.#e||=new Map}get#f(){if(!this.#t){let I=this.#i.createElement("div"),{style:y}=I;y.visibility="hidden",y.contain="strict",y.width=y.height=0,y.position="absolute",y.top=y.left=0,y.zIndex=-1;let w=this.#i.createElementNS(o,"svg");w.setAttribute("width",0),w.setAttribute("height",0),this.#t=this.#i.createElementNS(o,"defs"),I.append(w),w.append(this.#t),this.#i.body.append(I)}return this.#t}addFilter(I){if(!I)return"none";let y=this.#u.get(I);if(y)return y;let w,C,M,R;if(I.length===1){let E=I[0],T=new Array(256);for(let P=0;P<256;P++)T[P]=E[P]/255;R=w=C=M=T.join(",")}else{let[E,T,P]=I,O=new Array(256),j=new Array(256),z=new Array(256);for(let q=0;q<256;q++)O[q]=E[q]/255,j[q]=T[q]/255,z[q]=P[q]/255;w=O.join(","),C=j.join(","),M=z.join(","),R=`${w}${C}${M}`}if(y=this.#u.get(R),y)return this.#u.set(I,y),y;let L=`g_${this.#n}_transfer_map_${this.#c++}`,V=`url(#${L})`;this.#u.set(I,V),this.#u.set(R,V);let B=this.#g(L);return this.#b(w,C,M,B),V}addHCMFilter(I,y){let w=`${I}-${y}`;if(this.#o===w)return this.#s;if(this.#o=w,this.#s="none",this.#a?.remove(),!I||!y)return this.#s;let C=this.#h(I);I=r.Util.makeHexColor(...C);let M=this.#h(y);if(y=r.Util.makeHexColor(...M),this.#f.style.color="",I==="#000000"&&y==="#ffffff"||I===y)return this.#s;let R=new Array(256);for(let T=0;T<=255;T++){let P=T/255;R[T]=P<=.03928?P/12.92:((P+.055)/1.055)**2.4}let L=R.join(","),V=`g_${this.#n}_hcm_filter`,B=this.#l=this.#g(V);this.#b(L,L,L,B),this.#p(B);let E=(T,P)=>{let O=C[T]/255,j=M[T]/255,z=new Array(P+1);for(let q=0;q<=P;q++)z[q]=O+q/P*(j-O);return z.join(",")};return this.#b(E(0,5),E(1,5),E(2,5),B),this.#s=`url(#${V})`,this.#s}addHighlightHCMFilter(I,y,w,C){let M=`${I}-${y}-${w}-${C}`;if(this.#d===M)return this.#r;if(this.#d=M,this.#r="none",this.#l?.remove(),!I||!y)return this.#r;let[R,L]=[I,y].map(this.#h.bind(this)),V=Math.round(.2126*R[0]+.7152*R[1]+.0722*R[2]),B=Math.round(.2126*L[0]+.7152*L[1]+.0722*L[2]),[E,T]=[w,C].map(this.#h.bind(this));B<V&&([V,B,E,T]=[B,V,T,E]),this.#f.style.color="";let P=(z,q,ne)=>{let X=new Array(256),W=(B-V)/ne,$=z/255,Z=(q-z)/(255*ne),J=0;for(let ie=0;ie<=ne;ie++){let de=Math.round(V+ie*W),ge=$+ie*Z;for(let be=J;be<=de;be++)X[be]=ge;J=de+1}for(let ie=J;ie<256;ie++)X[ie]=X[J-1];return X.join(",")},O=`g_${this.#n}_hcm_highlight_filter`,j=this.#l=this.#g(O);return this.#p(j),this.#b(P(E[0],T[0],5),P(E[1],T[1],5),P(E[2],T[2],5),j),this.#r=`url(#${O})`,this.#r}destroy(I=!1){I&&(this.#s||this.#r)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#c=0)}#p(I){let y=this.#i.createElementNS(o,"feColorMatrix");y.setAttribute("type","matrix"),y.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),I.append(y)}#g(I){let y=this.#i.createElementNS(o,"filter");return y.setAttribute("color-interpolation-filters","sRGB"),y.setAttribute("id",I),this.#f.append(y),y}#m(I,y,w){let C=this.#i.createElementNS(o,y);C.setAttribute("type","discrete"),C.setAttribute("tableValues",w),I.append(C)}#b(I,y,w,C){let M=this.#i.createElementNS(o,"feComponentTransfer");C.append(M),this.#m(M,"feFuncR",I),this.#m(M,"feFuncG",y),this.#m(M,"feFuncB",w)}#h(I){return this.#f.style.color=I,Q(getComputedStyle(this.#f).getPropertyValue("color"))}}e.DOMFilterFactory=a;class l extends n.BaseCanvasFactory{constructor({ownerDocument:I=globalThis.document}={}){super(),this._document=I}_createCanvas(I,y){let w=this._document.createElement("canvas");return w.width=I,w.height=y,w}}e.DOMCanvasFactory=l;function d(N,I=!1){return ae(this,null,function*(){if(A(N,document.baseURI)){let y=yield fetch(N);if(!y.ok)throw new Error(y.statusText);return I?new Uint8Array(yield y.arrayBuffer()):(0,r.stringToBytes)(yield y.text())}return new Promise((y,w)=>{let C=new XMLHttpRequest;C.open("GET",N,!0),I&&(C.responseType="arraybuffer"),C.onreadystatechange=()=>{if(C.readyState===XMLHttpRequest.DONE){if(C.status===200||C.status===0){let M;if(I&&C.response?M=new Uint8Array(C.response):!I&&C.responseText&&(M=(0,r.stringToBytes)(C.responseText)),M){y(M);return}}w(new Error(C.statusText))}},C.send(null)})})}class u extends n.BaseCMapReaderFactory{_fetchData(I,y){return d(I,this.isCompressed).then(w=>({cMapData:w,compressionType:y}))}}e.DOMCMapReaderFactory=u;class c extends n.BaseStandardFontDataFactory{_fetchData(I){return d(I,!0)}}e.DOMStandardFontDataFactory=c;class h extends n.BaseSVGFactory{_createSVG(I){return document.createElementNS(o,I)}}e.DOMSVGFactory=h;class g{constructor({viewBox:I,scale:y,rotation:w,offsetX:C=0,offsetY:M=0,dontFlip:R=!1}){this.viewBox=I,this.scale=y,this.rotation=w,this.offsetX=C,this.offsetY=M;let L=(I[2]+I[0])/2,V=(I[3]+I[1])/2,B,E,T,P;switch(w%=360,w<0&&(w+=360),w){case 180:B=-1,E=0,T=0,P=1;break;case 90:B=0,E=1,T=1,P=0;break;case 270:B=0,E=-1,T=-1,P=0;break;case 0:B=1,E=0,T=0,P=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}R&&(T=-T,P=-P);let O,j,z,q;B===0?(O=Math.abs(V-I[1])*y+C,j=Math.abs(L-I[0])*y+M,z=(I[3]-I[1])*y,q=(I[2]-I[0])*y):(O=Math.abs(L-I[0])*y+C,j=Math.abs(V-I[1])*y+M,z=(I[2]-I[0])*y,q=(I[3]-I[1])*y),this.transform=[B*y,E*y,T*y,P*y,O-B*y*L-T*y*V,j-E*y*L-P*y*V],this.width=z,this.height=q}get rawDims(){let{viewBox:I}=this;return(0,r.shadow)(this,"rawDims",{pageWidth:I[2]-I[0],pageHeight:I[3]-I[1],pageX:I[0],pageY:I[1]})}clone({scale:I=this.scale,rotation:y=this.rotation,offsetX:w=this.offsetX,offsetY:C=this.offsetY,dontFlip:M=!1}={}){return new g({viewBox:this.viewBox.slice(),scale:I,rotation:y,offsetX:w,offsetY:C,dontFlip:M})}convertToViewportPoint(I,y){return r.Util.applyTransform([I,y],this.transform)}convertToViewportRectangle(I){let y=r.Util.applyTransform([I[0],I[1]],this.transform),w=r.Util.applyTransform([I[2],I[3]],this.transform);return[y[0],y[1],w[0],w[1]]}convertToPdfPoint(I,y){return r.Util.applyInverseTransform([I,y],this.transform)}}e.PageViewport=g;class p extends r.BaseException{constructor(I,y=0){super(I,"RenderingCancelledException"),this.extraDelay=y}}e.RenderingCancelledException=p;function f(N){let I=N.length,y=0;for(;y<I&&N[y].trim()==="";)y++;return N.substring(y,y+5).toLowerCase()==="data:"}function v(N){return typeof N=="string"&&/\.pdf$/i.test(N)}function m(N,I=!1){return I||([N]=N.split(/[#?]/,1)),N.substring(N.lastIndexOf("/")+1)}function x(N,I="document.pdf"){if(typeof N!="string")return I;if(f(N))return(0,r.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),I;let y=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,w=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,C=y.exec(N),M=w.exec(C[1])||w.exec(C[2])||w.exec(C[3]);if(M&&(M=M[0],M.includes("%")))try{M=w.exec(decodeURIComponent(M))[0]}catch{}return M||I}class b{started=Object.create(null);times=[];time(I){I in this.started&&(0,r.warn)(`Timer is already running for ${I}`),this.started[I]=Date.now()}timeEnd(I){I in this.started||(0,r.warn)(`Timer has not been started for ${I}`),this.times.push({name:I,start:this.started[I],end:Date.now()}),delete this.started[I]}toString(){let I=[],y=0;for(let{name:w}of this.times)y=Math.max(w.length,y);for(let{name:w,start:C,end:M}of this.times)I.push(`${w.padEnd(y)} ${M-C}ms
`);return I.join("")}}e.StatTimer=b;function A(N,I){try{let{protocol:y}=I?new URL(N,I):new URL(N);return y==="http:"||y==="https:"}catch{return!1}}function _(N){N.preventDefault()}function S(N,I=!1){return new Promise((y,w)=>{let C=document.createElement("script");C.src=N,C.onload=function(M){I&&C.remove(),y(M)},C.onerror=function(){w(new Error(`Cannot load script at: ${C.src}`))},(document.head||document.documentElement).append(C)})}function D(N){console.log("Deprecated API usage: "+N)}let F;class k{static toDateObject(I){if(!I||typeof I!="string")return null;F||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");let y=F.exec(I);if(!y)return null;let w=parseInt(y[1],10),C=parseInt(y[2],10);C=C>=1&&C<=12?C-1:0;let M=parseInt(y[3],10);M=M>=1&&M<=31?M:1;let R=parseInt(y[4],10);R=R>=0&&R<=23?R:0;let L=parseInt(y[5],10);L=L>=0&&L<=59?L:0;let V=parseInt(y[6],10);V=V>=0&&V<=59?V:0;let B=y[7]||"Z",E=parseInt(y[8],10);E=E>=0&&E<=23?E:0;let T=parseInt(y[9],10)||0;return T=T>=0&&T<=59?T:0,B==="-"?(R+=E,L+=T):B==="+"&&(R-=E,L-=T),new Date(Date.UTC(w,C,M,R,L,V))}}e.PDFDateString=k;function U(N,{scale:I=1,rotation:y=0}){let{width:w,height:C}=N.attributes.style,M=[0,0,parseInt(w),parseInt(C)];return new g({viewBox:M,scale:I,rotation:y})}function Q(N){if(N.startsWith("#")){let I=parseInt(N.slice(1),16);return[(I&16711680)>>16,(I&65280)>>8,I&255]}return N.startsWith("rgb(")?N.slice(4,-1).split(",").map(I=>parseInt(I)):N.startsWith("rgba(")?N.slice(5,-1).split(",").map(I=>parseInt(I)).slice(0,3):((0,r.warn)(`Not a valid color format: "${N}"`),[0,0,0])}function G(N){let I=document.createElement("span");I.style.visibility="hidden",document.body.append(I);for(let y of N.keys()){I.style.color=y;let w=window.getComputedStyle(I).color;N.set(y,Q(w))}I.remove()}function K(N){let{a:I,b:y,c:w,d:C,e:M,f:R}=N.getTransform();return[I,y,w,C,M,R]}function Y(N){let{a:I,b:y,c:w,d:C,e:M,f:R}=N.getTransform().invertSelf();return[I,y,w,C,M,R]}function H(N,I,y=!1,w=!0){if(I instanceof g){let{pageWidth:C,pageHeight:M}=I.rawDims,{style:R}=N,L=r.FeatureTest.isCSSRoundSupported,V=`var(--scale-factor) * ${C}px`,B=`var(--scale-factor) * ${M}px`,E=L?`round(${V}, 1px)`:`calc(${V})`,T=L?`round(${B}, 1px)`:`calc(${B})`;!y||I.rotation%180===0?(R.width=E,R.height=T):(R.width=T,R.height=E)}w&&N.setAttribute("data-main-rotation",I.rotation)}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseFilterFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var n=i(1);class r{constructor(){this.constructor===r&&(0,n.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(u){return"none"}addHCMFilter(u,c){return"none"}addHighlightHCMFilter(u,c,h,g){return"none"}destroy(u=!1){}}e.BaseFilterFactory=r;class o{constructor(){this.constructor===o&&(0,n.unreachable)("Cannot initialize BaseCanvasFactory.")}create(u,c){if(u<=0||c<=0)throw new Error("Invalid canvas size");let h=this._createCanvas(u,c);return{canvas:h,context:h.getContext("2d")}}reset(u,c,h){if(!u.canvas)throw new Error("Canvas is not specified");if(c<=0||h<=0)throw new Error("Invalid canvas size");u.canvas.width=c,u.canvas.height=h}destroy(u){if(!u.canvas)throw new Error("Canvas is not specified");u.canvas.width=0,u.canvas.height=0,u.canvas=null,u.context=null}_createCanvas(u,c){(0,n.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=o;class s{constructor({baseUrl:u=null,isCompressed:c=!0}){this.constructor===s&&(0,n.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=u,this.isCompressed=c}fetch(c){return ae(this,arguments,function*({name:u}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!u)throw new Error("CMap name must be specified.");let h=this.baseUrl+u+(this.isCompressed?".bcmap":""),g=this.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE;return this._fetchData(h,g).catch(p=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${h}`)})})}_fetchData(u,c){(0,n.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=s;class a{constructor({baseUrl:u=null}){this.constructor===a&&(0,n.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=u}fetch(c){return ae(this,arguments,function*({filename:u}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!u)throw new Error("Font filename must be specified.");let h=`${this.baseUrl}${u}`;return this._fetchData(h).catch(g=>{throw new Error(`Unable to load font data at: ${h}`)})})}_fetchData(u){(0,n.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=a;class l{constructor(){this.constructor===l&&(0,n.unreachable)("Cannot initialize BaseSVGFactory.")}create(u,c,h=!1){if(u<=0||c<=0)throw new Error("Invalid SVG dimensions");let g=this._createSVG("svg:svg");return g.setAttribute("version","1.1"),h||(g.setAttribute("width",`${u}px`),g.setAttribute("height",`${c}px`)),g.setAttribute("preserveAspectRatio","none"),g.setAttribute("viewBox",`0 0 ${u} ${c}`),g}createElement(u){if(typeof u!="string")throw new Error("Invalid SVG element type");return this._createSVG(u)}_createSVG(u){(0,n.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=l},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var n=i(1);let r=3285377520,o=4294901760,s=65535;class a{constructor(d){this.h1=d?d&4294967295:r,this.h2=d?d&4294967295:r}update(d){let u,c;if(typeof d=="string"){u=new Uint8Array(d.length*2),c=0;for(let D=0,F=d.length;D<F;D++){let k=d.charCodeAt(D);k<=255?u[c++]=k:(u[c++]=k>>>8,u[c++]=k&255)}}else if((0,n.isArrayBuffer)(d))u=d.slice(),c=u.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");let h=c>>2,g=c-h*4,p=new Uint32Array(u.buffer,0,h),f=0,v=0,m=this.h1,x=this.h2,b=3432918353,A=461845907,_=b&s,S=A&s;for(let D=0;D<h;D++)D&1?(f=p[D],f=f*b&o|f*_&s,f=f<<15|f>>>17,f=f*A&o|f*S&s,m^=f,m=m<<13|m>>>19,m=m*5+3864292196):(v=p[D],v=v*b&o|v*_&s,v=v<<15|v>>>17,v=v*A&o|v*S&s,x^=v,x=x<<13|x>>>19,x=x*5+3864292196);switch(f=0,g){case 3:f^=u[h*4+2]<<16;case 2:f^=u[h*4+1]<<8;case 1:f^=u[h*4],f=f*b&o|f*_&s,f=f<<15|f>>>17,f=f*A&o|f*S&s,h&1?m^=f:x^=f}this.h1=m,this.h2=x}hexdigest(){let d=this.h1,u=this.h2;return d^=u>>>1,d=d*3981806797&o|d*36045&s,u=u*4283543511&o|((u<<16|d>>>16)*2950163797&o)>>>16,d^=u>>>1,d=d*444984403&o|d*60499&s,u=u*3301882366&o|((u<<16|d>>>16)*3120437893&o)>>>16,d^=u>>>1,(d>>>0).toString(16).padStart(8,"0")+(u>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=a},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var n=i(1);class r{#e=new Set;constructor({ownerDocument:a=globalThis.document,styleElement:l=null}){this._document=a,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(a){this.nativeFontFaces.add(a),this._document.fonts.add(a)}removeNativeFontFace(a){this.nativeFontFaces.delete(a),this._document.fonts.delete(a)}insertRule(a){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));let l=this.styleElement.sheet;l.insertRule(a,l.cssRules.length)}clear(){for(let a of this.nativeFontFaces)this._document.fonts.delete(a);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont(a){return ae(this,null,function*(){if(!(!a||this.#e.has(a.loadedName))){if((0,n.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){let{loadedName:l,src:d,style:u}=a,c=new FontFace(l,d,u);this.addNativeFontFace(c);try{yield c.load(),this.#e.add(l)}catch{(0,n.warn)(`Cannot load system font: ${a.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}(0,n.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}})}bind(a){return ae(this,null,function*(){if(a.attached||a.missingFile&&!a.systemFontInfo)return;if(a.attached=!0,a.systemFontInfo){yield this.loadSystemFont(a.systemFontInfo);return}if(this.isFontLoadingAPISupported){let d=a.createNativeFontFace();if(d){this.addNativeFontFace(d);try{yield d.loaded}catch(u){throw(0,n.warn)(`Failed to load font '${d.family}': '${u}'.`),a.disableFontFace=!0,u}}return}let l=a.createFontFaceRule();if(l){if(this.insertRule(l),this.isSyncFontLoadingSupported)return;yield new Promise(d=>{let u=this._queueLoadingCallback(d);this._prepareFontLoadEvent(a,u)})}})}get isFontLoadingAPISupported(){let a=!!this._document?.fonts;return(0,n.shadow)(this,"isFontLoadingAPISupported",a)}get isSyncFontLoadingSupported(){let a=!1;return(n.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(a=!0),(0,n.shadow)(this,"isSyncFontLoadingSupported",a)}_queueLoadingCallback(a){function l(){for((0,n.assert)(!u.done,"completeRequest() cannot be called twice."),u.done=!0;d.length>0&&d[0].done;){let c=d.shift();setTimeout(c.callback,0)}}let{loadingRequests:d}=this,u={done:!1,complete:l,callback:a};return d.push(u),u}get _loadTestFont(){let a=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,n.shadow)(this,"_loadTestFont",a)}_prepareFontLoadEvent(a,l){function d(U,Q){return U.charCodeAt(Q)<<24|U.charCodeAt(Q+1)<<16|U.charCodeAt(Q+2)<<8|U.charCodeAt(Q+3)&255}function u(U,Q,G,K){let Y=U.substring(0,Q),H=U.substring(Q+G);return Y+K+H}let c,h,g=this._document.createElement("canvas");g.width=1,g.height=1;let p=g.getContext("2d"),f=0;function v(U,Q){if(++f>30){(0,n.warn)("Load test font never loaded."),Q();return}if(p.font="30px "+U,p.fillText(".",0,20),p.getImageData(0,0,1,1).data[3]>0){Q();return}setTimeout(v.bind(null,U,Q))}let m=`lt${Date.now()}${this.loadTestFontId++}`,x=this._loadTestFont;x=u(x,976,m.length,m);let A=16,_=1482184792,S=d(x,A);for(c=0,h=m.length-3;c<h;c+=4)S=S-_+d(m,c)|0;c<m.length&&(S=S-_+d(m+"XXX",c)|0),x=u(x,A,4,(0,n.string32)(S));let D=`url(data:font/opentype;base64,${btoa(x)});`,F=`@font-face {font-family:"${m}";src:${D}}`;this.insertRule(F);let k=this._document.createElement("div");k.style.visibility="hidden",k.style.width=k.style.height="10px",k.style.position="absolute",k.style.top=k.style.left="0px";for(let U of[a.loadedName,m]){let Q=this._document.createElement("span");Q.textContent="Hi",Q.style.fontFamily=U,k.append(Q)}this._document.body.append(k),v(m,()=>{k.remove(),l.complete()})}}e.FontLoader=r;class o{constructor(a,{isEvalSupported:l=!0,disableFontFace:d=!1,ignoreErrors:u=!1,inspectFont:c=null}){this.compiledGlyphs=Object.create(null);for(let h in a)this[h]=a[h];this.isEvalSupported=l!==!1,this.disableFontFace=d===!0,this.ignoreErrors=u===!0,this._inspectFont=c}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let a;if(!this.cssFontInfo)a=new FontFace(this.loadedName,this.data,{});else{let l={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(l.style=`oblique ${this.cssFontInfo.italicAngle}deg`),a=new FontFace(this.cssFontInfo.fontFamily,this.data,l)}return this._inspectFont?.(this),a}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let a=(0,n.bytesToString)(this.data),l=`url(data:${this.mimetype};base64,${btoa(a)});`,d;if(!this.cssFontInfo)d=`@font-face {font-family:"${this.loadedName}";src:${l}}`;else{let u=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(u+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),d=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${u}src:${l}}`}return this._inspectFont?.(this,l),d}getPathGenerator(a,l){if(this.compiledGlyphs[l]!==void 0)return this.compiledGlyphs[l];let d;try{d=a.get(this.loadedName+"_path_"+l)}catch(u){if(!this.ignoreErrors)throw u;return(0,n.warn)(`getPathGenerator - ignoring character: "${u}".`),this.compiledGlyphs[l]=function(c,h){}}if(this.isEvalSupported&&n.FeatureTest.isEvalSupported){let u=[];for(let c of d){let h=c.args!==void 0?c.args.join(","):"";u.push("c.",c.cmd,"(",h,`);
`)}return this.compiledGlyphs[l]=new Function("c","size",u.join(""))}return this.compiledGlyphs[l]=function(u,c){for(let h of d)h.cmd==="scale"&&(h.args=[c,-c]),u[h.cmd].apply(u,h.args)}}}e.FontFaceObject=o},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeFilterFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var n=i(7),r=i(1);let o=function(u){return new Promise((c,h)=>{Fu().readFile(u,(p,f)=>{if(p||!f){h(new Error(p));return}c(new Uint8Array(f))})})};class s extends n.BaseFilterFactory{}e.NodeFilterFactory=s;class a extends n.BaseCanvasFactory{_createCanvas(c,h){return aS().createCanvas(c,h)}}e.NodeCanvasFactory=a;class l extends n.BaseCMapReaderFactory{_fetchData(c,h){return o(c).then(g=>({cMapData:g,compressionType:h}))}}e.NodeCMapReaderFactory=l;class d extends n.BaseStandardFontDataFactory{_fetchData(c){return o(c)}}e.NodeStandardFontDataFactory=d},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var n=i(1),r=i(6),o=i(12),s=i(13);let a=16,l=100,d=4096,u=15,c=10,h=1e3,g=16;function p(y,w){if(y._removeMirroring)throw new Error("Context is already forwarding operations.");y.__originalSave=y.save,y.__originalRestore=y.restore,y.__originalRotate=y.rotate,y.__originalScale=y.scale,y.__originalTranslate=y.translate,y.__originalTransform=y.transform,y.__originalSetTransform=y.setTransform,y.__originalResetTransform=y.resetTransform,y.__originalClip=y.clip,y.__originalMoveTo=y.moveTo,y.__originalLineTo=y.lineTo,y.__originalBezierCurveTo=y.bezierCurveTo,y.__originalRect=y.rect,y.__originalClosePath=y.closePath,y.__originalBeginPath=y.beginPath,y._removeMirroring=()=>{y.save=y.__originalSave,y.restore=y.__originalRestore,y.rotate=y.__originalRotate,y.scale=y.__originalScale,y.translate=y.__originalTranslate,y.transform=y.__originalTransform,y.setTransform=y.__originalSetTransform,y.resetTransform=y.__originalResetTransform,y.clip=y.__originalClip,y.moveTo=y.__originalMoveTo,y.lineTo=y.__originalLineTo,y.bezierCurveTo=y.__originalBezierCurveTo,y.rect=y.__originalRect,y.closePath=y.__originalClosePath,y.beginPath=y.__originalBeginPath,delete y._removeMirroring},y.save=function(){w.save(),this.__originalSave()},y.restore=function(){w.restore(),this.__originalRestore()},y.translate=function(M,R){w.translate(M,R),this.__originalTranslate(M,R)},y.scale=function(M,R){w.scale(M,R),this.__originalScale(M,R)},y.transform=function(M,R,L,V,B,E){w.transform(M,R,L,V,B,E),this.__originalTransform(M,R,L,V,B,E)},y.setTransform=function(M,R,L,V,B,E){w.setTransform(M,R,L,V,B,E),this.__originalSetTransform(M,R,L,V,B,E)},y.resetTransform=function(){w.resetTransform(),this.__originalResetTransform()},y.rotate=function(M){w.rotate(M),this.__originalRotate(M)},y.clip=function(M){w.clip(M),this.__originalClip(M)},y.moveTo=function(C,M){w.moveTo(C,M),this.__originalMoveTo(C,M)},y.lineTo=function(C,M){w.lineTo(C,M),this.__originalLineTo(C,M)},y.bezierCurveTo=function(C,M,R,L,V,B){w.bezierCurveTo(C,M,R,L,V,B),this.__originalBezierCurveTo(C,M,R,L,V,B)},y.rect=function(C,M,R,L){w.rect(C,M,R,L),this.__originalRect(C,M,R,L)},y.closePath=function(){w.closePath(),this.__originalClosePath()},y.beginPath=function(){w.beginPath(),this.__originalBeginPath()}}class f{constructor(w){this.canvasFactory=w,this.cache=Object.create(null)}getCanvas(w,C,M){let R;return this.cache[w]!==void 0?(R=this.cache[w],this.canvasFactory.reset(R,C,M)):(R=this.canvasFactory.create(C,M),this.cache[w]=R),R}delete(w){delete this.cache[w]}clear(){for(let w in this.cache){let C=this.cache[w];this.canvasFactory.destroy(C),delete this.cache[w]}}}function v(y,w,C,M,R,L,V,B,E,T){let[P,O,j,z,q,ne]=(0,r.getCurrentTransform)(y);if(O===0&&j===0){let $=V*P+q,Z=Math.round($),J=B*z+ne,ie=Math.round(J),de=(V+E)*P+q,ge=Math.abs(Math.round(de)-Z)||1,be=(B+T)*z+ne,we=Math.abs(Math.round(be)-ie)||1;return y.setTransform(Math.sign(P),0,0,Math.sign(z),Z,ie),y.drawImage(w,C,M,R,L,0,0,ge,we),y.setTransform(P,O,j,z,q,ne),[ge,we]}if(P===0&&z===0){let $=B*j+q,Z=Math.round($),J=V*O+ne,ie=Math.round(J),de=(B+T)*j+q,ge=Math.abs(Math.round(de)-Z)||1,be=(V+E)*O+ne,we=Math.abs(Math.round(be)-ie)||1;return y.setTransform(0,Math.sign(O),Math.sign(j),0,Z,ie),y.drawImage(w,C,M,R,L,0,0,we,ge),y.setTransform(P,O,j,z,q,ne),[we,ge]}y.drawImage(w,C,M,R,L,V,B,E,T);let X=Math.hypot(P,O),W=Math.hypot(j,z);return[X*E,W*T]}function m(y){let{width:w,height:C}=y;if(w>h||C>h)return null;let M=1e3,R=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),L=w+1,V=new Uint8Array(L*(C+1)),B,E,T,P=w+7&-8,O=new Uint8Array(P*C),j=0;for(let W of y.data){let $=128;for(;$>0;)O[j++]=W&$?0:255,$>>=1}let z=0;for(j=0,O[j]!==0&&(V[0]=1,++z),E=1;E<w;E++)O[j]!==O[j+1]&&(V[E]=O[j]?2:1,++z),j++;for(O[j]!==0&&(V[E]=2,++z),B=1;B<C;B++){j=B*P,T=B*L,O[j-P]!==O[j]&&(V[T]=O[j]?1:8,++z);let W=(O[j]?4:0)+(O[j-P]?8:0);for(E=1;E<w;E++)W=(W>>2)+(O[j+1]?4:0)+(O[j-P+1]?8:0),R[W]&&(V[T+E]=R[W],++z),j++;if(O[j-P]!==O[j]&&(V[T+E]=O[j]?2:4,++z),z>M)return null}for(j=P*(C-1),T=B*L,O[j]!==0&&(V[T]=8,++z),E=1;E<w;E++)O[j]!==O[j+1]&&(V[T+E]=O[j]?4:8,++z),j++;if(O[j]!==0&&(V[T+E]=4,++z),z>M)return null;let q=new Int32Array([0,L,-1,0,-L,0,0,0,1]),ne=new Path2D;for(B=0;z&&B<=C;B++){let W=B*L,$=W+w;for(;W<$&&!V[W];)W++;if(W===$)continue;ne.moveTo(W%L,B);let Z=W,J=V[W];do{let ie=q[J];do W+=ie;while(!V[W]);let de=V[W];de!==5&&de!==10?(J=de,V[W]=0):(J=de&51*J>>4,V[W]&=J>>2|J<<2),ne.lineTo(W%L,W/L|0),V[W]||--z}while(Z!==W);--B}return O=null,V=null,function(W){W.save(),W.scale(1/w,-1/C),W.translate(0,-C),W.fill(ne),W.beginPath(),W.restore()}}class x{constructor(w,C){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=n.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=n.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,w,C])}clone(){let w=Object.create(this);return w.clipBox=this.clipBox.slice(),w}setCurrentPoint(w,C){this.x=w,this.y=C}updatePathMinMax(w,C,M){[C,M]=n.Util.applyTransform([C,M],w),this.minX=Math.min(this.minX,C),this.minY=Math.min(this.minY,M),this.maxX=Math.max(this.maxX,C),this.maxY=Math.max(this.maxY,M)}updateRectMinMax(w,C){let M=n.Util.applyTransform(C,w),R=n.Util.applyTransform(C.slice(2),w);this.minX=Math.min(this.minX,M[0],R[0]),this.minY=Math.min(this.minY,M[1],R[1]),this.maxX=Math.max(this.maxX,M[0],R[0]),this.maxY=Math.max(this.maxY,M[1],R[1])}updateScalingPathMinMax(w,C){n.Util.scaleMinMax(w,C),this.minX=Math.min(this.minX,C[0]),this.maxX=Math.max(this.maxX,C[1]),this.minY=Math.min(this.minY,C[2]),this.maxY=Math.max(this.maxY,C[3])}updateCurvePathMinMax(w,C,M,R,L,V,B,E,T,P){let O=n.Util.bezierBoundingBox(C,M,R,L,V,B,E,T);if(P){P[0]=Math.min(P[0],O[0],O[2]),P[1]=Math.max(P[1],O[0],O[2]),P[2]=Math.min(P[2],O[1],O[3]),P[3]=Math.max(P[3],O[1],O[3]);return}this.updateRectMinMax(w,O)}getPathBoundingBox(w=o.PathType.FILL,C=null){let M=[this.minX,this.minY,this.maxX,this.maxY];if(w===o.PathType.STROKE){C||(0,n.unreachable)("Stroke bounding box must include transform.");let R=n.Util.singularValueDecompose2dScale(C),L=R[0]*this.lineWidth/2,V=R[1]*this.lineWidth/2;M[0]-=L,M[1]-=V,M[2]+=L,M[3]+=V}return M}updateClipFromPath(){let w=n.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(w||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(w){this.clipBox=w,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(w=o.PathType.FILL,C=null){return n.Util.intersect(this.clipBox,this.getPathBoundingBox(w,C))}}function b(y,w){if(typeof ImageData<"u"&&w instanceof ImageData){y.putImageData(w,0,0);return}let C=w.height,M=w.width,R=C%g,L=(C-R)/g,V=R===0?L:L+1,B=y.createImageData(M,g),E=0,T,P=w.data,O=B.data,j,z,q,ne;if(w.kind===n.ImageKind.GRAYSCALE_1BPP){let X=P.byteLength,W=new Uint32Array(O.buffer,0,O.byteLength>>2),$=W.length,Z=M+7>>3,J=4294967295,ie=n.FeatureTest.isLittleEndian?4278190080:255;for(j=0;j<V;j++){for(q=j<L?g:R,T=0,z=0;z<q;z++){let de=X-E,ge=0,be=de>Z?M:de*8-7,we=be&-8,Ie=0,Qe=0;for(;ge<we;ge+=8)Qe=P[E++],W[T++]=Qe&128?J:ie,W[T++]=Qe&64?J:ie,W[T++]=Qe&32?J:ie,W[T++]=Qe&16?J:ie,W[T++]=Qe&8?J:ie,W[T++]=Qe&4?J:ie,W[T++]=Qe&2?J:ie,W[T++]=Qe&1?J:ie;for(;ge<be;ge++)Ie===0&&(Qe=P[E++],Ie=128),W[T++]=Qe&Ie?J:ie,Ie>>=1}for(;T<$;)W[T++]=0;y.putImageData(B,0,j*g)}}else if(w.kind===n.ImageKind.RGBA_32BPP){for(z=0,ne=M*g*4,j=0;j<L;j++)O.set(P.subarray(E,E+ne)),E+=ne,y.putImageData(B,0,z),z+=g;j<V&&(ne=M*R*4,O.set(P.subarray(E,E+ne)),y.putImageData(B,0,z))}else if(w.kind===n.ImageKind.RGB_24BPP)for(q=g,ne=M*q,j=0;j<V;j++){for(j>=L&&(q=R,ne=M*q),T=0,z=ne;z--;)O[T++]=P[E++],O[T++]=P[E++],O[T++]=P[E++],O[T++]=255;y.putImageData(B,0,j*g)}else throw new Error(`bad image kind: ${w.kind}`)}function A(y,w){if(w.bitmap){y.drawImage(w.bitmap,0,0);return}let C=w.height,M=w.width,R=C%g,L=(C-R)/g,V=R===0?L:L+1,B=y.createImageData(M,g),E=0,T=w.data,P=B.data;for(let O=0;O<V;O++){let j=O<L?g:R;({srcPos:E}=(0,s.convertBlackAndWhiteToRGBA)({src:T,srcPos:E,dest:P,width:M,height:j,nonBlackColor:0})),y.putImageData(B,0,O*g)}}function _(y,w){let C=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(let M of C)y[M]!==void 0&&(w[M]=y[M]);y.setLineDash!==void 0&&(w.setLineDash(y.getLineDash()),w.lineDashOffset=y.lineDashOffset)}function S(y){if(y.strokeStyle=y.fillStyle="#000000",y.fillRule="nonzero",y.globalAlpha=1,y.lineWidth=1,y.lineCap="butt",y.lineJoin="miter",y.miterLimit=10,y.globalCompositeOperation="source-over",y.font="10px sans-serif",y.setLineDash!==void 0&&(y.setLineDash([]),y.lineDashOffset=0),!n.isNodeJS){let{filter:w}=y;w!=="none"&&w!==""&&(y.filter="none")}}function D(y,w,C,M){let R=y.length;for(let L=3;L<R;L+=4){let V=y[L];if(V===0)y[L-3]=w,y[L-2]=C,y[L-1]=M;else if(V<255){let B=255-V;y[L-3]=y[L-3]*V+w*B>>8,y[L-2]=y[L-2]*V+C*B>>8,y[L-1]=y[L-1]*V+M*B>>8}}}function F(y,w,C){let M=y.length,R=1/255;for(let L=3;L<M;L+=4){let V=C?C[y[L]]:y[L];w[L]=w[L]*V*R|0}}function k(y,w,C){let M=y.length;for(let R=3;R<M;R+=4){let L=y[R-3]*77+y[R-2]*152+y[R-1]*28;w[R]=C?w[R]*C[L>>8]>>8:w[R]*L>>16}}function U(y,w,C,M,R,L,V,B,E,T,P){let O=!!L,j=O?L[0]:0,z=O?L[1]:0,q=O?L[2]:0,ne=R==="Luminosity"?k:F,W=Math.min(M,Math.ceil(1048576/C));for(let $=0;$<M;$+=W){let Z=Math.min(W,M-$),J=y.getImageData(B-T,$+(E-P),C,Z),ie=w.getImageData(B,$+E,C,Z);O&&D(J.data,j,z,q),ne(J.data,ie.data,V),w.putImageData(ie,B,$+E)}}function Q(y,w,C,M){let R=M[0],L=M[1],V=M[2]-R,B=M[3]-L;V===0||B===0||(U(w.context,C,V,B,w.subtype,w.backdrop,w.transferMap,R,L,w.offsetX,w.offsetY),y.save(),y.globalAlpha=1,y.globalCompositeOperation="source-over",y.setTransform(1,0,0,1,0,0),y.drawImage(C.canvas,0,0),y.restore())}function G(y,w){let C=n.Util.singularValueDecompose2dScale(y);C[0]=Math.fround(C[0]),C[1]=Math.fround(C[1]);let M=Math.fround((globalThis.devicePixelRatio||1)*r.PixelsPerInch.PDF_TO_CSS_UNITS);return w!==void 0?w:C[0]<=M||C[1]<=M}let K=["butt","round","square"],Y=["miter","round","bevel"],H={},N={};class I{constructor(w,C,M,R,L,{optionalContentConfig:V,markedContentStack:B=null},E,T){this.ctx=w,this.current=new x(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=C,this.objs=M,this.canvasFactory=R,this.filterFactory=L,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=B||[],this.optionalContentConfig=V,this.cachedCanvases=new f(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=E,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=T,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(w,C=null){return typeof w=="string"?w.startsWith("g_")?this.commonObjs.get(w):this.objs.get(w):C}beginDrawing({transform:w,viewport:C,transparency:M=!1,background:R=null}){let L=this.ctx.canvas.width,V=this.ctx.canvas.height,B=this.ctx.fillStyle;if(this.ctx.fillStyle=R||"#ffffff",this.ctx.fillRect(0,0,L,V),this.ctx.fillStyle=B,M){let E=this.cachedCanvases.getCanvas("transparent",L,V);this.compositeCtx=this.ctx,this.transparentCanvas=E.canvas,this.ctx=E.context,this.ctx.save(),this.ctx.transform(...(0,r.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),S(this.ctx),w&&(this.ctx.transform(...w),this.outputScaleX=w[0],this.outputScaleY=w[0]),this.ctx.transform(...C.transform),this.viewportScale=C.scale,this.baseTransform=(0,r.getCurrentTransform)(this.ctx)}executeOperatorList(w,C,M,R){let L=w.argsArray,V=w.fnArray,B=C||0,E=L.length;if(E===B)return B;let T=E-B>c&&typeof M=="function",P=T?Date.now()+u:0,O=0,j=this.commonObjs,z=this.objs,q;for(;;){if(R!==void 0&&B===R.nextBreakPoint)return R.breakIt(B,M),B;if(q=V[B],q!==n.OPS.dependency)this[q].apply(this,L[B]);else for(let ne of L[B]){let X=ne.startsWith("g_")?j:z;if(!X.has(ne))return X.get(ne,M),B}if(B++,B===E)return B;if(T&&++O>c){if(Date.now()>P)return M(),B;O=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(let w of this._cachedBitmapsMap.values()){for(let C of w.values())typeof HTMLCanvasElement<"u"&&C instanceof HTMLCanvasElement&&(C.width=C.height=0);w.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){let w=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(w!=="none"){let C=this.ctx.filter;this.ctx.filter=w,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=C}}}_scaleImage(w,C){let M=w.width,R=w.height,L=Math.max(Math.hypot(C[0],C[1]),1),V=Math.max(Math.hypot(C[2],C[3]),1),B=M,E=R,T="prescale1",P,O;for(;L>2&&B>1||V>2&&E>1;){let j=B,z=E;L>2&&B>1&&(j=B>=16384?Math.floor(B/2)-1||1:Math.ceil(B/2),L/=B/j),V>2&&E>1&&(z=E>=16384?Math.floor(E/2)-1||1:Math.ceil(E)/2,V/=E/z),P=this.cachedCanvases.getCanvas(T,j,z),O=P.context,O.clearRect(0,0,j,z),O.drawImage(w,0,0,B,E,0,0,j,z),w=P.canvas,B=j,E=z,T=T==="prescale1"?"prescale2":"prescale1"}return{img:w,paintWidth:B,paintHeight:E}}_createMaskCanvas(w){let C=this.ctx,{width:M,height:R}=w,L=this.current.fillColor,V=this.current.patternFill,B=(0,r.getCurrentTransform)(C),E,T,P,O;if((w.bitmap||w.data)&&w.count>1){let ge=w.bitmap||w.data.buffer;T=JSON.stringify(V?B:[B.slice(0,4),L]),E=this._cachedBitmapsMap.get(ge),E||(E=new Map,this._cachedBitmapsMap.set(ge,E));let be=E.get(T);if(be&&!V){let we=Math.round(Math.min(B[0],B[2])+B[4]),Ie=Math.round(Math.min(B[1],B[3])+B[5]);return{canvas:be,offsetX:we,offsetY:Ie}}P=be}P||(O=this.cachedCanvases.getCanvas("maskCanvas",M,R),A(O.context,w));let j=n.Util.transform(B,[1/M,0,0,-1/R,0,0]);j=n.Util.transform(j,[1,0,0,1,0,-R]);let z=n.Util.applyTransform([0,0],j),q=n.Util.applyTransform([M,R],j),ne=n.Util.normalizeRect([z[0],z[1],q[0],q[1]]),X=Math.round(ne[2]-ne[0])||1,W=Math.round(ne[3]-ne[1])||1,$=this.cachedCanvases.getCanvas("fillCanvas",X,W),Z=$.context,J=Math.min(z[0],q[0]),ie=Math.min(z[1],q[1]);Z.translate(-J,-ie),Z.transform(...j),P||(P=this._scaleImage(O.canvas,(0,r.getCurrentTransformInverse)(Z)),P=P.img,E&&V&&E.set(T,P)),Z.imageSmoothingEnabled=G((0,r.getCurrentTransform)(Z),w.interpolate),v(Z,P,0,0,P.width,P.height,0,0,M,R),Z.globalCompositeOperation="source-in";let de=n.Util.transform((0,r.getCurrentTransformInverse)(Z),[1,0,0,1,-J,-ie]);return Z.fillStyle=V?L.getPattern(C,this,de,o.PathType.FILL):L,Z.fillRect(0,0,M,R),E&&!V&&(this.cachedCanvases.delete("fillCanvas"),E.set(T,$.canvas)),{canvas:$.canvas,offsetX:Math.round(J),offsetY:Math.round(ie)}}setLineWidth(w){w!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=w,this.ctx.lineWidth=w}setLineCap(w){this.ctx.lineCap=K[w]}setLineJoin(w){this.ctx.lineJoin=Y[w]}setMiterLimit(w){this.ctx.miterLimit=w}setDash(w,C){let M=this.ctx;M.setLineDash!==void 0&&(M.setLineDash(w),M.lineDashOffset=C)}setRenderingIntent(w){}setFlatness(w){}setGState(w){for(let[C,M]of w)switch(C){case"LW":this.setLineWidth(M);break;case"LC":this.setLineCap(M);break;case"LJ":this.setLineJoin(M);break;case"ML":this.setMiterLimit(M);break;case"D":this.setDash(M[0],M[1]);break;case"RI":this.setRenderingIntent(M);break;case"FL":this.setFlatness(M);break;case"Font":this.setFont(M[0],M[1]);break;case"CA":this.current.strokeAlpha=M;break;case"ca":this.current.fillAlpha=M,this.ctx.globalAlpha=M;break;case"BM":this.ctx.globalCompositeOperation=M;break;case"SMask":this.current.activeSMask=M?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(M);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let w=this.inSMaskMode;this.current.activeSMask&&!w?this.beginSMaskMode():!this.current.activeSMask&&w&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");let w=this.ctx.canvas.width,C=this.ctx.canvas.height,M="smaskGroupAt"+this.groupLevel,R=this.cachedCanvases.getCanvas(M,w,C);this.suspendedCtx=this.ctx,this.ctx=R.context;let L=this.ctx;L.setTransform(...(0,r.getCurrentTransform)(this.suspendedCtx)),_(this.suspendedCtx,L),p(L,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),_(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(w){if(!this.current.activeSMask)return;w?(w[0]=Math.floor(w[0]),w[1]=Math.floor(w[1]),w[2]=Math.ceil(w[2]),w[3]=Math.ceil(w[3])):w=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let C=this.current.activeSMask,M=this.suspendedCtx;Q(M,C,this.ctx,w),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(_(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let w=this.current;this.stateStack.push(w),this.current=w.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),_(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(w,C,M,R,L,V){this.ctx.transform(w,C,M,R,L,V),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(w,C,M){let R=this.ctx,L=this.current,V=L.x,B=L.y,E,T,P=(0,r.getCurrentTransform)(R),O=P[0]===0&&P[3]===0||P[1]===0&&P[2]===0,j=O?M.slice(0):null;for(let z=0,q=0,ne=w.length;z<ne;z++)switch(w[z]|0){case n.OPS.rectangle:V=C[q++],B=C[q++];let X=C[q++],W=C[q++],$=V+X,Z=B+W;R.moveTo(V,B),X===0||W===0?R.lineTo($,Z):(R.lineTo($,B),R.lineTo($,Z),R.lineTo(V,Z)),O||L.updateRectMinMax(P,[V,B,$,Z]),R.closePath();break;case n.OPS.moveTo:V=C[q++],B=C[q++],R.moveTo(V,B),O||L.updatePathMinMax(P,V,B);break;case n.OPS.lineTo:V=C[q++],B=C[q++],R.lineTo(V,B),O||L.updatePathMinMax(P,V,B);break;case n.OPS.curveTo:E=V,T=B,V=C[q+4],B=C[q+5],R.bezierCurveTo(C[q],C[q+1],C[q+2],C[q+3],V,B),L.updateCurvePathMinMax(P,E,T,C[q],C[q+1],C[q+2],C[q+3],V,B,j),q+=6;break;case n.OPS.curveTo2:E=V,T=B,R.bezierCurveTo(V,B,C[q],C[q+1],C[q+2],C[q+3]),L.updateCurvePathMinMax(P,E,T,V,B,C[q],C[q+1],C[q+2],C[q+3],j),V=C[q+2],B=C[q+3],q+=4;break;case n.OPS.curveTo3:E=V,T=B,V=C[q+2],B=C[q+3],R.bezierCurveTo(C[q],C[q+1],V,B,V,B),L.updateCurvePathMinMax(P,E,T,C[q],C[q+1],V,B,V,B,j),q+=4;break;case n.OPS.closePath:R.closePath();break}O&&L.updateScalingPathMinMax(P,j),L.setCurrentPoint(V,B)}closePath(){this.ctx.closePath()}stroke(w=!0){let C=this.ctx,M=this.current.strokeColor;C.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof M=="object"&&M?.getPattern?(C.save(),C.strokeStyle=M.getPattern(C,this,(0,r.getCurrentTransformInverse)(C),o.PathType.STROKE),this.rescaleAndStroke(!1),C.restore()):this.rescaleAndStroke(!0)),w&&this.consumePath(this.current.getClippedPathBoundingBox()),C.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(w=!0){let C=this.ctx,M=this.current.fillColor,R=this.current.patternFill,L=!1;R&&(C.save(),C.fillStyle=M.getPattern(C,this,(0,r.getCurrentTransformInverse)(C),o.PathType.FILL),L=!0);let V=this.current.getClippedPathBoundingBox();this.contentVisible&&V!==null&&(this.pendingEOFill?(C.fill("evenodd"),this.pendingEOFill=!1):C.fill()),L&&C.restore(),w&&this.consumePath(V)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=H}eoClip(){this.pendingClip=N}beginText(){this.current.textMatrix=n.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let w=this.pendingTextPaths,C=this.ctx;if(w===void 0){C.beginPath();return}C.save(),C.beginPath();for(let M of w)C.setTransform(...M.transform),C.translate(M.x,M.y),M.addToPath(C,M.fontSize);C.restore(),C.clip(),C.beginPath(),delete this.pendingTextPaths}setCharSpacing(w){this.current.charSpacing=w}setWordSpacing(w){this.current.wordSpacing=w}setHScale(w){this.current.textHScale=w/100}setLeading(w){this.current.leading=-w}setFont(w,C){let M=this.commonObjs.get(w),R=this.current;if(!M)throw new Error(`Can't find font for ${w}`);if(R.fontMatrix=M.fontMatrix||n.FONT_IDENTITY_MATRIX,(R.fontMatrix[0]===0||R.fontMatrix[3]===0)&&(0,n.warn)("Invalid font matrix for font "+w),C<0?(C=-C,R.fontDirection=-1):R.fontDirection=1,this.current.font=M,this.current.fontSize=C,M.isType3Font)return;let L=M.loadedName||"sans-serif",V=M.systemFontInfo?.css||`"${L}", ${M.fallbackName}`,B="normal";M.black?B="900":M.bold&&(B="bold");let E=M.italic?"italic":"normal",T=C;C<a?T=a:C>l&&(T=l),this.current.fontSizeScale=C/T,this.ctx.font=`${E} ${B} ${T}px ${V}`}setTextRenderingMode(w){this.current.textRenderingMode=w}setTextRise(w){this.current.textRise=w}moveText(w,C){this.current.x=this.current.lineX+=w,this.current.y=this.current.lineY+=C}setLeadingMoveText(w,C){this.setLeading(-C),this.moveText(w,C)}setTextMatrix(w,C,M,R,L,V){this.current.textMatrix=[w,C,M,R,L,V],this.current.textMatrixScale=Math.hypot(w,C),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(w,C,M,R){let L=this.ctx,V=this.current,B=V.font,E=V.textRenderingMode,T=V.fontSize/V.fontSizeScale,P=E&n.TextRenderingMode.FILL_STROKE_MASK,O=!!(E&n.TextRenderingMode.ADD_TO_PATH_FLAG),j=V.patternFill&&!B.missingFile,z;(B.disableFontFace||O||j)&&(z=B.getPathGenerator(this.commonObjs,w)),B.disableFontFace||j?(L.save(),L.translate(C,M),L.beginPath(),z(L,T),R&&L.setTransform(...R),(P===n.TextRenderingMode.FILL||P===n.TextRenderingMode.FILL_STROKE)&&L.fill(),(P===n.TextRenderingMode.STROKE||P===n.TextRenderingMode.FILL_STROKE)&&L.stroke(),L.restore()):((P===n.TextRenderingMode.FILL||P===n.TextRenderingMode.FILL_STROKE)&&L.fillText(w,C,M),(P===n.TextRenderingMode.STROKE||P===n.TextRenderingMode.FILL_STROKE)&&L.strokeText(w,C,M)),O&&(this.pendingTextPaths||=[]).push({transform:(0,r.getCurrentTransform)(L),x:C,y:M,fontSize:T,addToPath:z})}get isFontSubpixelAAEnabled(){let{context:w}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);w.scale(1.5,1),w.fillText("I",0,10);let C=w.getImageData(0,0,10,10).data,M=!1;for(let R=3;R<C.length;R+=4)if(C[R]>0&&C[R]<255){M=!0;break}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",M)}showText(w){let C=this.current,M=C.font;if(M.isType3Font)return this.showType3Text(w);let R=C.fontSize;if(R===0)return;let L=this.ctx,V=C.fontSizeScale,B=C.charSpacing,E=C.wordSpacing,T=C.fontDirection,P=C.textHScale*T,O=w.length,j=M.vertical,z=j?1:-1,q=M.defaultVMetrics,ne=R*C.fontMatrix[0],X=C.textRenderingMode===n.TextRenderingMode.FILL&&!M.disableFontFace&&!C.patternFill;L.save(),L.transform(...C.textMatrix),L.translate(C.x,C.y+C.textRise),T>0?L.scale(P,-1):L.scale(P,1);let W;if(C.patternFill){L.save();let de=C.fillColor.getPattern(L,this,(0,r.getCurrentTransformInverse)(L),o.PathType.FILL);W=(0,r.getCurrentTransform)(L),L.restore(),L.fillStyle=de}let $=C.lineWidth,Z=C.textMatrixScale;if(Z===0||$===0){let de=C.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;(de===n.TextRenderingMode.STROKE||de===n.TextRenderingMode.FILL_STROKE)&&($=this.getSinglePixelWidth())}else $/=Z;if(V!==1&&(L.scale(V,V),$/=V),L.lineWidth=$,M.isInvalidPDFjsFont){let de=[],ge=0;for(let be of w)de.push(be.unicode),ge+=be.width;L.fillText(de.join(""),0,0),C.x+=ge*ne*P,L.restore(),this.compose();return}let J=0,ie;for(ie=0;ie<O;++ie){let de=w[ie];if(typeof de=="number"){J+=z*de*R/1e3;continue}let ge=!1,be=(de.isSpace?E:0)+B,we=de.fontChar,Ie=de.accent,Qe,Ot,xt=de.width;if(j){let At=de.vmetric||q,kn=-(de.vmetric?At[1]:xt*.5)*ne,ys=At[2]*ne;xt=At?-At[0]:xt,Qe=kn/V,Ot=(J+ys)/V}else Qe=J/V,Ot=0;if(M.remeasure&&xt>0){let At=L.measureText(we).width*1e3/R*V;if(xt<At&&this.isFontSubpixelAAEnabled){let kn=xt/At;ge=!0,L.save(),L.scale(kn,1),Qe/=kn}else xt!==At&&(Qe+=(xt-At)/2e3*R/V)}if(this.contentVisible&&(de.isInFont||M.missingFile)){if(X&&!Ie)L.fillText(we,Qe,Ot);else if(this.paintChar(we,Qe,Ot,W),Ie){let At=Qe+R*Ie.offset.x/V,kn=Ot-R*Ie.offset.y/V;this.paintChar(Ie.fontChar,At,kn,W)}}let _n=j?xt*ne-be*T:xt*ne+be*T;J+=_n,ge&&L.restore()}j?C.y-=J:C.x+=J*P,L.restore(),this.compose()}showType3Text(w){let C=this.ctx,M=this.current,R=M.font,L=M.fontSize,V=M.fontDirection,B=R.vertical?1:-1,E=M.charSpacing,T=M.wordSpacing,P=M.textHScale*V,O=M.fontMatrix||n.FONT_IDENTITY_MATRIX,j=w.length,z=M.textRenderingMode===n.TextRenderingMode.INVISIBLE,q,ne,X,W;if(!(z||L===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,C.save(),C.transform(...M.textMatrix),C.translate(M.x,M.y),C.scale(P,V),q=0;q<j;++q){if(ne=w[q],typeof ne=="number"){W=B*ne*L/1e3,this.ctx.translate(W,0),M.x+=W*P;continue}let $=(ne.isSpace?T:0)+E,Z=R.charProcOperatorList[ne.operatorListId];if(!Z){(0,n.warn)(`Type3 character "${ne.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=ne,this.save(),C.scale(L,L),C.transform(...O),this.executeOperatorList(Z),this.restore()),X=n.Util.applyTransform([ne.width,0],O)[0]*L+$,C.translate(X,0),M.x+=X*P}C.restore(),this.processingType3=null}}setCharWidth(w,C){}setCharWidthAndBounds(w,C,M,R,L,V){this.ctx.rect(M,R,L-M,V-R),this.ctx.clip(),this.endPath()}getColorN_Pattern(w){let C;if(w[0]==="TilingPattern"){let M=w[1],R=this.baseTransform||(0,r.getCurrentTransform)(this.ctx),L={createCanvasGraphics:V=>new I(V,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};C=new o.TilingPattern(w,M,this.ctx,L,R)}else C=this._getPattern(w[1],w[2]);return C}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(w,C,M){let R=n.Util.makeHexColor(w,C,M);this.ctx.strokeStyle=R,this.current.strokeColor=R}setFillRGBColor(w,C,M){let R=n.Util.makeHexColor(w,C,M);this.ctx.fillStyle=R,this.current.fillColor=R,this.current.patternFill=!1}_getPattern(w,C=null){let M;return this.cachedPatterns.has(w)?M=this.cachedPatterns.get(w):(M=(0,o.getShadingPattern)(this.getObject(w)),this.cachedPatterns.set(w,M)),C&&(M.matrix=C),M}shadingFill(w){if(!this.contentVisible)return;let C=this.ctx;this.save();let M=this._getPattern(w);C.fillStyle=M.getPattern(C,this,(0,r.getCurrentTransformInverse)(C),o.PathType.SHADING);let R=(0,r.getCurrentTransformInverse)(C);if(R){let{width:L,height:V}=C.canvas,[B,E,T,P]=n.Util.getAxialAlignedBoundingBox([0,0,L,V],R);this.ctx.fillRect(B,E,T-B,P-E)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,n.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,n.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(w,C){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(w)&&w.length===6&&this.transform(...w),this.baseTransform=(0,r.getCurrentTransform)(this.ctx),C)){let M=C[2]-C[0],R=C[3]-C[1];this.ctx.rect(C[0],C[1],M,R),this.current.updateRectMinMax((0,r.getCurrentTransform)(this.ctx),C),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(w){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let C=this.ctx;w.isolated||(0,n.info)("TODO: Support non-isolated groups."),w.knockout&&(0,n.warn)("Knockout groups not supported.");let M=(0,r.getCurrentTransform)(C);if(w.matrix&&C.transform(...w.matrix),!w.bbox)throw new Error("Bounding box is required.");let R=n.Util.getAxialAlignedBoundingBox(w.bbox,(0,r.getCurrentTransform)(C)),L=[0,0,C.canvas.width,C.canvas.height];R=n.Util.intersect(R,L)||[0,0,0,0];let V=Math.floor(R[0]),B=Math.floor(R[1]),E=Math.max(Math.ceil(R[2])-V,1),T=Math.max(Math.ceil(R[3])-B,1),P=1,O=1;E>d&&(P=E/d,E=d),T>d&&(O=T/d,T=d),this.current.startNewPathAndClipBox([0,0,E,T]);let j="groupAt"+this.groupLevel;w.smask&&(j+="_smask_"+this.smaskCounter++%2);let z=this.cachedCanvases.getCanvas(j,E,T),q=z.context;q.scale(1/P,1/O),q.translate(-V,-B),q.transform(...M),w.smask?this.smaskStack.push({canvas:z.canvas,context:q,offsetX:V,offsetY:B,scaleX:P,scaleY:O,subtype:w.smask.subtype,backdrop:w.smask.backdrop,transferMap:w.smask.transferMap||null,startTransformInverse:null}):(C.setTransform(1,0,0,1,0,0),C.translate(V,B),C.scale(P,O),C.save()),_(C,q),this.ctx=q,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(C),this.groupLevel++}endGroup(w){if(!this.contentVisible)return;this.groupLevel--;let C=this.ctx,M=this.groupStack.pop();if(this.ctx=M,this.ctx.imageSmoothingEnabled=!1,w.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let R=(0,r.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...R);let L=n.Util.getAxialAlignedBoundingBox([0,0,C.canvas.width,C.canvas.height],R);this.ctx.drawImage(C.canvas,0,0),this.ctx.restore(),this.compose(L)}}beginAnnotation(w,C,M,R,L){if(this.#e(),S(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(C)&&C.length===4){let V=C[2]-C[0],B=C[3]-C[1];if(L&&this.annotationCanvasMap){M=M.slice(),M[4]-=C[0],M[5]-=C[1],C=C.slice(),C[0]=C[1]=0,C[2]=V,C[3]=B;let[E,T]=n.Util.singularValueDecompose2dScale((0,r.getCurrentTransform)(this.ctx)),{viewportScale:P}=this,O=Math.ceil(V*this.outputScaleX*P),j=Math.ceil(B*this.outputScaleY*P);this.annotationCanvas=this.canvasFactory.create(O,j);let{canvas:z,context:q}=this.annotationCanvas;this.annotationCanvasMap.set(w,z),this.annotationCanvas.savedCtx=this.ctx,this.ctx=q,this.ctx.save(),this.ctx.setTransform(E,0,0,-T,0,B*T),S(this.ctx)}else S(this.ctx),this.ctx.rect(C[0],C[1],V,B),this.ctx.clip(),this.endPath()}this.current=new x(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...M),this.transform(...R)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(w){if(!this.contentVisible)return;let C=w.count;w=this.getObject(w.data,w),w.count=C;let M=this.ctx,R=this.processingType3;if(R&&(R.compiled===void 0&&(R.compiled=m(w)),R.compiled)){R.compiled(M);return}let L=this._createMaskCanvas(w),V=L.canvas;M.save(),M.setTransform(1,0,0,1,0,0),M.drawImage(V,L.offsetX,L.offsetY),M.restore(),this.compose()}paintImageMaskXObjectRepeat(w,C,M=0,R=0,L,V){if(!this.contentVisible)return;w=this.getObject(w.data,w);let B=this.ctx;B.save();let E=(0,r.getCurrentTransform)(B);B.transform(C,M,R,L,0,0);let T=this._createMaskCanvas(w);B.setTransform(1,0,0,1,T.offsetX-E[4],T.offsetY-E[5]);for(let P=0,O=V.length;P<O;P+=2){let j=n.Util.transform(E,[C,M,R,L,V[P],V[P+1]]),[z,q]=n.Util.applyTransform([0,0],j);B.drawImage(T.canvas,z,q)}B.restore(),this.compose()}paintImageMaskXObjectGroup(w){if(!this.contentVisible)return;let C=this.ctx,M=this.current.fillColor,R=this.current.patternFill;for(let L of w){let{data:V,width:B,height:E,transform:T}=L,P=this.cachedCanvases.getCanvas("maskCanvas",B,E),O=P.context;O.save();let j=this.getObject(V,L);A(O,j),O.globalCompositeOperation="source-in",O.fillStyle=R?M.getPattern(O,this,(0,r.getCurrentTransformInverse)(C),o.PathType.FILL):M,O.fillRect(0,0,B,E),O.restore(),C.save(),C.transform(...T),C.scale(1,-1),v(C,P.canvas,0,0,B,E,0,-1,1,1),C.restore()}this.compose()}paintImageXObject(w){if(!this.contentVisible)return;let C=this.getObject(w);if(!C){(0,n.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(C)}paintImageXObjectRepeat(w,C,M,R){if(!this.contentVisible)return;let L=this.getObject(w);if(!L){(0,n.warn)("Dependent image isn't ready yet");return}let V=L.width,B=L.height,E=[];for(let T=0,P=R.length;T<P;T+=2)E.push({transform:[C,0,0,M,R[T],R[T+1]],x:0,y:0,w:V,h:B});this.paintInlineImageXObjectGroup(L,E)}applyTransferMapsToCanvas(w){return this.current.transferMaps!=="none"&&(w.filter=this.current.transferMaps,w.drawImage(w.canvas,0,0),w.filter="none"),w.canvas}applyTransferMapsToBitmap(w){if(this.current.transferMaps==="none")return w.bitmap;let{bitmap:C,width:M,height:R}=w,L=this.cachedCanvases.getCanvas("inlineImage",M,R),V=L.context;return V.filter=this.current.transferMaps,V.drawImage(C,0,0),V.filter="none",L.canvas}paintInlineImageXObject(w){if(!this.contentVisible)return;let C=w.width,M=w.height,R=this.ctx;if(this.save(),!n.isNodeJS){let{filter:B}=R;B!=="none"&&B!==""&&(R.filter="none")}R.scale(1/C,-1/M);let L;if(w.bitmap)L=this.applyTransferMapsToBitmap(w);else if(typeof HTMLElement=="function"&&w instanceof HTMLElement||!w.data)L=w;else{let E=this.cachedCanvases.getCanvas("inlineImage",C,M).context;b(E,w),L=this.applyTransferMapsToCanvas(E)}let V=this._scaleImage(L,(0,r.getCurrentTransformInverse)(R));R.imageSmoothingEnabled=G((0,r.getCurrentTransform)(R),w.interpolate),v(R,V.img,0,0,V.paintWidth,V.paintHeight,0,-M,C,M),this.compose(),this.restore()}paintInlineImageXObjectGroup(w,C){if(!this.contentVisible)return;let M=this.ctx,R;if(w.bitmap)R=w.bitmap;else{let L=w.width,V=w.height,E=this.cachedCanvases.getCanvas("inlineImage",L,V).context;b(E,w),R=this.applyTransferMapsToCanvas(E)}for(let L of C)M.save(),M.transform(...L.transform),M.scale(1,-1),v(M,R,L.x,L.y,L.w,L.h,0,-1,1,1),M.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(w){}markPointProps(w,C){}beginMarkedContent(w){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(w,C){w==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(C)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(w){let C=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(w);let M=this.ctx;this.pendingClip&&(C||(this.pendingClip===N?M.clip("evenodd"):M.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),M.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let w=(0,r.getCurrentTransform)(this.ctx);if(w[1]===0&&w[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(w[0]),Math.abs(w[3]));else{let C=Math.abs(w[0]*w[3]-w[2]*w[1]),M=Math.hypot(w[0],w[2]),R=Math.hypot(w[1],w[3]);this._cachedGetSinglePixelWidth=Math.max(M,R)/C}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){let{lineWidth:w}=this.current,{a:C,b:M,c:R,d:L}=this.ctx.getTransform(),V,B;if(M===0&&R===0){let E=Math.abs(C),T=Math.abs(L);if(E===T)if(w===0)V=B=1/E;else{let P=E*w;V=B=P<1?1/P:1}else if(w===0)V=1/E,B=1/T;else{let P=E*w,O=T*w;V=P<1?1/P:1,B=O<1?1/O:1}}else{let E=Math.abs(C*L-M*R),T=Math.hypot(C,M),P=Math.hypot(R,L);if(w===0)V=P/E,B=T/E;else{let O=w*E;V=P>O?P/O:1,B=T>O?T/O:1}}this._cachedScaleForStroking[0]=V,this._cachedScaleForStroking[1]=B}return this._cachedScaleForStroking}rescaleAndStroke(w){let{ctx:C}=this,{lineWidth:M}=this.current,[R,L]=this.getScaleForStroking();if(C.lineWidth=M||1,R===1&&L===1){C.stroke();return}let V=C.getLineDash();if(w&&C.save(),C.scale(R,L),V.length>0){let B=Math.max(R,L);C.setLineDash(V.map(E=>E/B)),C.lineDashOffset/=B}C.stroke(),w&&C.restore()}isContentVisible(){for(let w=this.markedContentStack.length-1;w>=0;w--)if(!this.markedContentStack[w].visible)return!1;return!0}}e.CanvasGraphics=I;for(let y in n.OPS)I.prototype[y]!==void 0&&(I.prototype[n.OPS[y]]=I.prototype[y])},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=g;var n=i(1),r=i(6);let o={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=o;function s(v,m){if(!m)return;let x=m[2]-m[0],b=m[3]-m[1],A=new Path2D;A.rect(m[0],m[1],x,b),v.clip(A)}class a{constructor(){this.constructor===a&&(0,n.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,n.unreachable)("Abstract method `getPattern` called.")}}class l extends a{constructor(m){super(),this._type=m[1],this._bbox=m[2],this._colorStops=m[3],this._p0=m[4],this._p1=m[5],this._r0=m[6],this._r1=m[7],this.matrix=null}_createGradient(m){let x;this._type==="axial"?x=m.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(x=m.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(let b of this._colorStops)x.addColorStop(b[0],b[1]);return x}getPattern(m,x,b,A){let _;if(A===o.STROKE||A===o.FILL){let S=x.current.getClippedPathBoundingBox(A,(0,r.getCurrentTransform)(m))||[0,0,0,0],D=Math.ceil(S[2]-S[0])||1,F=Math.ceil(S[3]-S[1])||1,k=x.cachedCanvases.getCanvas("pattern",D,F,!0),U=k.context;U.clearRect(0,0,U.canvas.width,U.canvas.height),U.beginPath(),U.rect(0,0,U.canvas.width,U.canvas.height),U.translate(-S[0],-S[1]),b=n.Util.transform(b,[1,0,0,1,S[0],S[1]]),U.transform(...x.baseTransform),this.matrix&&U.transform(...this.matrix),s(U,this._bbox),U.fillStyle=this._createGradient(U),U.fill(),_=m.createPattern(k.canvas,"no-repeat");let Q=new DOMMatrix(b);_.setTransform(Q)}else s(m,this._bbox),_=this._createGradient(m);return _}}function d(v,m,x,b,A,_,S,D){let F=m.coords,k=m.colors,U=v.data,Q=v.width*4,G;F[x+1]>F[b+1]&&(G=x,x=b,b=G,G=_,_=S,S=G),F[b+1]>F[A+1]&&(G=b,b=A,A=G,G=S,S=D,D=G),F[x+1]>F[b+1]&&(G=x,x=b,b=G,G=_,_=S,S=G);let K=(F[x]+m.offsetX)*m.scaleX,Y=(F[x+1]+m.offsetY)*m.scaleY,H=(F[b]+m.offsetX)*m.scaleX,N=(F[b+1]+m.offsetY)*m.scaleY,I=(F[A]+m.offsetX)*m.scaleX,y=(F[A+1]+m.offsetY)*m.scaleY;if(Y>=y)return;let w=k[_],C=k[_+1],M=k[_+2],R=k[S],L=k[S+1],V=k[S+2],B=k[D],E=k[D+1],T=k[D+2],P=Math.round(Y),O=Math.round(y),j,z,q,ne,X,W,$,Z;for(let J=P;J<=O;J++){if(J<N){let we=J<Y?0:(Y-J)/(Y-N);j=K-(K-H)*we,z=w-(w-R)*we,q=C-(C-L)*we,ne=M-(M-V)*we}else{let we;J>y?we=1:N===y?we=0:we=(N-J)/(N-y),j=H-(H-I)*we,z=R-(R-B)*we,q=L-(L-E)*we,ne=V-(V-T)*we}let ie;J<Y?ie=0:J>y?ie=1:ie=(Y-J)/(Y-y),X=K-(K-I)*ie,W=w-(w-B)*ie,$=C-(C-E)*ie,Z=M-(M-T)*ie;let de=Math.round(Math.min(j,X)),ge=Math.round(Math.max(j,X)),be=Q*J+de*4;for(let we=de;we<=ge;we++)ie=(j-we)/(j-X),ie<0?ie=0:ie>1&&(ie=1),U[be++]=z-(z-W)*ie|0,U[be++]=q-(q-$)*ie|0,U[be++]=ne-(ne-Z)*ie|0,U[be++]=255}}function u(v,m,x){let b=m.coords,A=m.colors,_,S;switch(m.type){case"lattice":let D=m.verticesPerRow,F=Math.floor(b.length/D)-1,k=D-1;for(_=0;_<F;_++){let U=_*D;for(let Q=0;Q<k;Q++,U++)d(v,x,b[U],b[U+1],b[U+D],A[U],A[U+1],A[U+D]),d(v,x,b[U+D+1],b[U+1],b[U+D],A[U+D+1],A[U+1],A[U+D])}break;case"triangles":for(_=0,S=b.length;_<S;_+=3)d(v,x,b[_],b[_+1],b[_+2],A[_],A[_+1],A[_+2]);break;default:throw new Error("illegal figure")}}class c extends a{constructor(m){super(),this._coords=m[2],this._colors=m[3],this._figures=m[4],this._bounds=m[5],this._bbox=m[7],this._background=m[8],this.matrix=null}_createMeshCanvas(m,x,b){let D=Math.floor(this._bounds[0]),F=Math.floor(this._bounds[1]),k=Math.ceil(this._bounds[2])-D,U=Math.ceil(this._bounds[3])-F,Q=Math.min(Math.ceil(Math.abs(k*m[0]*1.1)),3e3),G=Math.min(Math.ceil(Math.abs(U*m[1]*1.1)),3e3),K=k/Q,Y=U/G,H={coords:this._coords,colors:this._colors,offsetX:-D,offsetY:-F,scaleX:1/K,scaleY:1/Y},N=Q+2*2,I=G+2*2,y=b.getCanvas("mesh",N,I,!1),w=y.context,C=w.createImageData(Q,G);if(x){let R=C.data;for(let L=0,V=R.length;L<V;L+=4)R[L]=x[0],R[L+1]=x[1],R[L+2]=x[2],R[L+3]=255}for(let R of this._figures)u(C,R,H);return w.putImageData(C,2,2),{canvas:y.canvas,offsetX:D-2*K,offsetY:F-2*Y,scaleX:K,scaleY:Y}}getPattern(m,x,b,A){s(m,this._bbox);let _;if(A===o.SHADING)_=n.Util.singularValueDecompose2dScale((0,r.getCurrentTransform)(m));else if(_=n.Util.singularValueDecompose2dScale(x.baseTransform),this.matrix){let D=n.Util.singularValueDecompose2dScale(this.matrix);_=[_[0]*D[0],_[1]*D[1]]}let S=this._createMeshCanvas(_,A===o.SHADING?null:this._background,x.cachedCanvases);return A!==o.SHADING&&(m.setTransform(...x.baseTransform),this.matrix&&m.transform(...this.matrix)),m.translate(S.offsetX,S.offsetY),m.scale(S.scaleX,S.scaleY),m.createPattern(S.canvas,"no-repeat")}}class h extends a{getPattern(){return"hotpink"}}function g(v){switch(v[0]){case"RadialAxial":return new l(v);case"Mesh":return new c(v);case"Dummy":return new h}throw new Error(`Unknown IR type: ${v[0]}`)}let p={COLORED:1,UNCOLORED:2},f=(()=>{class v{static MAX_PATTERN_SIZE=3e3;constructor(x,b,A,_,S){this.operatorList=x[2],this.matrix=x[3]||[1,0,0,1,0,0],this.bbox=x[4],this.xstep=x[5],this.ystep=x[6],this.paintType=x[7],this.tilingType=x[8],this.color=b,this.ctx=A,this.canvasGraphicsFactory=_,this.baseTransform=S}createPatternCanvas(x){let b=this.operatorList,A=this.bbox,_=this.xstep,S=this.ystep,D=this.paintType,F=this.tilingType,k=this.color,U=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+F);let Q=A[0],G=A[1],K=A[2],Y=A[3],H=n.Util.singularValueDecompose2dScale(this.matrix),N=n.Util.singularValueDecompose2dScale(this.baseTransform),I=[H[0]*N[0],H[1]*N[1]],y=this.getSizeAndScale(_,this.ctx.canvas.width,I[0]),w=this.getSizeAndScale(S,this.ctx.canvas.height,I[1]),C=x.cachedCanvases.getCanvas("pattern",y.size,w.size,!0),M=C.context,R=U.createCanvasGraphics(M);R.groupLevel=x.groupLevel,this.setFillAndStrokeStyleToContext(R,D,k);let L=Q,V=G,B=K,E=Y;return Q<0&&(L=0,B+=Math.abs(Q)),G<0&&(V=0,E+=Math.abs(G)),M.translate(-(y.scale*L),-(w.scale*V)),R.transform(y.scale,0,0,w.scale,0,0),M.save(),this.clipBbox(R,L,V,B,E),R.baseTransform=(0,r.getCurrentTransform)(R.ctx),R.executeOperatorList(b),R.endDrawing(),{canvas:C.canvas,scaleX:y.scale,scaleY:w.scale,offsetX:L,offsetY:V}}getSizeAndScale(x,b,A){x=Math.abs(x);let _=Math.max(v.MAX_PATTERN_SIZE,b),S=Math.ceil(x*A);return S>=_?S=_:A=S/x,{scale:A,size:S}}clipBbox(x,b,A,_,S){let D=_-b,F=S-A;x.ctx.rect(b,A,D,F),x.current.updateRectMinMax((0,r.getCurrentTransform)(x.ctx),[b,A,_,S]),x.clip(),x.endPath()}setFillAndStrokeStyleToContext(x,b,A){let _=x.ctx,S=x.current;switch(b){case p.COLORED:let D=this.ctx;_.fillStyle=D.fillStyle,_.strokeStyle=D.strokeStyle,S.fillColor=D.fillStyle,S.strokeColor=D.strokeStyle;break;case p.UNCOLORED:let F=n.Util.makeHexColor(A[0],A[1],A[2]);_.fillStyle=F,_.strokeStyle=F,S.fillColor=F,S.strokeColor=F;break;default:throw new n.FormatError(`Unsupported paint type: ${b}`)}}getPattern(x,b,A,_){let S=A;_!==o.SHADING&&(S=n.Util.transform(S,b.baseTransform),this.matrix&&(S=n.Util.transform(S,this.matrix)));let D=this.createPatternCanvas(b),F=new DOMMatrix(S);F=F.translate(D.offsetX,D.offsetY),F=F.scale(1/D.scaleX,1/D.scaleY);let k=x.createPattern(D.canvas,"repeat");return k.setTransform(F),k}}return v})();e.TilingPattern=f},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertBlackAndWhiteToRGBA=o,e.convertToRGBA=r,e.grayToRGBA=a;var n=i(1);function r(l){switch(l.kind){case n.ImageKind.GRAYSCALE_1BPP:return o(l);case n.ImageKind.RGB_24BPP:return s(l)}return null}function o({src:l,srcPos:d=0,dest:u,width:c,height:h,nonBlackColor:g=4294967295,inverseDecode:p=!1}){let f=n.FeatureTest.isLittleEndian?4278190080:255,[v,m]=p?[g,f]:[f,g],x=c>>3,b=c&7,A=l.length;u=new Uint32Array(u.buffer);let _=0;for(let S=0;S<h;S++){for(let F=d+x;d<F;d++){let k=d<A?l[d]:255;u[_++]=k&128?m:v,u[_++]=k&64?m:v,u[_++]=k&32?m:v,u[_++]=k&16?m:v,u[_++]=k&8?m:v,u[_++]=k&4?m:v,u[_++]=k&2?m:v,u[_++]=k&1?m:v}if(b===0)continue;let D=d<A?l[d++]:255;for(let F=0;F<b;F++)u[_++]=D&1<<7-F?m:v}return{srcPos:d,destPos:_}}function s({src:l,srcPos:d=0,dest:u,destPos:c=0,width:h,height:g}){let p=0,f=l.length>>2,v=new Uint32Array(l.buffer,d,f);if(n.FeatureTest.isLittleEndian){for(;p<f-2;p+=3,c+=4){let m=v[p],x=v[p+1],b=v[p+2];u[c]=m|4278190080,u[c+1]=m>>>24|x<<8|4278190080,u[c+2]=x>>>16|b<<16|4278190080,u[c+3]=b>>>8|4278190080}for(let m=p*4,x=l.length;m<x;m+=3)u[c++]=l[m]|l[m+1]<<8|l[m+2]<<16|4278190080}else{for(;p<f-2;p+=3,c+=4){let m=v[p],x=v[p+1],b=v[p+2];u[c]=m|255,u[c+1]=m<<24|x>>>8|255,u[c+2]=x<<16|b>>>16|255,u[c+3]=b<<8|255}for(let m=p*4,x=l.length;m<x;m+=3)u[c++]=l[m]<<24|l[m+1]<<16|l[m+2]<<8|255}return{srcPos:d,destPos:c}}function a(l,d){if(n.FeatureTest.isLittleEndian)for(let u=0,c=l.length;u<c;u++)d[u]=l[u]*65793|4278190080;else for(let u=0,c=l.length;u<c;u++)d[u]=l[u]*16843008|255}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;let i=Object.create(null);e.GlobalWorkerOptions=i,i.workerPort=null,i.workerSrc=""},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var n=i(1);let r={UNKNOWN:0,DATA:1,ERROR:2},o={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function s(l){switch(l instanceof Error||typeof l=="object"&&l!==null||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),l.name){case"AbortException":return new n.AbortException(l.message);case"MissingPDFException":return new n.MissingPDFException(l.message);case"PasswordException":return new n.PasswordException(l.message,l.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(l.message,l.status);case"UnknownErrorException":return new n.UnknownErrorException(l.message,l.details);default:return new n.UnknownErrorException(l.message,l.toString())}}class a{constructor(d,u,c){this.sourceName=d,this.targetName=u,this.comObj=c,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=h=>{let g=h.data;if(g.targetName!==this.sourceName)return;if(g.stream){this.#t(g);return}if(g.callback){let f=g.callbackId,v=this.callbackCapabilities[f];if(!v)throw new Error(`Cannot resolve callback ${f}`);if(delete this.callbackCapabilities[f],g.callback===r.DATA)v.resolve(g.data);else if(g.callback===r.ERROR)v.reject(s(g.reason));else throw new Error("Unexpected callback case");return}let p=this.actionHandler[g.action];if(!p)throw new Error(`Unknown action from worker: ${g.action}`);if(g.callbackId){let f=this.sourceName,v=g.sourceName;new Promise(function(m){m(p(g.data))}).then(function(m){c.postMessage({sourceName:f,targetName:v,callback:r.DATA,callbackId:g.callbackId,data:m})},function(m){c.postMessage({sourceName:f,targetName:v,callback:r.ERROR,callbackId:g.callbackId,reason:s(m)})});return}if(g.streamId){this.#e(g);return}p(g.data)},c.addEventListener("message",this._onComObjOnMessage)}on(d,u){let c=this.actionHandler;if(c[d])throw new Error(`There is already an actionName called "${d}"`);c[d]=u}send(d,u,c){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,data:u},c)}sendWithPromise(d,u,c){let h=this.callbackId++,g=new n.PromiseCapability;this.callbackCapabilities[h]=g;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,callbackId:h,data:u},c)}catch(p){g.reject(p)}return g.promise}sendWithStream(d,u,c,h){let g=this.streamId++,p=this.sourceName,f=this.targetName,v=this.comObj;return new ReadableStream({start:m=>{let x=new n.PromiseCapability;return this.streamControllers[g]={controller:m,startCall:x,pullCall:null,cancelCall:null,isClosed:!1},v.postMessage({sourceName:p,targetName:f,action:d,streamId:g,data:u,desiredSize:m.desiredSize},h),x.promise},pull:m=>{let x=new n.PromiseCapability;return this.streamControllers[g].pullCall=x,v.postMessage({sourceName:p,targetName:f,stream:o.PULL,streamId:g,desiredSize:m.desiredSize}),x.promise},cancel:m=>{(0,n.assert)(m instanceof Error,"cancel must have a valid reason");let x=new n.PromiseCapability;return this.streamControllers[g].cancelCall=x,this.streamControllers[g].isClosed=!0,v.postMessage({sourceName:p,targetName:f,stream:o.CANCEL,streamId:g,reason:s(m)}),x.promise}},c)}#e(d){let u=d.streamId,c=this.sourceName,h=d.sourceName,g=this.comObj,p=this,f=this.actionHandler[d.action],v={enqueue(m,x=1,b){if(this.isCancelled)return;let A=this.desiredSize;this.desiredSize-=x,A>0&&this.desiredSize<=0&&(this.sinkCapability=new n.PromiseCapability,this.ready=this.sinkCapability.promise),g.postMessage({sourceName:c,targetName:h,stream:o.ENQUEUE,streamId:u,chunk:m},b)},close(){this.isCancelled||(this.isCancelled=!0,g.postMessage({sourceName:c,targetName:h,stream:o.CLOSE,streamId:u}),delete p.streamSinks[u])},error(m){(0,n.assert)(m instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,g.postMessage({sourceName:c,targetName:h,stream:o.ERROR,streamId:u,reason:s(m)}))},sinkCapability:new n.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:d.desiredSize,ready:null};v.sinkCapability.resolve(),v.ready=v.sinkCapability.promise,this.streamSinks[u]=v,new Promise(function(m){m(f(d.data,v))}).then(function(){g.postMessage({sourceName:c,targetName:h,stream:o.START_COMPLETE,streamId:u,success:!0})},function(m){g.postMessage({sourceName:c,targetName:h,stream:o.START_COMPLETE,streamId:u,reason:s(m)})})}#t(d){let u=d.streamId,c=this.sourceName,h=d.sourceName,g=this.comObj,p=this.streamControllers[u],f=this.streamSinks[u];switch(d.stream){case o.START_COMPLETE:d.success?p.startCall.resolve():p.startCall.reject(s(d.reason));break;case o.PULL_COMPLETE:d.success?p.pullCall.resolve():p.pullCall.reject(s(d.reason));break;case o.PULL:if(!f){g.postMessage({sourceName:c,targetName:h,stream:o.PULL_COMPLETE,streamId:u,success:!0});break}f.desiredSize<=0&&d.desiredSize>0&&f.sinkCapability.resolve(),f.desiredSize=d.desiredSize,new Promise(function(v){v(f.onPull?.())}).then(function(){g.postMessage({sourceName:c,targetName:h,stream:o.PULL_COMPLETE,streamId:u,success:!0})},function(v){g.postMessage({sourceName:c,targetName:h,stream:o.PULL_COMPLETE,streamId:u,reason:s(v)})});break;case o.ENQUEUE:if((0,n.assert)(p,"enqueue should have stream controller"),p.isClosed)break;p.controller.enqueue(d.chunk);break;case o.CLOSE:if((0,n.assert)(p,"close should have stream controller"),p.isClosed)break;p.isClosed=!0,p.controller.close(),this.#n(p,u);break;case o.ERROR:(0,n.assert)(p,"error should have stream controller"),p.controller.error(s(d.reason)),this.#n(p,u);break;case o.CANCEL_COMPLETE:d.success?p.cancelCall.resolve():p.cancelCall.reject(s(d.reason)),this.#n(p,u);break;case o.CANCEL:if(!f)break;new Promise(function(v){v(f.onCancel?.(s(d.reason)))}).then(function(){g.postMessage({sourceName:c,targetName:h,stream:o.CANCEL_COMPLETE,streamId:u,success:!0})},function(v){g.postMessage({sourceName:c,targetName:h,stream:o.CANCEL_COMPLETE,streamId:u,reason:s(v)})}),f.sinkCapability.reject(s(d.reason)),f.isCancelled=!0,delete this.streamSinks[u];break;default:throw new Error("Unexpected stream case")}}#n(d,u){return ae(this,null,function*(){yield Promise.allSettled([d.startCall?.promise,d.pullCall?.promise,d.cancelCall?.promise]),delete this.streamControllers[u]})}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}e.MessageHandler=a},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var n=i(1);class r{#e;#t;constructor({parsedData:s,rawData:a}){this.#e=s,this.#t=a}getRaw(){return this.#t}get(s){return this.#e.get(s)??null}getAll(){return(0,n.objectFromMap)(this.#e)}has(s){return this.#e.has(s)}}e.Metadata=r},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var n=i(1),r=i(8);let o=Symbol("INTERNAL");class s{#e=!0;constructor(d,u){this.name=d,this.intent=u}get visible(){return this.#e}_setVisible(d,u){d!==o&&(0,n.unreachable)("Internal method `_setVisible` called."),this.#e=u}}class a{#e=null;#t=new Map;#n=null;#i=null;constructor(d){if(this.name=null,this.creator=null,d!==null){this.name=d.name,this.creator=d.creator,this.#i=d.order;for(let u of d.groups)this.#t.set(u.id,new s(u.name,u.intent));if(d.baseState==="OFF")for(let u of this.#t.values())u._setVisible(o,!1);for(let u of d.on)this.#t.get(u)._setVisible(o,!0);for(let u of d.off)this.#t.get(u)._setVisible(o,!1);this.#n=this.getHash()}}#a(d){let u=d.length;if(u<2)return!0;let c=d[0];for(let h=1;h<u;h++){let g=d[h],p;if(Array.isArray(g))p=this.#a(g);else if(this.#t.has(g))p=this.#t.get(g).visible;else return(0,n.warn)(`Optional content group not found: ${g}`),!0;switch(c){case"And":if(!p)return!1;break;case"Or":if(p)return!0;break;case"Not":return!p;default:return!0}}return c==="And"}isVisible(d){if(this.#t.size===0)return!0;if(!d)return(0,n.warn)("Optional content group not defined."),!0;if(d.type==="OCG")return this.#t.has(d.id)?this.#t.get(d.id).visible:((0,n.warn)(`Optional content group not found: ${d.id}`),!0);if(d.type==="OCMD"){if(d.expression)return this.#a(d.expression);if(!d.policy||d.policy==="AnyOn"){for(let u of d.ids){if(!this.#t.has(u))return(0,n.warn)(`Optional content group not found: ${u}`),!0;if(this.#t.get(u).visible)return!0}return!1}else if(d.policy==="AllOn"){for(let u of d.ids){if(!this.#t.has(u))return(0,n.warn)(`Optional content group not found: ${u}`),!0;if(!this.#t.get(u).visible)return!1}return!0}else if(d.policy==="AnyOff"){for(let u of d.ids){if(!this.#t.has(u))return(0,n.warn)(`Optional content group not found: ${u}`),!0;if(!this.#t.get(u).visible)return!0}return!1}else if(d.policy==="AllOff"){for(let u of d.ids){if(!this.#t.has(u))return(0,n.warn)(`Optional content group not found: ${u}`),!0;if(this.#t.get(u).visible)return!1}return!0}return(0,n.warn)(`Unknown optional content policy ${d.policy}.`),!0}return(0,n.warn)(`Unknown group type ${d.type}.`),!0}setVisibility(d,u=!0){if(!this.#t.has(d)){(0,n.warn)(`Optional content group not found: ${d}`);return}this.#t.get(d)._setVisible(o,!!u),this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#i?this.#i.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,n.objectFromMap)(this.#t):null}getGroup(d){return this.#t.get(d)||null}getHash(){if(this.#e!==null)return this.#e;let d=new r.MurmurHash3_64;for(let[u,c]of this.#t)d.update(`${u}:${c.visible}`);return this.#e=d.hexdigest()}}e.OptionalContentConfig=a},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var n=i(1),r=i(6);class o{constructor({length:d,initialData:u,progressiveDone:c=!1,contentDispositionFilename:h=null,disableRange:g=!1,disableStream:p=!1},f){if((0,n.assert)(f,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=h,u?.length>0){let v=u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength?u.buffer:new Uint8Array(u).buffer;this._queuedChunks.push(v)}this._pdfDataRangeTransport=f,this._isStreamingSupported=!p,this._isRangeSupported=!g,this._contentLength=d,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((v,m)=>{this._onReceiveData({begin:v,chunk:m})}),this._pdfDataRangeTransport.addProgressListener((v,m)=>{this._onProgress({loaded:v,total:m})}),this._pdfDataRangeTransport.addProgressiveReadListener(v=>{this._onReceiveData({chunk:v})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:d,chunk:u}){let c=u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength?u.buffer:new Uint8Array(u).buffer;if(d===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(c):this._queuedChunks.push(c);else{let h=this._rangeReaders.some(function(g){return g._begin!==d?!1:(g._enqueue(c),!0)});(0,n.assert)(h,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(d){d.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:d.loaded}):this._fullRequestReader?.onProgress?.({loaded:d.loaded,total:d.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(d){let u=this._rangeReaders.indexOf(d);u>=0&&this._rangeReaders.splice(u,1)}getFullReader(){(0,n.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let d=this._queuedChunks;return this._queuedChunks=null,new s(this,d,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(d,u){if(u<=this._progressiveDataLength)return null;let c=new a(this,d,u);return this._pdfDataRangeTransport.requestDataRange(d,u),this._rangeReaders.push(c),c}cancelAllRequests(d){this._fullRequestReader?.cancel(d);for(let u of this._rangeReaders.slice(0))u.cancel(d);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=o;class s{constructor(d,u,c=!1,h=null){this._stream=d,this._done=c||!1,this._filename=(0,r.isPdfFile)(h)?h:null,this._queuedChunks=u||[],this._loaded=0;for(let g of this._queuedChunks)this._loaded+=g.byteLength;this._requests=[],this._headersReady=Promise.resolve(),d._fullRequestReader=this,this.onProgress=null}_enqueue(d){this._done||(this._requests.length>0?this._requests.shift().resolve({value:d,done:!1}):this._queuedChunks.push(d),this._loaded+=d.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){return ae(this,null,function*(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let d=new n.PromiseCapability;return this._requests.push(d),d.promise})}cancel(d){this._done=!0;for(let u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class a{constructor(d,u,c){this._stream=d,this._begin=u,this._end=c,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(d){if(!this._done){if(this._requests.length===0)this._queuedChunk=d;else{this._requests.shift().resolve({value:d,done:!1});for(let c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){return ae(this,null,function*(){if(this._queuedChunk){let u=this._queuedChunk;return this._queuedChunk=null,{value:u,done:!1}}if(this._done)return{value:void 0,done:!0};let d=new n.PromiseCapability;return this._requests.push(d),d.promise})}cancel(d){this._done=!0;for(let u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var n=i(1),r=i(20);function o(c,h,g){return{method:"GET",headers:c,signal:g.signal,mode:"cors",credentials:h?"include":"same-origin",redirect:"follow"}}function s(c){let h=new Headers;for(let g in c){let p=c[g];p!==void 0&&h.append(g,p)}return h}function a(c){return c instanceof Uint8Array?c.buffer:c instanceof ArrayBuffer?c:((0,n.warn)(`getArrayBuffer - unexpected data format: ${c}`),new Uint8Array(c).buffer)}class l{constructor(h){this.source=h,this.isHttp=/^https?:/i.test(h.url),this.httpHeaders=this.isHttp&&h.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new d(this),this._fullRequestReader}getRangeReader(h,g){if(g<=this._progressiveDataLength)return null;let p=new u(this,h,g);return this._rangeRequestReaders.push(p),p}cancelAllRequests(h){this._fullRequestReader?.cancel(h);for(let g of this._rangeRequestReaders.slice(0))g.cancel(h)}}e.PDFFetchStream=l;class d{constructor(h){this._stream=h,this._reader=null,this._loaded=0,this._filename=null;let g=h.source;this._withCredentials=g.withCredentials||!1,this._contentLength=g.length,this._headersCapability=new n.PromiseCapability,this._disableRange=g.disableRange||!1,this._rangeChunkSize=g.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!g.disableStream,this._isRangeSupported=!g.disableRange,this._headers=s(this._stream.httpHeaders);let p=g.url;fetch(p,o(this._headers,this._withCredentials,this._abortController)).then(f=>{if(!(0,r.validateResponseStatus)(f.status))throw(0,r.createResponseStatusError)(f.status,p);this._reader=f.body.getReader(),this._headersCapability.resolve();let v=b=>f.headers.get(b),{allowRangeRequests:m,suggestedLength:x}=(0,r.validateRangeRequestCapabilities)({getResponseHeader:v,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=m,this._contentLength=x||this._contentLength,this._filename=(0,r.extractFilenameFromHeader)(v),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new n.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return ae(this,null,function*(){yield this._headersCapability.promise;let{value:h,done:g}=yield this._reader.read();return g?{value:h,done:g}:(this._loaded+=h.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:a(h),done:!1})})}cancel(h){this._reader?.cancel(h),this._abortController.abort()}}class u{constructor(h,g,p){this._stream=h,this._reader=null,this._loaded=0;let f=h.source;this._withCredentials=f.withCredentials||!1,this._readCapability=new n.PromiseCapability,this._isStreamingSupported=!f.disableStream,this._abortController=new AbortController,this._headers=s(this._stream.httpHeaders),this._headers.append("Range",`bytes=${g}-${p-1}`);let v=f.url;fetch(v,o(this._headers,this._withCredentials,this._abortController)).then(m=>{if(!(0,r.validateResponseStatus)(m.status))throw(0,r.createResponseStatusError)(m.status,v);this._readCapability.resolve(),this._reader=m.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){return ae(this,null,function*(){yield this._readCapability.promise;let{value:h,done:g}=yield this._reader.read();return g?{value:h,done:g}:(this._loaded+=h.byteLength,this.onProgress?.({loaded:this._loaded}),{value:a(h),done:!1})})}cancel(h){this._reader?.cancel(h),this._abortController.abort()}}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=l,e.extractFilenameFromHeader=a,e.validateRangeRequestCapabilities=s,e.validateResponseStatus=d;var n=i(1),r=i(21),o=i(6);function s({getResponseHeader:u,isHttp:c,rangeChunkSize:h,disableRange:g}){let p={allowRangeRequests:!1,suggestedLength:void 0},f=parseInt(u("Content-Length"),10);return!Number.isInteger(f)||(p.suggestedLength=f,f<=2*h)||g||!c||u("Accept-Ranges")!=="bytes"||(u("Content-Encoding")||"identity")!=="identity"||(p.allowRangeRequests=!0),p}function a(u){let c=u("Content-Disposition");if(c){let h=(0,r.getFilenameFromContentDispositionHeader)(c);if(h.includes("%"))try{h=decodeURIComponent(h)}catch{}if((0,o.isPdfFile)(h))return h}return null}function l(u,c){return u===404||u===0&&c.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+c+'".'):new n.UnexpectedResponseException(`Unexpected server response (${u}) while retrieving PDF "${c}".`,u)}function d(u){return u===200||u===206}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=r;var n=i(1);function r(o){let s=!0,a=l("filename\\*","i").exec(o);if(a){a=a[1];let f=h(a);return f=unescape(f),f=g(f),f=p(f),u(f)}if(a=c(o),a){let f=p(a);return u(f)}if(a=l("filename","i").exec(o),a){a=a[1];let f=h(a);return f=p(f),u(f)}function l(f,v){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function d(f,v){if(f){if(!/^[\x00-\xFF]+$/.test(v))return v;try{let m=new TextDecoder(f,{fatal:!0}),x=(0,n.stringToBytes)(v);v=m.decode(x),s=!1}catch{}}return v}function u(f){return s&&/[\x80-\xff]/.test(f)&&(f=d("utf-8",f),s&&(f=d("iso-8859-1",f))),f}function c(f){let v=[],m,x=l("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=x.exec(f))!==null;){let[,A,_,S]=m;if(A=parseInt(A,10),A in v){if(A===0)break;continue}v[A]=[_,S]}let b=[];for(let A=0;A<v.length&&A in v;++A){let[_,S]=v[A];S=h(S),_&&(S=unescape(S),A===0&&(S=g(S))),b.push(S)}return b.join("")}function h(f){if(f.startsWith('"')){let v=f.slice(1).split('\\"');for(let m=0;m<v.length;++m){let x=v[m].indexOf('"');x!==-1&&(v[m]=v[m].slice(0,x),v.length=m+1),v[m]=v[m].replaceAll(/\\(.)/g,"$1")}f=v.join('"')}return f}function g(f){let v=f.indexOf("'");if(v===-1)return f;let m=f.slice(0,v),b=f.slice(v+1).replace(/^[^']*'/,"");return d(m,b)}function p(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,m,x,b){if(x==="q"||x==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(A,_){return String.fromCharCode(parseInt(_,16))}),d(m,b);try{b=atob(b)}catch{}return d(m,b)})}return""}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var n=i(1),r=i(20);let o=200,s=206;function a(h){let g=h.response;return typeof g!="string"?g:(0,n.stringToBytes)(g).buffer}class l{constructor(g,p={}){this.url=g,this.isHttp=/^https?:/i.test(g),this.httpHeaders=this.isHttp&&p.httpHeaders||Object.create(null),this.withCredentials=p.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(g,p,f){let v={begin:g,end:p};for(let m in f)v[m]=f[m];return this.request(v)}requestFull(g){return this.request(g)}request(g){let p=new XMLHttpRequest,f=this.currXhrId++,v=this.pendingRequests[f]={xhr:p};p.open("GET",this.url),p.withCredentials=this.withCredentials;for(let m in this.httpHeaders){let x=this.httpHeaders[m];x!==void 0&&p.setRequestHeader(m,x)}return this.isHttp&&"begin"in g&&"end"in g?(p.setRequestHeader("Range",`bytes=${g.begin}-${g.end-1}`),v.expectedStatus=s):v.expectedStatus=o,p.responseType="arraybuffer",g.onError&&(p.onerror=function(m){g.onError(p.status)}),p.onreadystatechange=this.onStateChange.bind(this,f),p.onprogress=this.onProgress.bind(this,f),v.onHeadersReceived=g.onHeadersReceived,v.onDone=g.onDone,v.onError=g.onError,v.onProgress=g.onProgress,p.send(null),f}onProgress(g,p){let f=this.pendingRequests[g];f&&f.onProgress?.(p)}onStateChange(g,p){let f=this.pendingRequests[g];if(!f)return;let v=f.xhr;if(v.readyState>=2&&f.onHeadersReceived&&(f.onHeadersReceived(),delete f.onHeadersReceived),v.readyState!==4||!(g in this.pendingRequests))return;if(delete this.pendingRequests[g],v.status===0&&this.isHttp){f.onError?.(v.status);return}let m=v.status||o;if(!(m===o&&f.expectedStatus===s)&&m!==f.expectedStatus){f.onError?.(v.status);return}let b=a(v);if(m===s){let A=v.getResponseHeader("Content-Range"),_=/bytes (\d+)-(\d+)\/(\d+)/.exec(A);f.onDone({begin:parseInt(_[1],10),chunk:b})}else b?f.onDone({begin:0,chunk:b}):f.onError?.(v.status)}getRequestXhr(g){return this.pendingRequests[g].xhr}isPendingRequest(g){return g in this.pendingRequests}abortRequest(g){let p=this.pendingRequests[g].xhr;delete this.pendingRequests[g],p.abort()}}class d{constructor(g){this._source=g,this._manager=new l(g.url,{httpHeaders:g.httpHeaders,withCredentials:g.withCredentials}),this._rangeChunkSize=g.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(g){let p=this._rangeRequestReaders.indexOf(g);p>=0&&this._rangeRequestReaders.splice(p,1)}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new u(this._manager,this._source),this._fullRequestReader}getRangeReader(g,p){let f=new c(this._manager,g,p);return f.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(f),f}cancelAllRequests(g){this._fullRequestReader?.cancel(g);for(let p of this._rangeRequestReaders.slice(0))p.cancel(g)}}e.PDFNetworkStream=d;class u{constructor(g,p){this._manager=g;let f={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=p.url,this._fullRequestId=g.requestFull(f),this._headersReceivedCapability=new n.PromiseCapability,this._disableRange=p.disableRange||!1,this._contentLength=p.length,this._rangeChunkSize=p.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let g=this._fullRequestId,p=this._manager.getRequestXhr(g),f=x=>p.getResponseHeader(x),{allowRangeRequests:v,suggestedLength:m}=(0,r.validateRangeRequestCapabilities)({getResponseHeader:f,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});v&&(this._isRangeSupported=!0),this._contentLength=m||this._contentLength,this._filename=(0,r.extractFilenameFromHeader)(f),this._isRangeSupported&&this._manager.abortRequest(g),this._headersReceivedCapability.resolve()}_onDone(g){if(g&&(this._requests.length>0?this._requests.shift().resolve({value:g.chunk,done:!1}):this._cachedChunks.push(g.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(g){this._storedError=(0,r.createResponseStatusError)(g,this._url),this._headersReceivedCapability.reject(this._storedError);for(let p of this._requests)p.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(g){this.onProgress?.({loaded:g.loaded,total:g.lengthComputable?g.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){return ae(this,null,function*(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let g=new n.PromiseCapability;return this._requests.push(g),g.promise})}cancel(g){this._done=!0,this._headersReceivedCapability.reject(g);for(let p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class c{constructor(g,p,f){this._manager=g;let v={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=g.url,this._requestId=g.requestRange(p,f,v),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(g){let p=g.chunk;this._requests.length>0?this._requests.shift().resolve({value:p,done:!1}):this._queuedChunk=p,this._done=!0;for(let f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(g){this._storedError=(0,r.createResponseStatusError)(g,this._url);for(let p of this._requests)p.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(g){this.isStreamingSupported||this.onProgress?.({loaded:g.loaded})}get isStreamingSupported(){return!1}read(){return ae(this,null,function*(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){let p=this._queuedChunk;return this._queuedChunk=null,{value:p,done:!1}}if(this._done)return{value:void 0,done:!0};let g=new n.PromiseCapability;return this._requests.push(g),g.promise})}cancel(g){this._done=!0;for(let p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var n=i(1),r=i(20);let o=/^file:\/\/\/[a-zA-Z]:\//;function s(f){let v=lS(),m=v.parse(f);return m.protocol==="file:"||m.host?m:/^[a-z]:[/\\]/i.test(f)?v.parse(`file:///${f}`):(m.host||(m.protocol="file:"),m)}class a{constructor(v){this.source=v,this.url=s(v.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&v.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new g(this):new c(this),this._fullRequestReader}getRangeReader(v,m){if(m<=this._progressiveDataLength)return null;let x=this.isFsUrl?new p(this,v,m):new h(this,v,m);return this._rangeRequestReaders.push(x),x}cancelAllRequests(v){this._fullRequestReader?.cancel(v);for(let m of this._rangeRequestReaders.slice(0))m.cancel(v)}}e.PDFNodeStream=a;class l{constructor(v){this._url=v.url,this._done=!1,this._storedError=null,this.onProgress=null;let m=v.source;this._contentLength=m.length,this._loaded=0,this._filename=null,this._disableRange=m.disableRange||!1,this._rangeChunkSize=m.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!m.disableStream,this._isRangeSupported=!m.disableRange,this._readableStream=null,this._readCapability=new n.PromiseCapability,this._headersCapability=new n.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return ae(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let v=this._readableStream.read();return v===null?(this._readCapability=new n.PromiseCapability,this.read()):(this._loaded+=v.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(v).buffer,done:!1})})}cancel(v){if(!this._readableStream){this._error(v);return}this._readableStream.destroy(v)}_error(v){this._storedError=v,this._readCapability.resolve()}_setReadableStream(v){this._readableStream=v,v.on("readable",()=>{this._readCapability.resolve()}),v.on("end",()=>{v.destroy(),this._done=!0,this._readCapability.resolve()}),v.on("error",m=>{this._error(m)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new n.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class d{constructor(v){this._url=v.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new n.PromiseCapability;let m=v.source;this._isStreamingSupported=!m.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){return ae(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let v=this._readableStream.read();return v===null?(this._readCapability=new n.PromiseCapability,this.read()):(this._loaded+=v.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(v).buffer,done:!1})})}cancel(v){if(!this._readableStream){this._error(v);return}this._readableStream.destroy(v)}_error(v){this._storedError=v,this._readCapability.resolve()}_setReadableStream(v){this._readableStream=v,v.on("readable",()=>{this._readCapability.resolve()}),v.on("end",()=>{v.destroy(),this._done=!0,this._readCapability.resolve()}),v.on("error",m=>{this._error(m)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function u(f,v){return{protocol:f.protocol,auth:f.auth,host:f.hostname,port:f.port,path:f.path,method:"GET",headers:v}}class c extends l{constructor(v){super(v);let m=x=>{if(x.statusCode===404){let S=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=S,this._headersCapability.reject(S);return}this._headersCapability.resolve(),this._setReadableStream(x);let b=S=>this._readableStream.headers[S.toLowerCase()],{allowRangeRequests:A,suggestedLength:_}=(0,r.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:v.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=A,this._contentLength=_||this._contentLength,this._filename=(0,r.extractFilenameFromHeader)(b)};if(this._request=null,this._url.protocol==="http:"){let x=rv();this._request=x.request(u(this._url,v.httpHeaders),m)}else{let x=ov();this._request=x.request(u(this._url,v.httpHeaders),m)}this._request.on("error",x=>{this._storedError=x,this._headersCapability.reject(x)}),this._request.end()}}class h extends d{constructor(v,m,x){super(v),this._httpHeaders={};for(let A in v.httpHeaders){let _=v.httpHeaders[A];_!==void 0&&(this._httpHeaders[A]=_)}this._httpHeaders.Range=`bytes=${m}-${x-1}`;let b=A=>{if(A.statusCode===404){let _=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=_;return}this._setReadableStream(A)};if(this._request=null,this._url.protocol==="http:"){let A=rv();this._request=A.request(u(this._url,this._httpHeaders),b)}else{let A=ov();this._request=A.request(u(this._url,this._httpHeaders),b)}this._request.on("error",A=>{this._storedError=A}),this._request.end()}}class g extends l{constructor(v){super(v);let m=decodeURIComponent(this._url.path);o.test(this._url.href)&&(m=m.replace(/^\//,""));let x=Fu();x.lstat(m,(b,A)=>{if(b){b.code==="ENOENT"&&(b=new n.MissingPDFException(`Missing PDF "${m}".`)),this._storedError=b,this._headersCapability.reject(b);return}this._contentLength=A.size,this._setReadableStream(x.createReadStream(m)),this._headersCapability.resolve()})}}class p extends d{constructor(v,m,x){super(v);let b=decodeURIComponent(this._url.path);o.test(this._url.href)&&(b=b.replace(/^\//,""));let A=Fu();this._setReadableStream(A.createReadStream(b,{start:m,end:x-1}))}}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var n=i(6),r=i(1);let o={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},s="http://www.w3.org/XML/1998/namespace",a="http://www.w3.org/1999/xlink",l=["butt","round","square"],d=["miter","round","bevel"],u=function(A,_="",S=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!S)return URL.createObjectURL(new Blob([A],{type:_}));let D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",F=`data:${_};base64,`;for(let k=0,U=A.length;k<U;k+=3){let Q=A[k]&255,G=A[k+1]&255,K=A[k+2]&255,Y=Q>>2,H=(Q&3)<<4|G>>4,N=k+1<U?(G&15)<<2|K>>6:64,I=k+2<U?K&63:64;F+=D[Y]+D[H]+D[N]+D[I]}return F},c=function(){let A=new Uint8Array([137,80,78,71,13,10,26,10]),_=12,S=new Int32Array(256);for(let K=0;K<256;K++){let Y=K;for(let H=0;H<8;H++)Y=Y&1?3988292384^Y>>1&2147483647:Y>>1&2147483647;S[K]=Y}function D(K,Y,H){let N=-1;for(let I=Y;I<H;I++){let y=(N^K[I])&255,w=S[y];N=N>>>8^w}return N^-1}function F(K,Y,H,N){let I=N,y=Y.length;H[I]=y>>24&255,H[I+1]=y>>16&255,H[I+2]=y>>8&255,H[I+3]=y&255,I+=4,H[I]=K.charCodeAt(0)&255,H[I+1]=K.charCodeAt(1)&255,H[I+2]=K.charCodeAt(2)&255,H[I+3]=K.charCodeAt(3)&255,I+=4,H.set(Y,I),I+=Y.length;let w=D(H,N+4,I);H[I]=w>>24&255,H[I+1]=w>>16&255,H[I+2]=w>>8&255,H[I+3]=w&255}function k(K,Y,H){let N=1,I=0;for(let y=Y;y<H;++y)N=(N+(K[y]&255))%65521,I=(I+N)%65521;return I<<16|N}function U(K){if(!r.isNodeJS)return Q(K);try{let Y=parseInt(process.versions.node)>=8?K:Buffer.from(K),H=dS().deflateSync(Y,{level:9});return H instanceof Uint8Array?H:new Uint8Array(H)}catch(Y){(0,r.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Y)}return Q(K)}function Q(K){let Y=K.length,H=65535,N=Math.ceil(Y/H),I=new Uint8Array(2+Y+N*5+4),y=0;I[y++]=120,I[y++]=156;let w=0;for(;Y>H;)I[y++]=0,I[y++]=255,I[y++]=255,I[y++]=0,I[y++]=0,I.set(K.subarray(w,w+H),y),y+=H,w+=H,Y-=H;I[y++]=1,I[y++]=Y&255,I[y++]=Y>>8&255,I[y++]=~Y&65535&255,I[y++]=(~Y&65535)>>8&255,I.set(K.subarray(w),y),y+=K.length-w;let C=k(K,0,K.length);return I[y++]=C>>24&255,I[y++]=C>>16&255,I[y++]=C>>8&255,I[y++]=C&255,I}function G(K,Y,H,N){let I=K.width,y=K.height,w,C,M,R=K.data;switch(Y){case r.ImageKind.GRAYSCALE_1BPP:C=0,w=1,M=I+7>>3;break;case r.ImageKind.RGB_24BPP:C=2,w=8,M=I*3;break;case r.ImageKind.RGBA_32BPP:C=6,w=8,M=I*4;break;default:throw new Error("invalid format")}let L=new Uint8Array((1+M)*y),V=0,B=0;for(let z=0;z<y;++z)L[V++]=0,L.set(R.subarray(B,B+M),V),B+=M,V+=M;if(Y===r.ImageKind.GRAYSCALE_1BPP&&N){V=0;for(let z=0;z<y;z++){V++;for(let q=0;q<M;q++)L[V++]^=255}}let E=new Uint8Array([I>>24&255,I>>16&255,I>>8&255,I&255,y>>24&255,y>>16&255,y>>8&255,y&255,w,C,0,0,0]),T=U(L),P=A.length+_*3+E.length+T.length,O=new Uint8Array(P),j=0;return O.set(A,j),j+=A.length,F("IHDR",E,O,j),j+=_+E.length,F("IDATA",T,O,j),j+=_+T.length,F("IEND",new Uint8Array(0),O,j),u(O,"image/png",H)}return function(Y,H,N){let I=Y.kind===void 0?r.ImageKind.GRAYSCALE_1BPP:Y.kind;return G(Y,I,H,N)}}();class h{constructor(){this.fontSizeScale=1,this.fontWeight=o.fontWeight,this.fontSize=0,this.textMatrix=r.IDENTITY_MATRIX,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=r.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=o.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(_,S){this.x=_,this.y=S}}function g(A){let _=[],S=[];for(let D of A){if(D.fn==="save"){_.push({fnId:92,fn:"group",items:[]}),S.push(_),_=_.at(-1).items;continue}D.fn==="restore"?_=S.pop():_.push(D)}return _}function p(A){if(Number.isInteger(A))return A.toString();let _=A.toFixed(10),S=_.length-1;if(_[S]!=="0")return _;do S--;while(_[S]==="0");return _.substring(0,_[S]==="."?S:S+1)}function f(A){if(A[4]===0&&A[5]===0){if(A[1]===0&&A[2]===0)return A[0]===1&&A[3]===1?"":`scale(${p(A[0])} ${p(A[3])})`;if(A[0]===A[3]&&A[1]===-A[2]){let _=Math.acos(A[0])*180/Math.PI;return`rotate(${p(_)})`}}else if(A[0]===1&&A[1]===0&&A[2]===0&&A[3]===1)return`translate(${p(A[4])} ${p(A[5])})`;return`matrix(${p(A[0])} ${p(A[1])} ${p(A[2])} ${p(A[3])} ${p(A[4])} ${p(A[5])})`}let v=0,m=0,x=0;class b{constructor(_,S,D=!1){(0,n.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new n.DOMSVGFactory,this.current=new h,this.transformMatrix=r.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=_,this.objs=S,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!D,this._operatorIdMapping=[];for(let F in r.OPS)this._operatorIdMapping[r.OPS[F]]=F}getObject(_,S=null){return typeof _=="string"?_.startsWith("g_")?this.commonObjs.get(_):this.objs.get(_):S}save(){this.transformStack.push(this.transformMatrix);let _=this.current;this.extraStack.push(_),this.current=_.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(_){this.save(),this.executeOpTree(_),this.restore()}loadDependencies(_){let S=_.fnArray,D=_.argsArray;for(let F=0,k=S.length;F<k;F++)if(S[F]===r.OPS.dependency)for(let U of D[F]){let Q=U.startsWith("g_")?this.commonObjs:this.objs,G=new Promise(K=>{Q.get(U,K)});this.current.dependencies.push(G)}return Promise.all(this.current.dependencies)}transform(_,S,D,F,k,U){let Q=[_,S,D,F,k,U];this.transformMatrix=r.Util.transform(this.transformMatrix,Q),this.tgrp=null}getSVG(_,S){this.viewport=S;let D=this._initialize(S);return this.loadDependencies(_).then(()=>(this.transformMatrix=r.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(_)),D))}convertOpList(_){let S=this._operatorIdMapping,D=_.argsArray,F=_.fnArray,k=[];for(let U=0,Q=F.length;U<Q;U++){let G=F[U];k.push({fnId:G,fn:S[G],args:D[U]})}return g(k)}executeOpTree(_){for(let S of _){let D=S.fn,F=S.fnId,k=S.args;switch(F|0){case r.OPS.beginText:this.beginText();break;case r.OPS.dependency:break;case r.OPS.setLeading:this.setLeading(k);break;case r.OPS.setLeadingMoveText:this.setLeadingMoveText(k[0],k[1]);break;case r.OPS.setFont:this.setFont(k);break;case r.OPS.showText:this.showText(k[0]);break;case r.OPS.showSpacedText:this.showText(k[0]);break;case r.OPS.endText:this.endText();break;case r.OPS.moveText:this.moveText(k[0],k[1]);break;case r.OPS.setCharSpacing:this.setCharSpacing(k[0]);break;case r.OPS.setWordSpacing:this.setWordSpacing(k[0]);break;case r.OPS.setHScale:this.setHScale(k[0]);break;case r.OPS.setTextMatrix:this.setTextMatrix(k[0],k[1],k[2],k[3],k[4],k[5]);break;case r.OPS.setTextRise:this.setTextRise(k[0]);break;case r.OPS.setTextRenderingMode:this.setTextRenderingMode(k[0]);break;case r.OPS.setLineWidth:this.setLineWidth(k[0]);break;case r.OPS.setLineJoin:this.setLineJoin(k[0]);break;case r.OPS.setLineCap:this.setLineCap(k[0]);break;case r.OPS.setMiterLimit:this.setMiterLimit(k[0]);break;case r.OPS.setFillRGBColor:this.setFillRGBColor(k[0],k[1],k[2]);break;case r.OPS.setStrokeRGBColor:this.setStrokeRGBColor(k[0],k[1],k[2]);break;case r.OPS.setStrokeColorN:this.setStrokeColorN(k);break;case r.OPS.setFillColorN:this.setFillColorN(k);break;case r.OPS.shadingFill:this.shadingFill(k[0]);break;case r.OPS.setDash:this.setDash(k[0],k[1]);break;case r.OPS.setRenderingIntent:this.setRenderingIntent(k[0]);break;case r.OPS.setFlatness:this.setFlatness(k[0]);break;case r.OPS.setGState:this.setGState(k[0]);break;case r.OPS.fill:this.fill();break;case r.OPS.eoFill:this.eoFill();break;case r.OPS.stroke:this.stroke();break;case r.OPS.fillStroke:this.fillStroke();break;case r.OPS.eoFillStroke:this.eoFillStroke();break;case r.OPS.clip:this.clip("nonzero");break;case r.OPS.eoClip:this.clip("evenodd");break;case r.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case r.OPS.paintImageXObject:this.paintImageXObject(k[0]);break;case r.OPS.paintInlineImageXObject:this.paintInlineImageXObject(k[0]);break;case r.OPS.paintImageMaskXObject:this.paintImageMaskXObject(k[0]);break;case r.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(k[0],k[1]);break;case r.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case r.OPS.closePath:this.closePath();break;case r.OPS.closeStroke:this.closeStroke();break;case r.OPS.closeFillStroke:this.closeFillStroke();break;case r.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case r.OPS.nextLine:this.nextLine();break;case r.OPS.transform:this.transform(k[0],k[1],k[2],k[3],k[4],k[5]);break;case r.OPS.constructPath:this.constructPath(k[0],k[1]);break;case r.OPS.endPath:this.endPath();break;case 92:this.group(S.items);break;default:(0,r.warn)(`Unimplemented operator ${D}`);break}}}setWordSpacing(_){this.current.wordSpacing=_}setCharSpacing(_){this.current.charSpacing=_}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(_,S,D,F,k,U){let Q=this.current;Q.textMatrix=Q.lineMatrix=[_,S,D,F,k,U],Q.textMatrixScale=Math.hypot(_,S),Q.x=Q.lineX=0,Q.y=Q.lineY=0,Q.xcoords=[],Q.ycoords=[],Q.tspan=this.svgFactory.createElement("svg:tspan"),Q.tspan.setAttributeNS(null,"font-family",Q.fontFamily),Q.tspan.setAttributeNS(null,"font-size",`${p(Q.fontSize)}px`),Q.tspan.setAttributeNS(null,"y",p(-Q.y)),Q.txtElement=this.svgFactory.createElement("svg:text"),Q.txtElement.append(Q.tspan)}beginText(){let _=this.current;_.x=_.lineX=0,_.y=_.lineY=0,_.textMatrix=r.IDENTITY_MATRIX,_.lineMatrix=r.IDENTITY_MATRIX,_.textMatrixScale=1,_.tspan=this.svgFactory.createElement("svg:tspan"),_.txtElement=this.svgFactory.createElement("svg:text"),_.txtgrp=this.svgFactory.createElement("svg:g"),_.xcoords=[],_.ycoords=[]}moveText(_,S){let D=this.current;D.x=D.lineX+=_,D.y=D.lineY+=S,D.xcoords=[],D.ycoords=[],D.tspan=this.svgFactory.createElement("svg:tspan"),D.tspan.setAttributeNS(null,"font-family",D.fontFamily),D.tspan.setAttributeNS(null,"font-size",`${p(D.fontSize)}px`),D.tspan.setAttributeNS(null,"y",p(-D.y))}showText(_){let S=this.current,D=S.font,F=S.fontSize;if(F===0)return;let k=S.fontSizeScale,U=S.charSpacing,Q=S.wordSpacing,G=S.fontDirection,K=S.textHScale*G,Y=D.vertical,H=Y?1:-1,N=D.defaultVMetrics,I=F*S.fontMatrix[0],y=0;for(let M of _){if(M===null){y+=G*Q;continue}else if(typeof M=="number"){y+=H*M*F/1e3;continue}let R=(M.isSpace?Q:0)+U,L=M.fontChar,V,B,E=M.width;if(Y){let P,O=M.vmetric||N;P=M.vmetric?O[1]:E*.5,P=-P*I;let j=O[2]*I;E=O?-O[0]:E,V=P/k,B=(y+j)/k}else V=y/k,B=0;(M.isInFont||D.missingFile)&&(S.xcoords.push(S.x+V),Y&&S.ycoords.push(-S.y+B),S.tspan.textContent+=L);let T=Y?E*I-R*G:E*I+R*G;y+=T}S.tspan.setAttributeNS(null,"x",S.xcoords.map(p).join(" ")),Y?S.tspan.setAttributeNS(null,"y",S.ycoords.map(p).join(" ")):S.tspan.setAttributeNS(null,"y",p(-S.y)),Y?S.y-=y:S.x+=y*K,S.tspan.setAttributeNS(null,"font-family",S.fontFamily),S.tspan.setAttributeNS(null,"font-size",`${p(S.fontSize)}px`),S.fontStyle!==o.fontStyle&&S.tspan.setAttributeNS(null,"font-style",S.fontStyle),S.fontWeight!==o.fontWeight&&S.tspan.setAttributeNS(null,"font-weight",S.fontWeight);let w=S.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;if(w===r.TextRenderingMode.FILL||w===r.TextRenderingMode.FILL_STROKE?(S.fillColor!==o.fillColor&&S.tspan.setAttributeNS(null,"fill",S.fillColor),S.fillAlpha<1&&S.tspan.setAttributeNS(null,"fill-opacity",S.fillAlpha)):S.textRenderingMode===r.TextRenderingMode.ADD_TO_PATH?S.tspan.setAttributeNS(null,"fill","transparent"):S.tspan.setAttributeNS(null,"fill","none"),w===r.TextRenderingMode.STROKE||w===r.TextRenderingMode.FILL_STROKE){let M=1/(S.textMatrixScale||1);this._setStrokeAttributes(S.tspan,M)}let C=S.textMatrix;S.textRise!==0&&(C=C.slice(),C[5]+=S.textRise),S.txtElement.setAttributeNS(null,"transform",`${f(C)} scale(${p(K)}, -1)`),S.txtElement.setAttributeNS(s,"xml:space","preserve"),S.txtElement.append(S.tspan),S.txtgrp.append(S.txtElement),this._ensureTransformGroup().append(S.txtElement)}setLeadingMoveText(_,S){this.setLeading(-S),this.moveText(_,S)}addFontStyle(_){if(!_.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));let S=u(_.data,_.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${_.loadedName}"; src: url(${S}); }
`}setFont(_){let S=this.current,D=this.commonObjs.get(_[0]),F=_[1];S.font=D,this.embedFonts&&!D.missingFile&&!this.embeddedFonts[D.loadedName]&&(this.addFontStyle(D),this.embeddedFonts[D.loadedName]=D),S.fontMatrix=D.fontMatrix||r.FONT_IDENTITY_MATRIX;let k="normal";D.black?k="900":D.bold&&(k="bold");let U=D.italic?"italic":"normal";F<0?(F=-F,S.fontDirection=-1):S.fontDirection=1,S.fontSize=F,S.fontFamily=D.loadedName,S.fontWeight=k,S.fontStyle=U,S.tspan=this.svgFactory.createElement("svg:tspan"),S.tspan.setAttributeNS(null,"y",p(-S.y)),S.xcoords=[],S.ycoords=[]}endText(){let _=this.current;_.textRenderingMode&r.TextRenderingMode.ADD_TO_PATH_FLAG&&_.txtElement?.hasChildNodes()&&(_.element=_.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(_){_>0&&(this.current.lineWidth=_)}setLineCap(_){this.current.lineCap=l[_]}setLineJoin(_){this.current.lineJoin=d[_]}setMiterLimit(_){this.current.miterLimit=_}setStrokeAlpha(_){this.current.strokeAlpha=_}setStrokeRGBColor(_,S,D){this.current.strokeColor=r.Util.makeHexColor(_,S,D)}setFillAlpha(_){this.current.fillAlpha=_}setFillRGBColor(_,S,D){this.current.fillColor=r.Util.makeHexColor(_,S,D),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(_){this.current.strokeColor=this._makeColorN_Pattern(_)}setFillColorN(_){this.current.fillColor=this._makeColorN_Pattern(_)}shadingFill(_){let{width:S,height:D}=this.viewport,F=r.Util.inverseTransform(this.transformMatrix),[k,U,Q,G]=r.Util.getAxialAlignedBoundingBox([0,0,S,D],F),K=this.svgFactory.createElement("svg:rect");K.setAttributeNS(null,"x",k),K.setAttributeNS(null,"y",U),K.setAttributeNS(null,"width",Q-k),K.setAttributeNS(null,"height",G-U),K.setAttributeNS(null,"fill",this._makeShadingPattern(_)),this.current.fillAlpha<1&&K.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(K)}_makeColorN_Pattern(_){return _[0]==="TilingPattern"?this._makeTilingPattern(_):this._makeShadingPattern(_)}_makeTilingPattern(_){let S=_[1],D=_[2],F=_[3]||r.IDENTITY_MATRIX,[k,U,Q,G]=_[4],K=_[5],Y=_[6],H=_[7],N=`shading${x++}`,[I,y,w,C]=r.Util.normalizeRect([...r.Util.applyTransform([k,U],F),...r.Util.applyTransform([Q,G],F)]),[M,R]=r.Util.singularValueDecompose2dScale(F),L=K*M,V=Y*R,B=this.svgFactory.createElement("svg:pattern");B.setAttributeNS(null,"id",N),B.setAttributeNS(null,"patternUnits","userSpaceOnUse"),B.setAttributeNS(null,"width",L),B.setAttributeNS(null,"height",V),B.setAttributeNS(null,"x",`${I}`),B.setAttributeNS(null,"y",`${y}`);let E=this.svg,T=this.transformMatrix,P=this.current.fillColor,O=this.current.strokeColor,j=this.svgFactory.create(w-I,C-y);if(this.svg=j,this.transformMatrix=F,H===2){let z=r.Util.makeHexColor(...S);this.current.fillColor=z,this.current.strokeColor=z}return this.executeOpTree(this.convertOpList(D)),this.svg=E,this.transformMatrix=T,this.current.fillColor=P,this.current.strokeColor=O,B.append(j.childNodes[0]),this.defs.append(B),`url(#${N})`}_makeShadingPattern(_){switch(typeof _=="string"&&(_=this.objs.get(_)),_[0]){case"RadialAxial":let S=`shading${x++}`,D=_[3],F;switch(_[1]){case"axial":let k=_[4],U=_[5];F=this.svgFactory.createElement("svg:linearGradient"),F.setAttributeNS(null,"id",S),F.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),F.setAttributeNS(null,"x1",k[0]),F.setAttributeNS(null,"y1",k[1]),F.setAttributeNS(null,"x2",U[0]),F.setAttributeNS(null,"y2",U[1]);break;case"radial":let Q=_[4],G=_[5],K=_[6],Y=_[7];F=this.svgFactory.createElement("svg:radialGradient"),F.setAttributeNS(null,"id",S),F.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),F.setAttributeNS(null,"cx",G[0]),F.setAttributeNS(null,"cy",G[1]),F.setAttributeNS(null,"r",Y),F.setAttributeNS(null,"fx",Q[0]),F.setAttributeNS(null,"fy",Q[1]),F.setAttributeNS(null,"fr",K);break;default:throw new Error(`Unknown RadialAxial type: ${_[1]}`)}for(let k of D){let U=this.svgFactory.createElement("svg:stop");U.setAttributeNS(null,"offset",k[0]),U.setAttributeNS(null,"stop-color",k[1]),F.append(U)}return this.defs.append(F),`url(#${S})`;case"Mesh":return(0,r.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${_[0]}`)}}setDash(_,S){this.current.dashArray=_,this.current.dashPhase=S}constructPath(_,S){let D=this.current,F=D.x,k=D.y,U=[],Q=0;for(let G of _)switch(G|0){case r.OPS.rectangle:F=S[Q++],k=S[Q++];let K=S[Q++],Y=S[Q++],H=F+K,N=k+Y;U.push("M",p(F),p(k),"L",p(H),p(k),"L",p(H),p(N),"L",p(F),p(N),"Z");break;case r.OPS.moveTo:F=S[Q++],k=S[Q++],U.push("M",p(F),p(k));break;case r.OPS.lineTo:F=S[Q++],k=S[Q++],U.push("L",p(F),p(k));break;case r.OPS.curveTo:F=S[Q+4],k=S[Q+5],U.push("C",p(S[Q]),p(S[Q+1]),p(S[Q+2]),p(S[Q+3]),p(F),p(k)),Q+=6;break;case r.OPS.curveTo2:U.push("C",p(F),p(k),p(S[Q]),p(S[Q+1]),p(S[Q+2]),p(S[Q+3])),F=S[Q+2],k=S[Q+3],Q+=4;break;case r.OPS.curveTo3:F=S[Q+2],k=S[Q+3],U.push("C",p(S[Q]),p(S[Q+1]),p(F),p(k),p(F),p(k)),Q+=4;break;case r.OPS.closePath:U.push("Z");break}U=U.join(" "),D.path&&_.length>0&&_[0]!==r.OPS.rectangle&&_[0]!==r.OPS.moveTo?U=D.path.getAttributeNS(null,"d")+U:(D.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(D.path)),D.path.setAttributeNS(null,"d",U),D.path.setAttributeNS(null,"fill","none"),D.element=D.path,D.setCurrentPoint(F,k)}endPath(){let _=this.current;if(_.path=null,!this.pendingClip)return;if(!_.element){this.pendingClip=null;return}let S=`clippath${v++}`,D=this.svgFactory.createElement("svg:clipPath");D.setAttributeNS(null,"id",S),D.setAttributeNS(null,"transform",f(this.transformMatrix));let F=_.element.cloneNode(!0);if(this.pendingClip==="evenodd"?F.setAttributeNS(null,"clip-rule","evenodd"):F.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,D.append(F),this.defs.append(D),_.activeClipUrl){_.clipGroup=null;for(let k of this.extraStack)k.clipGroup=null;D.setAttributeNS(null,"clip-path",_.activeClipUrl)}_.activeClipUrl=`url(#${S})`,this.tgrp=null}clip(_){this.pendingClip=_}closePath(){let _=this.current;if(_.path){let S=`${_.path.getAttributeNS(null,"d")}Z`;_.path.setAttributeNS(null,"d",S)}}setLeading(_){this.current.leading=-_}setTextRise(_){this.current.textRise=_}setTextRenderingMode(_){this.current.textRenderingMode=_}setHScale(_){this.current.textHScale=_/100}setRenderingIntent(_){}setFlatness(_){}setGState(_){for(let[S,D]of _)switch(S){case"LW":this.setLineWidth(D);break;case"LC":this.setLineCap(D);break;case"LJ":this.setLineJoin(D);break;case"ML":this.setMiterLimit(D);break;case"D":this.setDash(D[0],D[1]);break;case"RI":this.setRenderingIntent(D);break;case"FL":this.setFlatness(D);break;case"Font":this.setFont(D);break;case"CA":this.setStrokeAlpha(D);break;case"ca":this.setFillAlpha(D);break;default:(0,r.warn)(`Unimplemented graphic state operator ${S}`);break}}fill(){let _=this.current;_.element&&(_.element.setAttributeNS(null,"fill",_.fillColor),_.element.setAttributeNS(null,"fill-opacity",_.fillAlpha),this.endPath())}stroke(){let _=this.current;_.element&&(this._setStrokeAttributes(_.element),_.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(_,S=1){let D=this.current,F=D.dashArray;S!==1&&F.length>0&&(F=F.map(function(k){return S*k})),_.setAttributeNS(null,"stroke",D.strokeColor),_.setAttributeNS(null,"stroke-opacity",D.strokeAlpha),_.setAttributeNS(null,"stroke-miterlimit",p(D.miterLimit)),_.setAttributeNS(null,"stroke-linecap",D.lineCap),_.setAttributeNS(null,"stroke-linejoin",D.lineJoin),_.setAttributeNS(null,"stroke-width",p(S*D.lineWidth)+"px"),_.setAttributeNS(null,"stroke-dasharray",F.map(p).join(" ")),_.setAttributeNS(null,"stroke-dashoffset",p(S*D.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){let _=this.svgFactory.createElement("svg:rect");_.setAttributeNS(null,"x","0"),_.setAttributeNS(null,"y","0"),_.setAttributeNS(null,"width","1px"),_.setAttributeNS(null,"height","1px"),_.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(_)}paintImageXObject(_){let S=this.getObject(_);if(!S){(0,r.warn)(`Dependent image with object ID ${_} is not ready yet`);return}this.paintInlineImageXObject(S)}paintInlineImageXObject(_,S){let D=_.width,F=_.height,k=c(_,this.forceDataSchema,!!S),U=this.svgFactory.createElement("svg:rect");U.setAttributeNS(null,"x","0"),U.setAttributeNS(null,"y","0"),U.setAttributeNS(null,"width",p(D)),U.setAttributeNS(null,"height",p(F)),this.current.element=U,this.clip("nonzero");let Q=this.svgFactory.createElement("svg:image");Q.setAttributeNS(a,"xlink:href",k),Q.setAttributeNS(null,"x","0"),Q.setAttributeNS(null,"y",p(-F)),Q.setAttributeNS(null,"width",p(D)+"px"),Q.setAttributeNS(null,"height",p(F)+"px"),Q.setAttributeNS(null,"transform",`scale(${p(1/D)} ${p(-1/F)})`),S?S.append(Q):this._ensureTransformGroup().append(Q)}paintImageMaskXObject(_){let S=this.getObject(_.data,_);if(S.bitmap){(0,r.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}let D=this.current,F=S.width,k=S.height,U=D.fillColor;D.maskId=`mask${m++}`;let Q=this.svgFactory.createElement("svg:mask");Q.setAttributeNS(null,"id",D.maskId);let G=this.svgFactory.createElement("svg:rect");G.setAttributeNS(null,"x","0"),G.setAttributeNS(null,"y","0"),G.setAttributeNS(null,"width",p(F)),G.setAttributeNS(null,"height",p(k)),G.setAttributeNS(null,"fill",U),G.setAttributeNS(null,"mask",`url(#${D.maskId})`),this.defs.append(Q),this._ensureTransformGroup().append(G),this.paintInlineImageXObject(S,Q)}paintFormXObjectBegin(_,S){if(Array.isArray(_)&&_.length===6&&this.transform(_[0],_[1],_[2],_[3],_[4],_[5]),S){let D=S[2]-S[0],F=S[3]-S[1],k=this.svgFactory.createElement("svg:rect");k.setAttributeNS(null,"x",S[0]),k.setAttributeNS(null,"y",S[1]),k.setAttributeNS(null,"width",p(D)),k.setAttributeNS(null,"height",p(F)),this.current.element=k,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(_){let S=this.svgFactory.create(_.width,_.height),D=this.svgFactory.createElement("svg:defs");S.append(D),this.defs=D;let F=this.svgFactory.createElement("svg:g");return F.setAttributeNS(null,"transform",f(_.transform)),S.append(F),this.svg=F,S}_ensureClipGroup(){if(!this.current.clipGroup){let _=this.svgFactory.createElement("svg:g");_.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(_),this.current.clipGroup=_}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",f(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}e.SVGGraphics=b},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class i{static textContent(r){let o=[],s={items:o,styles:Object.create(null)};function a(l){if(!l)return;let d=null,u=l.name;if(u==="#text")d=l.value;else if(i.shouldBuildText(u))l?.attributes?.textContent?d=l.attributes.textContent:l.value&&(d=l.value);else return;if(d!==null&&o.push({str:d}),!!l.children)for(let c of l.children)a(c)}return a(r),s}static shouldBuildText(r){return!(r==="textarea"||r==="input"||r==="option"||r==="select")}}e.XfaText=i},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=f,e.updateTextLayer=v;var n=i(1),r=i(6);let o=1e5,s=30,a=.8,l=new Map;function d(m,x){let b;if(x&&n.FeatureTest.isOffscreenCanvasSupported)b=new OffscreenCanvas(m,m).getContext("2d",{alpha:!1});else{let A=document.createElement("canvas");A.width=A.height=m,b=A.getContext("2d",{alpha:!1})}return b}function u(m,x){let b=l.get(m);if(b)return b;let A=d(s,x);A.font=`${s}px ${m}`;let _=A.measureText(""),S=_.fontBoundingBoxAscent,D=Math.abs(_.fontBoundingBoxDescent);if(S){let k=S/(S+D);return l.set(m,k),A.canvas.width=A.canvas.height=0,k}A.strokeStyle="red",A.clearRect(0,0,s,s),A.strokeText("g",0,0);let F=A.getImageData(0,0,s,s).data;D=0;for(let k=F.length-1-3;k>=0;k-=4)if(F[k]>0){D=Math.ceil(k/4/s);break}A.clearRect(0,0,s,s),A.strokeText("A",0,s),F=A.getImageData(0,0,s,s).data,S=0;for(let k=0,U=F.length;k<U;k+=4)if(F[k]>0){S=s-Math.floor(k/4/s);break}if(A.canvas.width=A.canvas.height=0,S){let k=S/(S+D);return l.set(m,k),k}return l.set(m,a),a}function c(m,x,b){let A=document.createElement("span"),_={angle:0,canvasWidth:0,hasText:x.str!=="",hasEOL:x.hasEOL,fontSize:0};m._textDivs.push(A);let S=n.Util.transform(m._transform,x.transform),D=Math.atan2(S[1],S[0]),F=b[x.fontName];F.vertical&&(D+=Math.PI/2);let k=Math.hypot(S[2],S[3]),U=k*u(F.fontFamily,m._isOffscreenCanvasSupported),Q,G;D===0?(Q=S[4],G=S[5]-U):(Q=S[4]+U*Math.sin(D),G=S[5]-U*Math.cos(D));let K="calc(var(--scale-factor)*",Y=A.style;m._container===m._rootContainer?(Y.left=`${(100*Q/m._pageWidth).toFixed(2)}%`,Y.top=`${(100*G/m._pageHeight).toFixed(2)}%`):(Y.left=`${K}${Q.toFixed(2)}px)`,Y.top=`${K}${G.toFixed(2)}px)`),Y.fontSize=`${K}${k.toFixed(2)}px)`,Y.fontFamily=F.fontFamily,_.fontSize=k,A.setAttribute("role","presentation"),A.textContent=x.str,A.dir=x.dir,m._fontInspectorEnabled&&(A.dataset.fontName=x.fontName),D!==0&&(_.angle=D*(180/Math.PI));let H=!1;if(x.str.length>1)H=!0;else if(x.str!==" "&&x.transform[0]!==x.transform[3]){let N=Math.abs(x.transform[0]),I=Math.abs(x.transform[3]);N!==I&&Math.max(N,I)/Math.min(N,I)>1.5&&(H=!0)}H&&(_.canvasWidth=F.vertical?x.height:x.width),m._textDivProperties.set(A,_),m._isReadableStream&&m._layoutText(A)}function h(m){let{div:x,scale:b,properties:A,ctx:_,prevFontSize:S,prevFontFamily:D}=m,{style:F}=x,k="";if(A.canvasWidth!==0&&A.hasText){let{fontFamily:U}=F,{canvasWidth:Q,fontSize:G}=A;(S!==G||D!==U)&&(_.font=`${G*b}px ${U}`,m.prevFontSize=G,m.prevFontFamily=U);let{width:K}=_.measureText(x.textContent);K>0&&(k=`scaleX(${Q*b/K})`)}A.angle!==0&&(k=`rotate(${A.angle}deg) ${k}`),k.length>0&&(F.transform=k)}function g(m){if(m._canceled)return;let x=m._textDivs,b=m._capability;if(x.length>o){b.resolve();return}if(!m._isReadableStream)for(let _ of x)m._layoutText(_);b.resolve()}class p{constructor({textContentSource:x,container:b,viewport:A,textDivs:_,textDivProperties:S,textContentItemsStr:D,isOffscreenCanvasSupported:F}){this._textContentSource=x,this._isReadableStream=x instanceof ReadableStream,this._container=this._rootContainer=b,this._textDivs=_||[],this._textContentItemsStr=D||[],this._isOffscreenCanvasSupported=F,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=S||new WeakMap,this._canceled=!1,this._capability=new n.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:A.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:d(0,F)};let{pageWidth:k,pageHeight:U,pageX:Q,pageY:G}=A.rawDims;this._transform=[1,0,0,-1,-Q,G+U],this._pageWidth=k,this._pageHeight=U,(0,r.setLayerDimensions)(b,A),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new n.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new n.AbortException("TextLayer task cancelled."))}_processItems(x,b){for(let A of x){if(A.str===void 0){if(A.type==="beginMarkedContentProps"||A.type==="beginMarkedContent"){let _=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),A.id!==null&&this._container.setAttribute("id",`${A.id}`),_.append(this._container)}else A.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(A.str),c(this,A,b)}}_layoutText(x){let b=this._layoutTextParams.properties=this._textDivProperties.get(x);if(this._layoutTextParams.div=x,h(this._layoutTextParams),b.hasText&&this._container.append(x),b.hasEOL){let A=document.createElement("br");A.setAttribute("role","presentation"),this._container.append(A)}}_render(){let x=new n.PromiseCapability,b=Object.create(null);if(this._isReadableStream){let A=()=>{this._reader.read().then(({value:_,done:S})=>{if(S){x.resolve();return}Object.assign(b,_.styles),this._processItems(_.items,b),A()},x.reject)};this._reader=this._textContentSource.getReader(),A()}else if(this._textContentSource){let{items:A,styles:_}=this._textContentSource;this._processItems(A,_),x.resolve()}else throw new Error('No "textContentSource" parameter specified.');x.promise.then(()=>{b=null,g(this)},this._capability.reject)}}e.TextLayerRenderTask=p;function f(m){!m.textContentSource&&(m.textContent||m.textContentStream)&&((0,r.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),m.textContentSource=m.textContent||m.textContentStream);let{container:x,viewport:b}=m,A=getComputedStyle(x),_=A.getPropertyValue("visibility"),S=parseFloat(A.getPropertyValue("--scale-factor"));_==="visible"&&(!S||Math.abs(S-b.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");let D=new p(m);return D._render(),D}function v({container:m,viewport:x,textDivs:b,textDivProperties:A,isOffscreenCanvasSupported:_,mustRotate:S=!0,mustRescale:D=!0}){if(S&&(0,r.setLayerDimensions)(m,{rotation:x.rotation}),D){let F=d(0,_),U={prevFontSize:null,prevFontFamily:null,div:null,scale:x.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:F};for(let Q of b)U.properties=A.get(Q),U.div=Q,h(U)}}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var n=i(1),r=i(4),o=i(28),s=i(33),a=i(6),l=i(34);let d=(()=>{class u{#e;#t=!1;#n=null;#i=this.pointerup.bind(this);#a=this.pointerdown.bind(this);#o=new Map;#s=!1;#l=!1;#d=!1;#r;static _initialized=!1;constructor({uiManager:h,pageIndex:g,div:p,accessibilityManager:f,annotationLayer:v,viewport:m,l10n:x}){let b=[o.FreeTextEditor,s.InkEditor,l.StampEditor];if(!u._initialized){u._initialized=!0;for(let A of b)A.initialize(x)}h.registerEditorTypes(b),this.#r=h,this.pageIndex=g,this.div=p,this.#e=f,this.#n=v,this.viewport=m,this.#r.addLayer(this)}get isEmpty(){return this.#o.size===0}updateToolbar(h){this.#r.updateToolbar(h)}updateMode(h=this.#r.getMode()){this.#p(),h===n.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),h!==n.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",h===n.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",h===n.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",h===n.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(h){if(!h&&this.#r.getMode()!==n.AnnotationEditorType.INK)return;if(!h){for(let p of this.#o.values())if(p.isEmpty()){p.setInBackground();return}}this.#u({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(h){this.#r.setEditingState(h)}addCommands(h){this.#r.addCommands(h)}enable(){this.div.style.pointerEvents="auto";let h=new Set;for(let p of this.#o.values())p.enableEditing(),p.annotationElementId&&h.add(p.annotationElementId);if(!this.#n)return;let g=this.#n.getEditableAnnotations();for(let p of g){if(p.hide(),this.#r.isDeletedAnnotationElement(p.data.id)||h.has(p.data.id))continue;let f=this.deserialize(p);f&&(this.addOrRebuild(f),f.enableEditing())}}disable(){this.#d=!0,this.div.style.pointerEvents="none";let h=new Set;for(let g of this.#o.values()){if(g.disableEditing(),!g.annotationElementId||g.serialize()!==null){h.add(g.annotationElementId);continue}this.getEditableAnnotation(g.annotationElementId)?.show(),g.remove()}if(this.#n){let g=this.#n.getEditableAnnotations();for(let p of g){let{id:f}=p.data;h.has(f)||this.#r.isDeletedAnnotationElement(f)||p.show()}}this.#p(),this.isEmpty&&(this.div.hidden=!0),this.#d=!1}getEditableAnnotation(h){return this.#n?.getEditableAnnotation(h)||null}setActiveEditor(h){this.#r.getActive()!==h&&this.#r.setActiveEditor(h)}enableClick(){this.div.addEventListener("pointerdown",this.#a),this.div.addEventListener("pointerup",this.#i)}disableClick(){this.div.removeEventListener("pointerdown",this.#a),this.div.removeEventListener("pointerup",this.#i)}attach(h){this.#o.set(h.id,h);let{annotationElementId:g}=h;g&&this.#r.isDeletedAnnotationElement(g)&&this.#r.removeDeletedAnnotationElement(h)}detach(h){this.#o.delete(h.id),this.#e?.removePointerInTextLayer(h.contentDiv),!this.#d&&h.annotationElementId&&this.#r.addDeletedAnnotationElement(h)}remove(h){this.detach(h),this.#r.removeEditor(h),h.div.contains(document.activeElement)&&setTimeout(()=>{this.#r.focusMainContainer()},0),h.div.remove(),h.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(h){h.parent!==this&&(h.annotationElementId&&(this.#r.addDeletedAnnotationElement(h.annotationElementId),r.AnnotationEditor.deleteAnnotationElement(h),h.annotationElementId=null),this.attach(h),h.parent?.detach(h),h.setParent(this),h.div&&h.isAttachedToDOM&&(h.div.remove(),this.div.append(h.div)))}add(h){if(this.changeParent(h),this.#r.addEditor(h),this.attach(h),!h.isAttachedToDOM){let g=h.render();this.div.append(g),h.isAttachedToDOM=!0}h.fixAndSetPosition(),h.onceAdded(),this.#r.addToAnnotationStorage(h)}moveEditorInDOM(h){if(!h.isAttachedToDOM)return;let{activeElement:g}=document;h.div.contains(g)&&(h._focusEventsAllowed=!1,setTimeout(()=>{h.div.contains(document.activeElement)?h._focusEventsAllowed=!0:(h.div.addEventListener("focusin",()=>{h._focusEventsAllowed=!0},{once:!0}),g.focus())},0)),h._structTreeParentId=this.#e?.moveElementInDOM(this.div,h.div,h.contentDiv,!0)}addOrRebuild(h){h.needsToBeRebuilt()?h.rebuild():this.add(h)}addUndoableEditor(h){let g=()=>h._uiManager.rebuild(h),p=()=>{h.remove()};this.addCommands({cmd:g,undo:p,mustExec:!1})}getNextId(){return this.#r.getId()}#c(h){switch(this.#r.getMode()){case n.AnnotationEditorType.FREETEXT:return new o.FreeTextEditor(h);case n.AnnotationEditorType.INK:return new s.InkEditor(h);case n.AnnotationEditorType.STAMP:return new l.StampEditor(h)}return null}pasteEditor(h,g){this.#r.updateToolbar(h),this.#r.updateMode(h);let{offsetX:p,offsetY:f}=this.#f(),v=this.getNextId(),m=this.#c(le({parent:this,id:v,x:p,y:f,uiManager:this.#r,isCentered:!0},g));m&&this.add(m)}deserialize(h){switch(h.annotationType??h.annotationEditorType){case n.AnnotationEditorType.FREETEXT:return o.FreeTextEditor.deserialize(h,this,this.#r);case n.AnnotationEditorType.INK:return s.InkEditor.deserialize(h,this,this.#r);case n.AnnotationEditorType.STAMP:return l.StampEditor.deserialize(h,this,this.#r)}return null}#u(h,g){let p=this.getNextId(),f=this.#c({parent:this,id:p,x:h.offsetX,y:h.offsetY,uiManager:this.#r,isCentered:g});return f&&this.add(f),f}#f(){let{x:h,y:g,width:p,height:f}=this.div.getBoundingClientRect(),v=Math.max(0,h),m=Math.max(0,g),x=Math.min(window.innerWidth,h+p),b=Math.min(window.innerHeight,g+f),A=(v+x)/2-h,_=(m+b)/2-g,[S,D]=this.viewport.rotation%180===0?[A,_]:[_,A];return{offsetX:S,offsetY:D}}addNewEditor(){this.#u(this.#f(),!0)}setSelected(h){this.#r.setSelected(h)}toggleSelected(h){this.#r.toggleSelected(h)}isSelected(h){return this.#r.isSelected(h)}unselect(h){this.#r.unselect(h)}pointerup(h){let{isMac:g}=n.FeatureTest.platform;if(!(h.button!==0||h.ctrlKey&&g)&&h.target===this.div&&this.#s){if(this.#s=!1,!this.#t){this.#t=!0;return}if(this.#r.getMode()===n.AnnotationEditorType.STAMP){this.#r.unselectAll();return}this.#u(h,!1)}}pointerdown(h){if(this.#s){this.#s=!1;return}let{isMac:g}=n.FeatureTest.platform;if(h.button!==0||h.ctrlKey&&g||h.target!==this.div)return;this.#s=!0;let p=this.#r.getActive();this.#t=!p||p.isEmpty()}findNewParent(h,g,p){let f=this.#r.findParent(g,p);return f===null||f===this?!1:(f.changeParent(h),!0)}destroy(){this.#r.getActive()?.parent===this&&(this.#r.commitOrRemove(),this.#r.setActiveEditor(null));for(let h of this.#o.values())this.#e?.removePointerInTextLayer(h.contentDiv),h.setParent(null),h.isAttachedToDOM=!1,h.div.remove();this.div=null,this.#o.clear(),this.#r.removeLayer(this)}#p(){this.#l=!0;for(let h of this.#o.values())h.isEmpty()&&h.remove();this.#l=!1}render({viewport:h}){this.viewport=h,(0,a.setLayerDimensions)(this.div,h);for(let g of this.#r.getEditors(this.pageIndex))this.add(g);this.updateMode()}update({viewport:h}){this.#r.commitOrRemove(),this.viewport=h,(0,a.setLayerDimensions)(this.div,{rotation:h.rotation}),this.updateMode()}get pageDimensions(){let{pageWidth:h,pageHeight:g}=this.viewport.rawDims;return[h,g]}}return u})();e.AnnotationEditorLayer=d},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var n=i(1),r=i(5),o=i(4),s=i(29);let a=(()=>{class l extends o.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#i=this.editorDivKeydown.bind(this);#a;#o="";#s=`${this.id}-editor`;#l;#d=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){let u=l.prototype,c=p=>p.isEmpty(),h=r.AnnotationEditorUIManager.TRANSLATE_SMALL,g=r.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,n.shadow)(this,"_keyboardManager",new r.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],u.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],u.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],u._translateEmpty,{args:[-h,0],checker:c}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],u._translateEmpty,{args:[-g,0],checker:c}],[["ArrowRight","mac+ArrowRight"],u._translateEmpty,{args:[h,0],checker:c}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],u._translateEmpty,{args:[g,0],checker:c}],[["ArrowUp","mac+ArrowUp"],u._translateEmpty,{args:[0,-h],checker:c}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],u._translateEmpty,{args:[0,-g],checker:c}],[["ArrowDown","mac+ArrowDown"],u._translateEmpty,{args:[0,h],checker:c}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],u._translateEmpty,{args:[0,g],checker:c}]]))}static _type="freetext";constructor(u){super(Ze(le({},u),{name:"freeTextEditor"})),this.#a=u.color||l._defaultColor||o.AnnotationEditor._defaultLineColor,this.#l=u.fontSize||l._defaultFontSize}static initialize(u){o.AnnotationEditor.initialize(u,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});let c=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(c.getPropertyValue("--freetext-padding"))}static updateDefaultParams(u,c){switch(u){case n.AnnotationEditorParamsType.FREETEXT_SIZE:l._defaultFontSize=c;break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:l._defaultColor=c;break}}updateParams(u,c){switch(u){case n.AnnotationEditorParamsType.FREETEXT_SIZE:this.#r(c);break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:this.#c(c);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,l._defaultFontSize],[n.AnnotationEditorParamsType.FREETEXT_COLOR,l._defaultColor||o.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,this.#l],[n.AnnotationEditorParamsType.FREETEXT_COLOR,this.#a]]}#r(u){let c=g=>{this.editorDiv.style.fontSize=`calc(${g}px * var(--scale-factor))`,this.translate(0,-(g-this.#l)*this.parentScale),this.#l=g,this.#f()},h=this.#l;this.addCommands({cmd:()=>{c(u)},undo:()=>{c(h)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#c(u){let c=this.#a;this.addCommands({cmd:()=>{this.#a=this.editorDiv.style.color=u},undo:()=>{this.#a=this.editorDiv.style.color=c},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(u,c){this._uiManager.translateSelectedEditors(u,c,!0)}getInitialTranslation(){let u=this.parentScale;return[-l._internalPadding*u,-(l._internalPadding+this.#l)*u]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(n.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#i),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#s),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#i),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(u){this._focusEventsAllowed&&(super.focusin(u),u.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#m();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#u(){let u=this.editorDiv.getElementsByTagName("div");if(u.length===0)return this.editorDiv.innerText;let c=[];for(let h of u)c.push(h.innerText.replace(/\r\n?|\n/,""));return c.join(`
`)}#f(){let[u,c]=this.parentDimensions,h;if(this.isAttachedToDOM)h=this.div.getBoundingClientRect();else{let{currentLayer:g,div:p}=this,f=p.style.display;p.style.display="hidden",g.div.append(this.div),h=p.getBoundingClientRect(),p.remove(),p.style.display=f}this.rotation%180===this.parentRotation%180?(this.width=h.width/u,this.height=h.height/c):(this.width=h.height/u,this.height=h.width/c),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();let u=this.#o,c=this.#o=this.#u().trimEnd();if(u===c)return;let h=g=>{if(this.#o=g,!g){this.remove();return}this.#p(),this._uiManager.rebuild(this),this.#f()};this.addCommands({cmd:()=>{h(c)},undo:()=>{h(u)},mustExec:!1}),this.#f()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(u){this.enterInEditMode()}keydown(u){u.target===this.div&&u.key==="Enter"&&(this.enterInEditMode(),u.preventDefault())}editorDivKeydown(u){l._keyboardManager.exec(this,u)}editorDivFocus(u){this.isEditing=!0}editorDivBlur(u){this.isEditing=!1}editorDivInput(u){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let u,c;this.width&&(u=this.x,c=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#s),this.enableEditing(),o.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(g=>this.editorDiv?.setAttribute("aria-label",g)),o.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(g=>this.editorDiv?.setAttribute("default-content",g)),this.editorDiv.contentEditable=!0;let{style:h}=this.editorDiv;if(h.fontSize=`calc(${this.#l}px * var(--scale-factor))`,h.color=this.#a,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,r.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){let[g,p]=this.parentDimensions;if(this.annotationElementId){let{position:f}=this.#d,[v,m]=this.getInitialTranslation();[v,m]=this.pageTranslationToScreen(v,m);let[x,b]=this.pageDimensions,[A,_]=this.pageTranslation,S,D;switch(this.rotation){case 0:S=u+(f[0]-A)/x,D=c+this.height-(f[1]-_)/b;break;case 90:S=u+(f[0]-A)/x,D=c-(f[1]-_)/b,[v,m]=[m,-v];break;case 180:S=u-this.width+(f[0]-A)/x,D=c-(f[1]-_)/b,[v,m]=[-v,-m];break;case 270:S=u+(f[0]-A-this.height*b)/x,D=c+(f[1]-_-this.width*x)/b,[v,m]=[-m,v];break}this.setAt(S*g,D*p,v,m)}else this.setAt(u*g,c*p,this.width*g,this.height*p);this.#p(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#p(){if(this.editorDiv.replaceChildren(),!!this.#o)for(let u of this.#o.split(`
`)){let c=document.createElement("div");c.append(u?document.createTextNode(u):document.createElement("br")),this.editorDiv.append(c)}}get contentDiv(){return this.editorDiv}static deserialize(u,c,h){let g=null;if(u instanceof s.FreeTextAnnotationElement){let{data:{defaultAppearanceData:{fontSize:f,fontColor:v},rect:m,rotation:x,id:b},textContent:A,textPosition:_,parent:{page:{pageNumber:S}}}=u;if(!A||A.length===0)return null;g=u={annotationType:n.AnnotationEditorType.FREETEXT,color:Array.from(v),fontSize:f,value:A.join(`
`),position:_,pageIndex:S-1,rect:m,rotation:x,id:b,deleted:!1}}let p=super.deserialize(u,c,h);return p.#l=u.fontSize,p.#a=n.Util.makeHexColor(...u.color),p.#o=u.value,p.annotationElementId=u.id||null,p.#d=g,p}serialize(u=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};let c=l._internalPadding*this.parentScale,h=this.getRect(c,c),g=o.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#a),p={annotationType:n.AnnotationEditorType.FREETEXT,color:g,fontSize:this.#l,value:this.#o,pageIndex:this.pageIndex,rect:h,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return u?p:this.annotationElementId&&!this.#g(p)?null:(p.id=this.annotationElementId,p)}#g(u){let{value:c,fontSize:h,color:g,rect:p,pageIndex:f}=this.#d;return u.value!==c||u.fontSize!==h||u.rect.some((v,m)=>Math.abs(v-p[m])>=1)||u.color.some((v,m)=>v!==g[m])||u.pageIndex!==f}#m(u=!1){if(!this.annotationElementId)return;if(this.#f(),!u&&(this.width===0||this.height===0)){setTimeout(()=>this.#m(!0),0);return}let c=l._internalPadding*this.parentScale;this.#d.rect=this.getRect(c,c)}}return l})();e.FreeTextEditor=a},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StampAnnotationElement=e.InkAnnotationElement=e.FreeTextAnnotationElement=e.AnnotationLayer=void 0;var n=i(1),r=i(6),o=i(3),s=i(30),a=i(31),l=i(32);let d=1e3,u=9,c=new WeakSet;function h(B){return{width:B[2]-B[0],height:B[3]-B[1]}}class g{static create(E){switch(E.data.annotationType){case n.AnnotationType.LINK:return new f(E);case n.AnnotationType.TEXT:return new v(E);case n.AnnotationType.WIDGET:switch(E.data.fieldType){case"Tx":return new x(E);case"Btn":return E.data.radioButton?new _(E):E.data.checkBox?new A(E):new S(E);case"Ch":return new D(E);case"Sig":return new b(E)}return new m(E);case n.AnnotationType.POPUP:return new F(E);case n.AnnotationType.FREETEXT:return new U(E);case n.AnnotationType.LINE:return new Q(E);case n.AnnotationType.SQUARE:return new G(E);case n.AnnotationType.CIRCLE:return new K(E);case n.AnnotationType.POLYLINE:return new Y(E);case n.AnnotationType.CARET:return new N(E);case n.AnnotationType.INK:return new I(E);case n.AnnotationType.POLYGON:return new H(E);case n.AnnotationType.HIGHLIGHT:return new y(E);case n.AnnotationType.UNDERLINE:return new w(E);case n.AnnotationType.SQUIGGLY:return new C(E);case n.AnnotationType.STRIKEOUT:return new M(E);case n.AnnotationType.STAMP:return new R(E);case n.AnnotationType.FILEATTACHMENT:return new L(E);default:return new p(E)}}}class p{#e=!1;constructor(E,{isRenderable:T=!1,ignoreBorder:P=!1,createQuadrilaterals:O=!1}={}){this.isRenderable=T,this.data=E.data,this.layer=E.layer,this.linkService=E.linkService,this.downloadManager=E.downloadManager,this.imageResourcesPath=E.imageResourcesPath,this.renderForms=E.renderForms,this.svgFactory=E.svgFactory,this.annotationStorage=E.annotationStorage,this.enableScripting=E.enableScripting,this.hasJSActions=E.hasJSActions,this._fieldObjects=E.fieldObjects,this.parent=E.parent,T&&(this.container=this._createContainer(P)),O&&this._createQuadrilaterals()}static _hasPopupData({titleObj:E,contentsObj:T,richText:P}){return!!(E?.str||T?.str||P?.str)}get hasPopupData(){return p._hasPopupData(this.data)}_createContainer(E){let{data:T,parent:{page:P,viewport:O}}=this,j=document.createElement("section");j.setAttribute("data-annotation-id",T.id),this instanceof m||(j.tabIndex=d),j.style.zIndex=this.parent.zIndex++,this.data.popupRef&&j.setAttribute("aria-haspopup","dialog"),T.noRotate&&j.classList.add("norotate");let{pageWidth:z,pageHeight:q,pageX:ne,pageY:X}=O.rawDims;if(!T.rect||this instanceof F){let{rotation:ie}=T;return!T.hasOwnCanvas&&ie!==0&&this.setRotation(ie,j),j}let{width:W,height:$}=h(T.rect),Z=n.Util.normalizeRect([T.rect[0],P.view[3]-T.rect[1]+P.view[1],T.rect[2],P.view[3]-T.rect[3]+P.view[1]]);if(!E&&T.borderStyle.width>0){j.style.borderWidth=`${T.borderStyle.width}px`;let ie=T.borderStyle.horizontalCornerRadius,de=T.borderStyle.verticalCornerRadius;if(ie>0||de>0){let be=`calc(${ie}px * var(--scale-factor)) / calc(${de}px * var(--scale-factor))`;j.style.borderRadius=be}else if(this instanceof _){let be=`calc(${W}px * var(--scale-factor)) / calc(${$}px * var(--scale-factor))`;j.style.borderRadius=be}switch(T.borderStyle.style){case n.AnnotationBorderStyleType.SOLID:j.style.borderStyle="solid";break;case n.AnnotationBorderStyleType.DASHED:j.style.borderStyle="dashed";break;case n.AnnotationBorderStyleType.BEVELED:(0,n.warn)("Unimplemented border style: beveled");break;case n.AnnotationBorderStyleType.INSET:(0,n.warn)("Unimplemented border style: inset");break;case n.AnnotationBorderStyleType.UNDERLINE:j.style.borderBottomStyle="solid";break;default:break}let ge=T.borderColor||null;ge?(this.#e=!0,j.style.borderColor=n.Util.makeHexColor(ge[0]|0,ge[1]|0,ge[2]|0)):j.style.borderWidth=0}j.style.left=`${100*(Z[0]-ne)/z}%`,j.style.top=`${100*(Z[1]-X)/q}%`;let{rotation:J}=T;return T.hasOwnCanvas||J===0?(j.style.width=`${100*W/z}%`,j.style.height=`${100*$/q}%`):this.setRotation(J,j),j}setRotation(E,T=this.container){if(!this.data.rect)return;let{pageWidth:P,pageHeight:O}=this.parent.viewport.rawDims,{width:j,height:z}=h(this.data.rect),q,ne;E%180===0?(q=100*j/P,ne=100*z/O):(q=100*z/P,ne=100*j/O),T.style.width=`${q}%`,T.style.height=`${ne}%`,T.setAttribute("data-main-rotation",(360-E)%360)}get _commonActions(){let E=(T,P,O)=>{let j=O.detail[T],z=j[0],q=j.slice(1);O.target.style[P]=s.ColorConverters[`${z}_HTML`](q),this.annotationStorage.setValue(this.data.id,{[P]:s.ColorConverters[`${z}_rgb`](q)})};return(0,n.shadow)(this,"_commonActions",{display:T=>{let{display:P}=T.detail,O=P%2===1;this.container.style.visibility=O?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:O,noPrint:P===1||P===2})},print:T=>{this.annotationStorage.setValue(this.data.id,{noPrint:!T.detail.print})},hidden:T=>{let{hidden:P}=T.detail;this.container.style.visibility=P?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:P,noView:P})},focus:T=>{setTimeout(()=>T.target.focus({preventScroll:!1}),0)},userName:T=>{T.target.title=T.detail.userName},readonly:T=>{T.target.disabled=T.detail.readonly},required:T=>{this._setRequired(T.target,T.detail.required)},bgColor:T=>{E("bgColor","backgroundColor",T)},fillColor:T=>{E("fillColor","backgroundColor",T)},fgColor:T=>{E("fgColor","color",T)},textColor:T=>{E("textColor","color",T)},borderColor:T=>{E("borderColor","borderColor",T)},strokeColor:T=>{E("strokeColor","borderColor",T)},rotation:T=>{let P=T.detail.rotation;this.setRotation(P),this.annotationStorage.setValue(this.data.id,{rotation:P})}})}_dispatchEventFromSandbox(E,T){let P=this._commonActions;for(let O of Object.keys(T.detail))(E[O]||P[O])?.(T)}_setDefaultPropertiesFromJS(E){if(!this.enableScripting)return;let T=this.annotationStorage.getRawValue(this.data.id);if(!T)return;let P=this._commonActions;for(let[O,j]of Object.entries(T)){let z=P[O];if(z){let q={detail:{[O]:j},target:E};z(q),delete T[O]}}}_createQuadrilaterals(){if(!this.container)return;let{quadPoints:E}=this.data;if(!E)return;let[T,P,O,j]=this.data.rect;if(E.length===1){let[,{x:de,y:ge},{x:be,y:we}]=E[0];if(O===de&&j===ge&&T===be&&P===we)return}let{style:z}=this.container,q;if(this.#e){let{borderColor:de,borderWidth:ge}=z;z.borderWidth=0,q=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${de}" stroke-width="${ge}">`],this.container.classList.add("hasBorder")}let ne=O-T,X=j-P,{svgFactory:W}=this,$=W.createElement("svg");$.classList.add("quadrilateralsContainer"),$.setAttribute("width",0),$.setAttribute("height",0);let Z=W.createElement("defs");$.append(Z);let J=W.createElement("clipPath"),ie=`clippath_${this.data.id}`;J.setAttribute("id",ie),J.setAttribute("clipPathUnits","objectBoundingBox"),Z.append(J);for(let[,{x:de,y:ge},{x:be,y:we}]of E){let Ie=W.createElement("rect"),Qe=(be-T)/ne,Ot=(j-ge)/X,xt=(de-be)/ne,_n=(ge-we)/X;Ie.setAttribute("x",Qe),Ie.setAttribute("y",Ot),Ie.setAttribute("width",xt),Ie.setAttribute("height",_n),J.append(Ie),q?.push(`<rect vector-effect="non-scaling-stroke" x="${Qe}" y="${Ot}" width="${xt}" height="${_n}"/>`)}this.#e&&(q.push("</g></svg>')"),z.backgroundImage=q.join("")),this.container.append($),this.container.style.clipPath=`url(#${ie})`}_createPopup(){let{container:E,data:T}=this;E.setAttribute("aria-haspopup","dialog");let P=new F({data:{color:T.color,titleObj:T.titleObj,modificationDate:T.modificationDate,contentsObj:T.contentsObj,richText:T.richText,parentRect:T.rect,borderStyle:0,id:`popup_${T.id}`,rotation:T.rotation},parent:this.parent,elements:[this]});this.parent.div.append(P.render())}render(){(0,n.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(E,T=null){let P=[];if(this._fieldObjects){let O=this._fieldObjects[E];if(O)for(let{page:j,id:z,exportValues:q}of O){if(j===-1||z===T)continue;let ne=typeof q=="string"?q:null,X=document.querySelector(`[data-element-id="${z}"]`);if(X&&!c.has(X)){(0,n.warn)(`_getElementsByName - element not allowed: ${z}`);continue}P.push({id:z,exportValue:ne,domElement:X})}return P}for(let O of document.getElementsByName(E)){let{exportValue:j}=O,z=O.getAttribute("data-element-id");z!==T&&c.has(O)&&P.push({id:z,exportValue:j,domElement:O})}return P}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){let E=this.getElementsToTriggerPopup();if(Array.isArray(E))for(let T of E)T.classList.add("highlightArea");else E.classList.add("highlightArea")}_editOnDoubleClick(){let{annotationEditorType:E,data:{id:T}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:E,editId:T})})}}class f extends p{constructor(E,T=null){super(E,{isRenderable:!0,ignoreBorder:!!T?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=E.data.isTooltipOnly}render(){let{data:E,linkService:T}=this,P=document.createElement("a");P.setAttribute("data-element-id",E.id);let O=!1;return E.url?(T.addLinkAttributes(P,E.url,E.newWindow),O=!0):E.action?(this._bindNamedAction(P,E.action),O=!0):E.attachment?(this._bindAttachment(P,E.attachment),O=!0):E.setOCGState?(this.#t(P,E.setOCGState),O=!0):E.dest?(this._bindLink(P,E.dest),O=!0):(E.actions&&(E.actions.Action||E.actions["Mouse Up"]||E.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(P,E),O=!0),E.resetForm?(this._bindResetFormAction(P,E.resetForm),O=!0):this.isTooltipOnly&&!O&&(this._bindLink(P,""),O=!0)),this.container.classList.add("linkAnnotation"),O&&this.container.append(P),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(E,T){E.href=this.linkService.getDestinationHash(T),E.onclick=()=>(T&&this.linkService.goToDestination(T),!1),(T||T==="")&&this.#e()}_bindNamedAction(E,T){E.href=this.linkService.getAnchorUrl(""),E.onclick=()=>(this.linkService.executeNamedAction(T),!1),this.#e()}_bindAttachment(E,T){E.href=this.linkService.getAnchorUrl(""),E.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,T.content,T.filename),!1),this.#e()}#t(E,T){E.href=this.linkService.getAnchorUrl(""),E.onclick=()=>(this.linkService.executeSetOCGState(T),!1),this.#e()}_bindJSAction(E,T){E.href=this.linkService.getAnchorUrl("");let P=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let O of Object.keys(T.actions)){let j=P.get(O);j&&(E[j]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T.id,name:O}}),!1))}E.onclick||(E.onclick=()=>!1),this.#e()}_bindResetFormAction(E,T){let P=E.onclick;if(P||(E.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,n.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),P||(E.onclick=()=>!1);return}E.onclick=()=>{P?.();let{fields:O,refs:j,include:z}=T,q=[];if(O.length!==0||j.length!==0){let W=new Set(j);for(let $ of O){let Z=this._fieldObjects[$]||[];for(let{id:J}of Z)W.add(J)}for(let $ of Object.values(this._fieldObjects))for(let Z of $)W.has(Z.id)===z&&q.push(Z)}else for(let W of Object.values(this._fieldObjects))q.push(...W);let ne=this.annotationStorage,X=[];for(let W of q){let{id:$}=W;switch(X.push($),W.type){case"text":{let J=W.defaultValue||"";ne.setValue($,{value:J});break}case"checkbox":case"radiobutton":{let J=W.defaultValue===W.exportValues;ne.setValue($,{value:J});break}case"combobox":case"listbox":{let J=W.defaultValue||"";ne.setValue($,{value:J});break}default:continue}let Z=document.querySelector(`[data-element-id="${$}"]`);if(Z){if(!c.has(Z)){(0,n.warn)(`_bindResetFormAction - element not allowed: ${$}`);continue}}else continue;Z.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:X,name:"ResetForm"}}),!1}}}class v extends p{constructor(E){super(E,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");let E=document.createElement("img");return E.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",E.alt="[{{type}} Annotation]",E.dataset.l10nId="text_annotation_type",E.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(E),this.container}}class m extends p{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(E){this.data.hasOwnCanvas&&(E.previousSibling?.nodeName==="CANVAS"&&(E.previousSibling.hidden=!0),E.hidden=!1)}_getKeyModifier(E){let{isWin:T,isMac:P}=n.FeatureTest.platform;return T&&E.ctrlKey||P&&E.metaKey}_setEventListener(E,T,P,O,j){P.includes("mouse")?E.addEventListener(P,z=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:O,value:j(z),shift:z.shiftKey,modifier:this._getKeyModifier(z)}})}):E.addEventListener(P,z=>{if(P==="blur"){if(!T.focused||!z.relatedTarget)return;T.focused=!1}else if(P==="focus"){if(T.focused)return;T.focused=!0}j&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:O,value:j(z)}})})}_setEventListeners(E,T,P,O){for(let[j,z]of P)(z==="Action"||this.data.actions?.[z])&&((z==="Focus"||z==="Blur")&&(T||={focused:!1}),this._setEventListener(E,T,j,z,O),z==="Focus"&&!this.data.actions?.Blur?this._setEventListener(E,T,"blur","Blur",null):z==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(E,T,"focus","Focus",null))}_setBackgroundColor(E){let T=this.data.backgroundColor||null;E.style.backgroundColor=T===null?"transparent":n.Util.makeHexColor(T[0],T[1],T[2])}_setTextStyle(E){let T=["left","center","right"],{fontColor:P}=this.data.defaultAppearanceData,O=this.data.defaultAppearanceData.fontSize||u,j=E.style,z,q=2,ne=X=>Math.round(10*X)/10;if(this.data.multiLine){let X=Math.abs(this.data.rect[3]-this.data.rect[1]-q),W=Math.round(X/(n.LINE_FACTOR*O))||1,$=X/W;z=Math.min(O,ne($/n.LINE_FACTOR))}else{let X=Math.abs(this.data.rect[3]-this.data.rect[1]-q);z=Math.min(O,ne(X/n.LINE_FACTOR))}j.fontSize=`calc(${z}px * var(--scale-factor))`,j.color=n.Util.makeHexColor(P[0],P[1],P[2]),this.data.textAlignment!==null&&(j.textAlign=T[this.data.textAlignment])}_setRequired(E,T){T?E.setAttribute("required",!0):E.removeAttribute("required"),E.setAttribute("aria-required",T)}}class x extends m{constructor(E){let T=E.renderForms||!E.data.hasAppearance&&!!E.data.fieldValue;super(E,{isRenderable:T})}setPropertyOnSiblings(E,T,P,O){let j=this.annotationStorage;for(let z of this._getElementsByName(E.name,E.id))z.domElement&&(z.domElement[T]=P),j.setValue(z.id,{[O]:P})}render(){let E=this.annotationStorage,T=this.data.id;this.container.classList.add("textWidgetAnnotation");let P=null;if(this.renderForms){let O=E.getValue(T,{value:this.data.fieldValue}),j=O.value||"",z=E.getValue(T,{charLimit:this.data.maxLen}).charLimit;z&&j.length>z&&(j=j.slice(0,z));let q=O.formattedValue||this.data.textContent?.join(`
`)||null;q&&this.data.comb&&(q=q.replaceAll(/\s+/g,""));let ne={userValue:j,formattedValue:q,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(P=document.createElement("textarea"),P.textContent=q??j,this.data.doNotScroll&&(P.style.overflowY="hidden")):(P=document.createElement("input"),P.type="text",P.setAttribute("value",q??j),this.data.doNotScroll&&(P.style.overflowX="hidden")),this.data.hasOwnCanvas&&(P.hidden=!0),c.add(P),P.setAttribute("data-element-id",T),P.disabled=this.data.readOnly,P.name=this.data.fieldName,P.tabIndex=d,this._setRequired(P,this.data.required),z&&(P.maxLength=z),P.addEventListener("input",W=>{E.setValue(T,{value:W.target.value}),this.setPropertyOnSiblings(P,"value",W.target.value,"value"),ne.formattedValue=null}),P.addEventListener("resetform",W=>{let $=this.data.defaultFieldValue??"";P.value=ne.userValue=$,ne.formattedValue=null});let X=W=>{let{formattedValue:$}=ne;$!=null&&(W.target.value=$),W.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){P.addEventListener("focus",$=>{if(ne.focused)return;let{target:Z}=$;ne.userValue&&(Z.value=ne.userValue),ne.lastCommittedValue=Z.value,ne.commitKey=1,ne.focused=!0}),P.addEventListener("updatefromsandbox",$=>{this.showElementAndHideCanvas($.target);let Z={value(J){ne.userValue=J.detail.value??"",E.setValue(T,{value:ne.userValue.toString()}),J.target.value=ne.userValue},formattedValue(J){let{formattedValue:ie}=J.detail;ne.formattedValue=ie,ie!=null&&J.target!==document.activeElement&&(J.target.value=ie),E.setValue(T,{formattedValue:ie})},selRange(J){J.target.setSelectionRange(...J.detail.selRange)},charLimit:J=>{let{charLimit:ie}=J.detail,{target:de}=J;if(ie===0){de.removeAttribute("maxLength");return}de.setAttribute("maxLength",ie);let ge=ne.userValue;!ge||ge.length<=ie||(ge=ge.slice(0,ie),de.value=ne.userValue=ge,E.setValue(T,{value:ge}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T,name:"Keystroke",value:ge,willCommit:!0,commitKey:1,selStart:de.selectionStart,selEnd:de.selectionEnd}}))}};this._dispatchEventFromSandbox(Z,$)}),P.addEventListener("keydown",$=>{ne.commitKey=1;let Z=-1;if($.key==="Escape"?Z=0:$.key==="Enter"&&!this.data.multiLine?Z=2:$.key==="Tab"&&(ne.commitKey=3),Z===-1)return;let{value:J}=$.target;ne.lastCommittedValue!==J&&(ne.lastCommittedValue=J,ne.userValue=J,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T,name:"Keystroke",value:J,willCommit:!0,commitKey:Z,selStart:$.target.selectionStart,selEnd:$.target.selectionEnd}}))});let W=X;X=null,P.addEventListener("blur",$=>{if(!ne.focused||!$.relatedTarget)return;ne.focused=!1;let{value:Z}=$.target;ne.userValue=Z,ne.lastCommittedValue!==Z&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T,name:"Keystroke",value:Z,willCommit:!0,commitKey:ne.commitKey,selStart:$.target.selectionStart,selEnd:$.target.selectionEnd}}),W($)}),this.data.actions?.Keystroke&&P.addEventListener("beforeinput",$=>{ne.lastCommittedValue=null;let{data:Z,target:J}=$,{value:ie,selectionStart:de,selectionEnd:ge}=J,be=de,we=ge;switch($.inputType){case"deleteWordBackward":{let Ie=ie.substring(0,de).match(/\w*[^\w]*$/);Ie&&(be-=Ie[0].length);break}case"deleteWordForward":{let Ie=ie.substring(de).match(/^[^\w]*\w*/);Ie&&(we+=Ie[0].length);break}case"deleteContentBackward":de===ge&&(be-=1);break;case"deleteContentForward":de===ge&&(we+=1);break}$.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T,name:"Keystroke",value:ie,change:Z||"",willCommit:!1,selStart:be,selEnd:we}})}),this._setEventListeners(P,ne,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],$=>$.target.value)}if(X&&P.addEventListener("blur",X),this.data.comb){let $=(this.data.rect[2]-this.data.rect[0])/z;P.classList.add("comb"),P.style.letterSpacing=`calc(${$}px * var(--scale-factor) - 1ch)`}}else P=document.createElement("div"),P.textContent=this.data.fieldValue,P.style.verticalAlign="middle",P.style.display="table-cell";return this._setTextStyle(P),this._setBackgroundColor(P),this._setDefaultPropertiesFromJS(P),this.container.append(P),this.container}}class b extends m{constructor(E){super(E,{isRenderable:!!E.data.hasOwnCanvas})}}class A extends m{constructor(E){super(E,{isRenderable:E.renderForms})}render(){let E=this.annotationStorage,T=this.data,P=T.id,O=E.getValue(P,{value:T.exportValue===T.fieldValue}).value;typeof O=="string"&&(O=O!=="Off",E.setValue(P,{value:O})),this.container.classList.add("buttonWidgetAnnotation","checkBox");let j=document.createElement("input");return c.add(j),j.setAttribute("data-element-id",P),j.disabled=T.readOnly,this._setRequired(j,this.data.required),j.type="checkbox",j.name=T.fieldName,O&&j.setAttribute("checked",!0),j.setAttribute("exportValue",T.exportValue),j.tabIndex=d,j.addEventListener("change",z=>{let{name:q,checked:ne}=z.target;for(let X of this._getElementsByName(q,P)){let W=ne&&X.exportValue===T.exportValue;X.domElement&&(X.domElement.checked=W),E.setValue(X.id,{value:W})}E.setValue(P,{value:ne})}),j.addEventListener("resetform",z=>{let q=T.defaultFieldValue||"Off";z.target.checked=q===T.exportValue}),this.enableScripting&&this.hasJSActions&&(j.addEventListener("updatefromsandbox",z=>{let q={value(ne){ne.target.checked=ne.detail.value!=="Off",E.setValue(P,{value:ne.target.checked})}};this._dispatchEventFromSandbox(q,z)}),this._setEventListeners(j,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],z=>z.target.checked)),this._setBackgroundColor(j),this._setDefaultPropertiesFromJS(j),this.container.append(j),this.container}}class _ extends m{constructor(E){super(E,{isRenderable:E.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");let E=this.annotationStorage,T=this.data,P=T.id,O=E.getValue(P,{value:T.fieldValue===T.buttonValue}).value;typeof O=="string"&&(O=O!==T.buttonValue,E.setValue(P,{value:O}));let j=document.createElement("input");if(c.add(j),j.setAttribute("data-element-id",P),j.disabled=T.readOnly,this._setRequired(j,this.data.required),j.type="radio",j.name=T.fieldName,O&&j.setAttribute("checked",!0),j.tabIndex=d,j.addEventListener("change",z=>{let{name:q,checked:ne}=z.target;for(let X of this._getElementsByName(q,P))E.setValue(X.id,{value:!1});E.setValue(P,{value:ne})}),j.addEventListener("resetform",z=>{let q=T.defaultFieldValue;z.target.checked=q!=null&&q===T.buttonValue}),this.enableScripting&&this.hasJSActions){let z=T.buttonValue;j.addEventListener("updatefromsandbox",q=>{let ne={value:X=>{let W=z===X.detail.value;for(let $ of this._getElementsByName(X.target.name)){let Z=W&&$.id===P;$.domElement&&($.domElement.checked=Z),E.setValue($.id,{value:Z})}}};this._dispatchEventFromSandbox(ne,q)}),this._setEventListeners(j,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],q=>q.target.checked)}return this._setBackgroundColor(j),this._setDefaultPropertiesFromJS(j),this.container.append(j),this.container}}class S extends f{constructor(E){super(E,{ignoreBorder:E.data.hasAppearance})}render(){let E=super.render();E.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(E.title=this.data.alternativeText);let T=E.lastChild;return this.enableScripting&&this.hasJSActions&&T&&(this._setDefaultPropertiesFromJS(T),T.addEventListener("updatefromsandbox",P=>{this._dispatchEventFromSandbox({},P)})),E}}class D extends m{constructor(E){super(E,{isRenderable:E.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");let E=this.annotationStorage,T=this.data.id,P=E.getValue(T,{value:this.data.fieldValue}),O=document.createElement("select");c.add(O),O.setAttribute("data-element-id",T),O.disabled=this.data.readOnly,this._setRequired(O,this.data.required),O.name=this.data.fieldName,O.tabIndex=d;let j=this.data.combo&&this.data.options.length>0;this.data.combo||(O.size=this.data.options.length,this.data.multiSelect&&(O.multiple=!0)),O.addEventListener("resetform",W=>{let $=this.data.defaultFieldValue;for(let Z of O.options)Z.selected=Z.value===$});for(let W of this.data.options){let $=document.createElement("option");$.textContent=W.displayValue,$.value=W.exportValue,P.value.includes(W.exportValue)&&($.setAttribute("selected",!0),j=!1),O.append($)}let z=null;if(j){let W=document.createElement("option");W.value=" ",W.setAttribute("hidden",!0),W.setAttribute("selected",!0),O.prepend(W),z=()=>{W.remove(),O.removeEventListener("input",z),z=null},O.addEventListener("input",z)}let q=W=>{let $=W?"value":"textContent",{options:Z,multiple:J}=O;return J?Array.prototype.filter.call(Z,ie=>ie.selected).map(ie=>ie[$]):Z.selectedIndex===-1?null:Z[Z.selectedIndex][$]},ne=q(!1),X=W=>{let $=W.target.options;return Array.prototype.map.call($,Z=>({displayValue:Z.textContent,exportValue:Z.value}))};return this.enableScripting&&this.hasJSActions?(O.addEventListener("updatefromsandbox",W=>{let $={value(Z){z?.();let J=Z.detail.value,ie=new Set(Array.isArray(J)?J:[J]);for(let de of O.options)de.selected=ie.has(de.value);E.setValue(T,{value:q(!0)}),ne=q(!1)},multipleSelection(Z){O.multiple=!0},remove(Z){let J=O.options,ie=Z.detail.remove;J[ie].selected=!1,O.remove(ie),J.length>0&&Array.prototype.findIndex.call(J,ge=>ge.selected)===-1&&(J[0].selected=!0),E.setValue(T,{value:q(!0),items:X(Z)}),ne=q(!1)},clear(Z){for(;O.length!==0;)O.remove(0);E.setValue(T,{value:null,items:[]}),ne=q(!1)},insert(Z){let{index:J,displayValue:ie,exportValue:de}=Z.detail.insert,ge=O.children[J],be=document.createElement("option");be.textContent=ie,be.value=de,ge?ge.before(be):O.append(be),E.setValue(T,{value:q(!0),items:X(Z)}),ne=q(!1)},items(Z){let{items:J}=Z.detail;for(;O.length!==0;)O.remove(0);for(let ie of J){let{displayValue:de,exportValue:ge}=ie,be=document.createElement("option");be.textContent=de,be.value=ge,O.append(be)}O.options.length>0&&(O.options[0].selected=!0),E.setValue(T,{value:q(!0),items:X(Z)}),ne=q(!1)},indices(Z){let J=new Set(Z.detail.indices);for(let ie of Z.target.options)ie.selected=J.has(ie.index);E.setValue(T,{value:q(!0)}),ne=q(!1)},editable(Z){Z.target.disabled=!Z.detail.editable}};this._dispatchEventFromSandbox($,W)}),O.addEventListener("input",W=>{let $=q(!0);E.setValue(T,{value:$}),W.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T,name:"Keystroke",value:ne,changeEx:$,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(O,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],W=>W.target.value)):O.addEventListener("input",function(W){E.setValue(T,{value:q(!0)})}),this.data.combo&&this._setTextStyle(O),this._setBackgroundColor(O),this._setDefaultPropertiesFromJS(O),this.container.append(O),this.container}}class F extends p{constructor(E){let{data:T,elements:P}=E;super(E,{isRenderable:p._hasPopupData(T)}),this.elements=P}render(){this.container.classList.add("popupAnnotation");let E=new k({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),T=[];for(let P of this.elements)P.popup=E,T.push(P.data.id),P.addHighlightArea();return this.container.setAttribute("aria-controls",T.map(P=>`${n.AnnotationPrefix}${P}`).join(",")),this.container}}class k{#e=null;#t=this.#h.bind(this);#n=this.#A.bind(this);#i=this.#C.bind(this);#a=this.#v.bind(this);#o=null;#s=null;#l=null;#d=null;#r=null;#c=null;#u=!1;#f=null;#p=null;#g=null;#m=null;#b=!1;constructor({container:E,color:T,elements:P,titleObj:O,modificationDate:j,contentsObj:z,richText:q,parent:ne,rect:X,parentRect:W,open:$}){this.#s=E,this.#m=O,this.#l=z,this.#g=q,this.#r=ne,this.#o=T,this.#p=X,this.#c=W,this.#d=P;let Z=r.PDFDateString.toDateObject(j);Z&&(this.#e=ne.l10n.get("annotation_date_string",{date:Z.toLocaleDateString(),time:Z.toLocaleTimeString()})),this.trigger=P.flatMap(J=>J.getElementsToTriggerPopup());for(let J of this.trigger)J.addEventListener("click",this.#a),J.addEventListener("mouseenter",this.#i),J.addEventListener("mouseleave",this.#n),J.classList.add("popupTriggerArea");for(let J of P)J.container?.addEventListener("keydown",this.#t);this.#s.hidden=!0,$&&this.#v()}render(){if(this.#f)return;let{page:{view:E},viewport:{rawDims:{pageWidth:T,pageHeight:P,pageX:O,pageY:j}}}=this.#r,z=this.#f=document.createElement("div");if(z.className="popup",this.#o){let Ie=z.style.outlineColor=n.Util.makeHexColor(...this.#o);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?z.style.backgroundColor=`color-mix(in srgb, ${Ie} 30%, white)`:z.style.backgroundColor=n.Util.makeHexColor(...this.#o.map(Ot=>Math.floor(.7*(255-Ot)+Ot)))}let q=document.createElement("span");q.className="header";let ne=document.createElement("h1");if(q.append(ne),{dir:ne.dir,str:ne.textContent}=this.#m,z.append(q),this.#e){let Ie=document.createElement("span");Ie.classList.add("popupDate"),this.#e.then(Qe=>{Ie.textContent=Qe}),q.append(Ie)}let X=this.#l,W=this.#g;if(W?.str&&(!X?.str||X.str===W.str))l.XfaLayer.render({xfaHtml:W.html,intent:"richText",div:z}),z.lastChild.classList.add("richText","popupContent");else{let Ie=this._formatContents(X);z.append(Ie)}let $=!!this.#c,Z=$?this.#c:this.#p;for(let Ie of this.#d)if(!Z||n.Util.intersect(Ie.data.rect,Z)!==null){Z=Ie.data.rect,$=!0;break}let J=n.Util.normalizeRect([Z[0],E[3]-Z[1]+E[1],Z[2],E[3]-Z[3]+E[1]]),de=$?Z[2]-Z[0]+5:0,ge=J[0]+de,be=J[1],{style:we}=this.#s;we.left=`${100*(ge-O)/T}%`,we.top=`${100*(be-j)/P}%`,this.#s.append(z)}_formatContents({str:E,dir:T}){let P=document.createElement("p");P.classList.add("popupContent"),P.dir=T;let O=E.split(/(?:\r\n?|\n)/);for(let j=0,z=O.length;j<z;++j){let q=O[j];P.append(document.createTextNode(q)),j<z-1&&P.append(document.createElement("br"))}return P}#h(E){E.altKey||E.shiftKey||E.ctrlKey||E.metaKey||(E.key==="Enter"||E.key==="Escape"&&this.#u)&&this.#v()}#v(){this.#u=!this.#u,this.#u?(this.#C(),this.#s.addEventListener("click",this.#a),this.#s.addEventListener("keydown",this.#t)):(this.#A(),this.#s.removeEventListener("click",this.#a),this.#s.removeEventListener("keydown",this.#t))}#C(){this.#f||this.render(),this.isVisible?this.#u&&this.#s.classList.add("focused"):(this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#A(){this.#s.classList.remove("focused"),!(this.#u||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#b=this.isVisible,this.#b&&(this.#s.hidden=!0)}maybeShow(){this.#b&&(this.#b=!1,this.#s.hidden=!1)}get isVisible(){return this.#s.hidden===!1}}class U extends p{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0}),this.textContent=E.data.textContent,this.textPosition=E.data.textPosition,this.annotationEditorType=n.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){let E=document.createElement("div");E.classList.add("annotationTextContent"),E.setAttribute("role","comment");for(let T of this.textContent){let P=document.createElement("span");P.textContent=T,E.append(P)}this.container.append(E)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}e.FreeTextAnnotationElement=U;class Q extends p{#e=null;constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");let E=this.data,{width:T,height:P}=h(E.rect),O=this.svgFactory.create(T,P,!0),j=this.#e=this.svgFactory.createElement("svg:line");return j.setAttribute("x1",E.rect[2]-E.lineCoordinates[0]),j.setAttribute("y1",E.rect[3]-E.lineCoordinates[1]),j.setAttribute("x2",E.rect[2]-E.lineCoordinates[2]),j.setAttribute("y2",E.rect[3]-E.lineCoordinates[3]),j.setAttribute("stroke-width",E.borderStyle.width||1),j.setAttribute("stroke","transparent"),j.setAttribute("fill","transparent"),O.append(j),this.container.append(O),!E.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class G extends p{#e=null;constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");let E=this.data,{width:T,height:P}=h(E.rect),O=this.svgFactory.create(T,P,!0),j=E.borderStyle.width,z=this.#e=this.svgFactory.createElement("svg:rect");return z.setAttribute("x",j/2),z.setAttribute("y",j/2),z.setAttribute("width",T-j),z.setAttribute("height",P-j),z.setAttribute("stroke-width",j||1),z.setAttribute("stroke","transparent"),z.setAttribute("fill","transparent"),O.append(z),this.container.append(O),!E.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class K extends p{#e=null;constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");let E=this.data,{width:T,height:P}=h(E.rect),O=this.svgFactory.create(T,P,!0),j=E.borderStyle.width,z=this.#e=this.svgFactory.createElement("svg:ellipse");return z.setAttribute("cx",T/2),z.setAttribute("cy",P/2),z.setAttribute("rx",T/2-j/2),z.setAttribute("ry",P/2-j/2),z.setAttribute("stroke-width",j||1),z.setAttribute("stroke","transparent"),z.setAttribute("fill","transparent"),O.append(z),this.container.append(O),!E.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Y extends p{#e=null;constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);let E=this.data,{width:T,height:P}=h(E.rect),O=this.svgFactory.create(T,P,!0),j=[];for(let q of E.vertices){let ne=q.x-E.rect[0],X=E.rect[3]-q.y;j.push(ne+","+X)}j=j.join(" ");let z=this.#e=this.svgFactory.createElement(this.svgElementName);return z.setAttribute("points",j),z.setAttribute("stroke-width",E.borderStyle.width||1),z.setAttribute("stroke","transparent"),z.setAttribute("fill","transparent"),O.append(z),this.container.append(O),!E.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class H extends Y{constructor(E){super(E),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class N extends p{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class I extends p{#e=[];constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=n.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);let E=this.data,{width:T,height:P}=h(E.rect),O=this.svgFactory.create(T,P,!0);for(let j of E.inkLists){let z=[];for(let ne of j){let X=ne.x-E.rect[0],W=E.rect[3]-ne.y;z.push(`${X},${W}`)}z=z.join(" ");let q=this.svgFactory.createElement(this.svgElementName);this.#e.push(q),q.setAttribute("points",z),q.setAttribute("stroke-width",E.borderStyle.width||1),q.setAttribute("stroke","transparent"),q.setAttribute("fill","transparent"),!E.popupRef&&this.hasPopupData&&this._createPopup(),O.append(q)}return this.container.append(O),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}e.InkAnnotationElement=I;class y extends p{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class w extends p{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class C extends p{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class M extends p{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class R extends p{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}e.StampAnnotationElement=R;class L extends p{#e=null;constructor(E){super(E,{isRenderable:!0});let{filename:T,content:P}=this.data.file;this.filename=(0,r.getFilenameFromUrl)(T,!0),this.content=P,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:T,content:P})}render(){this.container.classList.add("fileAttachmentAnnotation");let{container:E,data:T}=this,P;T.hasAppearance||T.fillAlpha===0?P=document.createElement("div"):(P=document.createElement("img"),P.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(T.name)?"paperclip":"pushpin"}.svg`,T.fillAlpha&&T.fillAlpha<1&&(P.style=`filter: opacity(${Math.round(T.fillAlpha*100)}%);`)),P.addEventListener("dblclick",this.#t.bind(this)),this.#e=P;let{isMac:O}=n.FeatureTest.platform;return E.addEventListener("keydown",j=>{j.key==="Enter"&&(O?j.metaKey:j.ctrlKey)&&this.#t()}),!T.popupRef&&this.hasPopupData?this._createPopup():P.classList.add("popupTriggerArea"),E.append(P),E}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class V{#e=null;#t=null;#n=new Map;constructor({div:E,accessibilityManager:T,annotationCanvasMap:P,l10n:O,page:j,viewport:z}){this.div=E,this.#e=T,this.#t=P,this.l10n=O,this.page=j,this.viewport=z,this.zIndex=0,this.l10n||=a.NullL10n}#i(E,T){let P=E.firstChild||E;P.id=`${n.AnnotationPrefix}${T}`,this.div.append(E),this.#e?.moveElementInDOM(this.div,E,P,!1)}render(E){return ae(this,null,function*(){let{annotations:T}=E,P=this.div;(0,r.setLayerDimensions)(P,this.viewport);let O=new Map,j={data:null,layer:P,linkService:E.linkService,downloadManager:E.downloadManager,imageResourcesPath:E.imageResourcesPath||"",renderForms:E.renderForms!==!1,svgFactory:new r.DOMSVGFactory,annotationStorage:E.annotationStorage||new o.AnnotationStorage,enableScripting:E.enableScripting===!0,hasJSActions:E.hasJSActions,fieldObjects:E.fieldObjects,parent:this,elements:null};for(let z of T){if(z.noHTML)continue;let q=z.annotationType===n.AnnotationType.POPUP;if(q){let W=O.get(z.id);if(!W)continue;j.elements=W}else{let{width:W,height:$}=h(z.rect);if(W<=0||$<=0)continue}j.data=z;let ne=g.create(j);if(!ne.isRenderable)continue;if(!q&&z.popupRef){let W=O.get(z.popupRef);W?W.push(ne):O.set(z.popupRef,[ne])}ne.annotationEditorType>0&&this.#n.set(ne.data.id,ne);let X=ne.render();z.hidden&&(X.style.visibility="hidden"),this.#i(X,z.id)}this.#a(),yield this.l10n.translate(P)})}update({viewport:E}){let T=this.div;this.viewport=E,(0,r.setLayerDimensions)(T,{rotation:E.rotation}),this.#a(),T.hidden=!1}#a(){if(!this.#t)return;let E=this.div;for(let[T,P]of this.#t){let O=E.querySelector(`[data-annotation-id="${T}"]`);if(!O)continue;let{firstChild:j}=O;j?j.nodeName==="CANVAS"?j.replaceWith(P):j.before(P):O.append(P)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(E){return this.#n.get(E)}}e.AnnotationLayer=V},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function i(o){return Math.floor(Math.max(0,Math.min(1,o))*255).toString(16).padStart(2,"0")}function n(o){return Math.max(0,Math.min(255,255*o))}class r{static CMYK_G([s,a,l,d]){return["G",1-Math.min(1,.3*s+.59*l+.11*a+d)]}static G_CMYK([s]){return["CMYK",0,0,0,1-s]}static G_RGB([s]){return["RGB",s,s,s]}static G_rgb([s]){return s=n(s),[s,s,s]}static G_HTML([s]){let a=i(s);return`#${a}${a}${a}`}static RGB_G([s,a,l]){return["G",.3*s+.59*a+.11*l]}static RGB_rgb(s){return s.map(n)}static RGB_HTML(s){return`#${s.map(i).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([s,a,l,d]){return["RGB",1-Math.min(1,s+d),1-Math.min(1,l+d),1-Math.min(1,a+d)]}static CMYK_rgb([s,a,l,d]){return[n(1-Math.min(1,s+d)),n(1-Math.min(1,l+d)),n(1-Math.min(1,a+d))]}static CMYK_HTML(s){let a=this.CMYK_RGB(s).slice(1);return this.RGB_HTML(a)}static RGB_CMYK([s,a,l]){let d=1-s,u=1-a,c=1-l,h=Math.min(d,u,c);return["CMYK",d,u,c,h]}}e.ColorConverters=r},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullL10n=void 0,e.getL10nFallback=n;let i={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};i.print_progress_percent="{{progress}}%";function n(a,l){switch(a){case"find_match_count":a=`find_match_count[${l.total===1?"one":"other"}]`;break;case"find_match_count_limit":a=`find_match_count_limit[${l.limit===1?"one":"other"}]`;break}return i[a]||""}function r(a,l){return l?a.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(d,u)=>u in l?l[u]:"{{"+u+"}}"):a}let o={getLanguage(){return ae(this,null,function*(){return"en-us"})},getDirection(){return ae(this,null,function*(){return"ltr"})},get(u){return ae(this,arguments,function*(a,l=null,d=n(a,l)){return r(d,l)})},translate(a){return ae(this,null,function*(){})}};e.NullL10n=o},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var n=i(25);class r{static setupStorage(s,a,l,d,u){let c=d.getValue(a,{value:null});switch(l.name){case"textarea":if(c.value!==null&&(s.textContent=c.value),u==="print")break;s.addEventListener("input",h=>{d.setValue(a,{value:h.target.value})});break;case"input":if(l.attributes.type==="radio"||l.attributes.type==="checkbox"){if(c.value===l.attributes.xfaOn?s.setAttribute("checked",!0):c.value===l.attributes.xfaOff&&s.removeAttribute("checked"),u==="print")break;s.addEventListener("change",h=>{d.setValue(a,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&s.setAttribute("value",c.value),u==="print")break;s.addEventListener("input",h=>{d.setValue(a,{value:h.target.value})})}break;case"select":if(c.value!==null){s.setAttribute("value",c.value);for(let h of l.children)h.attributes.value===c.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}s.addEventListener("input",h=>{let g=h.target.options,p=g.selectedIndex===-1?"":g[g.selectedIndex].value;d.setValue(a,{value:p})});break}}static setAttributes({html:s,element:a,storage:l=null,intent:d,linkService:u}){let{attributes:c}=a,h=s instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${d}`);for(let[g,p]of Object.entries(c))if(p!=null)switch(g){case"class":p.length&&s.setAttribute(g,p.join(" "));break;case"dataId":break;case"id":s.setAttribute("data-element-id",p);break;case"style":Object.assign(s.style,p);break;case"textContent":s.textContent=p;break;default:(!h||g!=="href"&&g!=="newWindow")&&s.setAttribute(g,p)}h&&u.addLinkAttributes(s,c.href,c.newWindow),l&&c.dataId&&this.setupStorage(s,c.dataId,a,l)}static render(s){let a=s.annotationStorage,l=s.linkService,d=s.xfaHtml,u=s.intent||"display",c=document.createElement(d.name);d.attributes&&this.setAttributes({html:c,element:d,intent:u,linkService:l});let h=[[d,-1,c]],g=s.div;if(g.append(c),s.viewport){let f=`matrix(${s.viewport.transform.join(",")})`;g.style.transform=f}u!=="richText"&&g.setAttribute("class","xfaLayer xfaFont");let p=[];for(;h.length>0;){let[f,v,m]=h.at(-1);if(v+1===f.children.length){h.pop();continue}let x=f.children[++h.at(-1)[1]];if(x===null)continue;let{name:b}=x;if(b==="#text"){let _=document.createTextNode(x.value);p.push(_),m.append(_);continue}let A=x?.attributes?.xmlns?document.createElementNS(x.attributes.xmlns,b):document.createElement(b);if(m.append(A),x.attributes&&this.setAttributes({html:A,element:x,storage:a,intent:u,linkService:l}),x.children&&x.children.length>0)h.push([x,-1,A]);else if(x.value){let _=document.createTextNode(x.value);n.XfaText.shouldBuildText(b)&&p.push(_),A.append(_)}}for(let f of g.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))f.setAttribute("readOnly",!0);return{textDivs:p}}static update(s){let a=`matrix(${s.viewport.transform.join(",")})`;s.div.style.transform=a,s.div.hidden=!1}}e.XfaLayer=r},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0;var n=i(1),r=i(4),o=i(29),s=i(6),a=i(5);let l=(()=>{class d extends r.AnnotationEditor{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#i=this.canvasPointerleave.bind(this);#a=this.canvasPointerup.bind(this);#o=this.canvasPointerdown.bind(this);#s=new Path2D;#l=!1;#d=!1;#r=!1;#c=null;#u=0;#f=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(c){super(Ze(le({},c),{name:"inkEditor"})),this.color=c.color||null,this.thickness=c.thickness||null,this.opacity=c.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(c){r.AnnotationEditor.initialize(c,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(c,h){switch(c){case n.AnnotationEditorParamsType.INK_THICKNESS:d._defaultThickness=h;break;case n.AnnotationEditorParamsType.INK_COLOR:d._defaultColor=h;break;case n.AnnotationEditorParamsType.INK_OPACITY:d._defaultOpacity=h/100;break}}updateParams(c,h){switch(c){case n.AnnotationEditorParamsType.INK_THICKNESS:this.#g(h);break;case n.AnnotationEditorParamsType.INK_COLOR:this.#m(h);break;case n.AnnotationEditorParamsType.INK_OPACITY:this.#b(h);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,d._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,d._defaultColor||r.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(d._defaultOpacity*100)]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||d._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,this.color||d._defaultColor||r.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??d._defaultOpacity))]]}#g(c){let h=this.thickness;this.addCommands({cmd:()=>{this.thickness=c,this.#P()},undo:()=>{this.thickness=h,this.#P()},mustExec:!0,type:n.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#m(c){let h=this.color;this.addCommands({cmd:()=>{this.color=c,this.#y()},undo:()=>{this.color=h,this.#y()},mustExec:!0,type:n.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#b(c){c/=100;let h=this.opacity;this.addCommands({cmd:()=>{this.opacity=c,this.#y()},undo:()=>{this.opacity=h,this.#y()},mustExec:!0,type:n.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#I(),this.#T()),this.isAttachedToDOM||(this.parent.add(this),this.#_()),this.#P()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#c.disconnect(),this.#c=null,super.remove())}setParent(c){!this.parent&&c?this._uiManager.removeShouldRescale(this):this.parent&&c===null&&this._uiManager.addShouldRescale(this),super.setParent(c)}onScaleChanging(){let[c,h]=this.parentDimensions,g=this.width*c,p=this.height*h;this.setDimensions(g,p)}enableEditMode(){this.#l||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#o))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#o))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#h(){let{parentRotation:c,parentDimensions:[h,g]}=this;switch(c){case 90:return[0,g,g,h];case 180:return[h,g,h,g];case 270:return[h,0,g,h];default:return[0,0,h,g]}}#v(){let{ctx:c,color:h,opacity:g,thickness:p,parentScale:f,scaleFactor:v}=this;c.lineWidth=p*f/v,c.lineCap="round",c.lineJoin="round",c.miterLimit=10,c.strokeStyle=`${h}${(0,a.opacityToHex)(g)}`}#C(c,h){this.canvas.addEventListener("contextmenu",s.noContextMenu),this.canvas.addEventListener("pointerleave",this.#i),this.canvas.addEventListener("pointermove",this.#n),this.canvas.addEventListener("pointerup",this.#a),this.canvas.removeEventListener("pointerdown",this.#o),this.isEditing=!0,this.#r||(this.#r=!0,this.#_(),this.thickness||=d._defaultThickness,this.color||=d._defaultColor||r.AnnotationEditor._defaultLineColor,this.opacity??=d._defaultOpacity),this.currentPath.push([c,h]),this.#d=!1,this.#v(),this.#p=()=>{this.#k(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#A(c,h){let[g,p]=this.currentPath.at(-1);if(this.currentPath.length>1&&c===g&&h===p)return;let f=this.currentPath,v=this.#s;if(f.push([c,h]),this.#d=!0,f.length<=2){v.moveTo(...f[0]),v.lineTo(c,h);return}f.length===3&&(this.#s=v=new Path2D,v.moveTo(...f[0])),this.#F(v,...f.at(-3),...f.at(-2),c,h)}#w(){if(this.currentPath.length===0)return;let c=this.currentPath.at(-1);this.#s.lineTo(...c)}#x(c,h){this.#p=null,c=Math.min(Math.max(c,0),this.canvas.width),h=Math.min(Math.max(h,0),this.canvas.height),this.#A(c,h),this.#w();let g;if(this.currentPath.length!==1)g=this.#R();else{let x=[c,h];g=[[x,x.slice(),x.slice(),x]]}let p=this.#s,f=this.currentPath;this.currentPath=[],this.#s=new Path2D;let v=()=>{this.allRawPaths.push(f),this.paths.push(g),this.bezierPath2D.push(p),this.rebuild()},m=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#I(),this.#T()),this.#P())};this.addCommands({cmd:v,undo:m,mustExec:!0})}#k(){if(!this.#d)return;this.#d=!1;let c=Math.ceil(this.thickness*this.parentScale),h=this.currentPath.slice(-3),g=h.map(A=>A[0]),p=h.map(A=>A[1]),f=Math.min(...g)-c,v=Math.max(...g)+c,m=Math.min(...p)-c,x=Math.max(...p)+c,{ctx:b}=this;b.save(),b.clearRect(0,0,this.canvas.width,this.canvas.height);for(let A of this.bezierPath2D)b.stroke(A);b.stroke(this.#s),b.restore()}#F(c,h,g,p,f,v,m){let x=(h+p)/2,b=(g+f)/2,A=(p+v)/2,_=(f+m)/2;c.bezierCurveTo(x+2*(p-x)/3,b+2*(f-b)/3,A+2*(p-A)/3,_+2*(f-_)/3,A,_)}#R(){let c=this.currentPath;if(c.length<=2)return[[c[0],c[0],c.at(-1),c.at(-1)]];let h=[],g,[p,f]=c[0];for(g=1;g<c.length-2;g++){let[S,D]=c[g],[F,k]=c[g+1],U=(S+F)/2,Q=(D+k)/2,G=[p+2*(S-p)/3,f+2*(D-f)/3],K=[U+2*(S-U)/3,Q+2*(D-Q)/3];h.push([[p,f],G,K,[U,Q]]),[p,f]=[U,Q]}let[v,m]=c[g],[x,b]=c[g+1],A=[p+2*(v-p)/3,f+2*(m-f)/3],_=[x+2*(v-x)/3,b+2*(m-b)/3];return h.push([[p,f],A,_,[x,b]]),h}#y(){if(this.isEmpty()){this.#M();return}this.#v();let{canvas:c,ctx:h}=this;h.setTransform(1,0,0,1,0,0),h.clearRect(0,0,c.width,c.height),this.#M();for(let g of this.bezierPath2D)h.stroke(g)}commit(){this.#l||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#l=!0,this.div.classList.add("disabled"),this.#P(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(c){this._focusEventsAllowed&&(super.focusin(c),this.enableEditMode())}canvasPointerdown(c){c.button!==0||!this.isInEditMode()||this.#l||(this.setInForeground(),c.preventDefault(),c.type!=="mouse"&&this.div.focus(),this.#C(c.offsetX,c.offsetY))}canvasPointermove(c){c.preventDefault(),this.#A(c.offsetX,c.offsetY)}canvasPointerup(c){c.preventDefault(),this.#D(c)}canvasPointerleave(c){this.#D(c)}#D(c){this.canvas.removeEventListener("pointerleave",this.#i),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#a),this.canvas.addEventListener("pointerdown",this.#o),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",s.noContextMenu)},10),this.#x(c.offsetX,c.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#I(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",r.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(c=>this.canvas?.setAttribute("aria-label",c)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#T(){this.#c=new ResizeObserver(c=>{let h=c[0].contentRect;h.width&&h.height&&this.setDimensions(h.width,h.height)}),this.#c.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#l}render(){if(this.div)return this.div;let c,h;this.width&&(c=this.x,h=this.y),super.render(),r.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(m=>this.div?.setAttribute("aria-label",m));let[g,p,f,v]=this.#h();if(this.setAt(g,p,0,0),this.setDims(f,v),this.#I(),this.width){let[m,x]=this.parentDimensions;this.setAspectRatio(this.width*m,this.height*x),this.setAt(c*m,h*x,this.width*m,this.height*x),this.#r=!0,this.#_(),this.setDims(this.width*m,this.height*x),this.#y(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#T(),this.div}#_(){if(!this.#r)return;let[c,h]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*c),this.canvas.height=Math.ceil(this.height*h),this.#M()}setDimensions(c,h){let g=Math.round(c),p=Math.round(h);if(this.#u===g&&this.#f===p)return;this.#u=g,this.#f=p,this.canvas.style.visibility="hidden";let[f,v]=this.parentDimensions;this.width=c/f,this.height=h/v,this.fixAndSetPosition(),this.#l&&this.#S(c,h),this.#_(),this.#y(),this.canvas.style.visibility="visible",this.fixDims()}#S(c,h){let g=this.#O(),p=(c-g)/this.#t,f=(h-g)/this.#e;this.scaleFactor=Math.min(p,f)}#M(){let c=this.#O()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+c,this.translationY*this.scaleFactor+c)}static#N(c){let h=new Path2D;for(let g=0,p=c.length;g<p;g++){let[f,v,m,x]=c[g];g===0&&h.moveTo(...f),h.bezierCurveTo(v[0],v[1],m[0],m[1],x[0],x[1])}return h}static#B(c,h,g){let[p,f,v,m]=h;switch(g){case 0:for(let x=0,b=c.length;x<b;x+=2)c[x]+=p,c[x+1]=m-c[x+1];break;case 90:for(let x=0,b=c.length;x<b;x+=2){let A=c[x];c[x]=c[x+1]+p,c[x+1]=A+f}break;case 180:for(let x=0,b=c.length;x<b;x+=2)c[x]=v-c[x],c[x+1]+=f;break;case 270:for(let x=0,b=c.length;x<b;x+=2){let A=c[x];c[x]=v-c[x+1],c[x+1]=m-A}break;default:throw new Error("Invalid rotation")}return c}static#V(c,h,g){let[p,f,v,m]=h;switch(g){case 0:for(let x=0,b=c.length;x<b;x+=2)c[x]-=p,c[x+1]=m-c[x+1];break;case 90:for(let x=0,b=c.length;x<b;x+=2){let A=c[x];c[x]=c[x+1]-f,c[x+1]=A-p}break;case 180:for(let x=0,b=c.length;x<b;x+=2)c[x]=v-c[x],c[x+1]-=f;break;case 270:for(let x=0,b=c.length;x<b;x+=2){let A=c[x];c[x]=m-c[x+1],c[x+1]=v-A}break;default:throw new Error("Invalid rotation")}return c}#j(c,h,g,p){let f=[],v=this.thickness/2,m=c*h+v,x=c*g+v;for(let b of this.paths){let A=[],_=[];for(let S=0,D=b.length;S<D;S++){let[F,k,U,Q]=b[S],G=c*F[0]+m,K=c*F[1]+x,Y=c*k[0]+m,H=c*k[1]+x,N=c*U[0]+m,I=c*U[1]+x,y=c*Q[0]+m,w=c*Q[1]+x;S===0&&(A.push(G,K),_.push(G,K)),A.push(Y,H,N,I,y,w),_.push(Y,H),S===D-1&&_.push(y,w)}f.push({bezier:d.#B(A,p,this.rotation),points:d.#B(_,p,this.rotation)})}return f}#L(){let c=1/0,h=-1/0,g=1/0,p=-1/0;for(let f of this.paths)for(let[v,m,x,b]of f){let A=n.Util.bezierBoundingBox(...v,...m,...x,...b);c=Math.min(c,A[0]),g=Math.min(g,A[1]),h=Math.max(h,A[2]),p=Math.max(p,A[3])}return[c,g,h,p]}#O(){return this.#l?Math.ceil(this.thickness*this.parentScale):0}#P(c=!1){if(this.isEmpty())return;if(!this.#l){this.#y();return}let h=this.#L(),g=this.#O();this.#t=Math.max(r.AnnotationEditor.MIN_SIZE,h[2]-h[0]),this.#e=Math.max(r.AnnotationEditor.MIN_SIZE,h[3]-h[1]);let p=Math.ceil(g+this.#t*this.scaleFactor),f=Math.ceil(g+this.#e*this.scaleFactor),[v,m]=this.parentDimensions;this.width=p/v,this.height=f/m,this.setAspectRatio(p,f);let x=this.translationX,b=this.translationY;this.translationX=-h[0],this.translationY=-h[1],this.#_(),this.#y(),this.#u=p,this.#f=f,this.setDims(p,f);let A=c?g/this.scaleFactor/2:0;this.translate(x-this.translationX-A,b-this.translationY-A)}static deserialize(c,h,g){if(c instanceof o.InkAnnotationElement)return null;let p=super.deserialize(c,h,g);p.thickness=c.thickness,p.color=n.Util.makeHexColor(...c.color),p.opacity=c.opacity;let[f,v]=p.pageDimensions,m=p.width*f,x=p.height*v,b=p.parentScale,A=c.thickness/2;p.#l=!0,p.#u=Math.round(m),p.#f=Math.round(x);let{paths:_,rect:S,rotation:D}=c;for(let{bezier:k}of _){k=d.#V(k,S,D);let U=[];p.paths.push(U);let Q=b*(k[0]-A),G=b*(k[1]-A);for(let Y=2,H=k.length;Y<H;Y+=6){let N=b*(k[Y]-A),I=b*(k[Y+1]-A),y=b*(k[Y+2]-A),w=b*(k[Y+3]-A),C=b*(k[Y+4]-A),M=b*(k[Y+5]-A);U.push([[Q,G],[N,I],[y,w],[C,M]]),Q=C,G=M}let K=this.#N(U);p.bezierPath2D.push(K)}let F=p.#L();return p.#t=Math.max(r.AnnotationEditor.MIN_SIZE,F[2]-F[0]),p.#e=Math.max(r.AnnotationEditor.MIN_SIZE,F[3]-F[1]),p.#S(m,x),p}serialize(){if(this.isEmpty())return null;let c=this.getRect(0,0),h=r.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:n.AnnotationEditorType.INK,color:h,thickness:this.thickness,opacity:this.opacity,paths:this.#j(this.scaleFactor/this.parentScale,this.translationX,this.translationY,c),pageIndex:this.pageIndex,rect:c,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}return d})();e.InkEditor=l},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StampEditor=void 0;var n=i(1),r=i(4),o=i(6),s=i(29);let a=(()=>{class l extends r.AnnotationEditor{#e=null;#t=null;#n=null;#i=null;#a=null;#o=null;#s=null;#l=null;#d=!1;#r=!1;static _type="stamp";constructor(u){super(Ze(le({},u),{name:"stampEditor"})),this.#i=u.bitmapUrl,this.#a=u.bitmapFile}static initialize(u){r.AnnotationEditor.initialize(u)}static get supportedTypes(){let u=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,n.shadow)(this,"supportedTypes",u.map(c=>`image/${c}`))}static get supportedTypesStr(){return(0,n.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(u){return this.supportedTypes.includes(u)}static paste(u,c){c.pasteEditor(n.AnnotationEditorType.STAMP,{bitmapFile:u.getAsFile()})}#c(u,c=!1){if(!u){this.remove();return}this.#e=u.bitmap,c||(this.#t=u.id,this.#d=u.isSvg),this.#p()}#u(){this.#n=null,this._uiManager.enableWaiting(!1),this.#o&&this.div.focus()}#f(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(c=>this.#c(c,!0)).finally(()=>this.#u());return}if(this.#i){let c=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(c).then(h=>this.#c(h)).finally(()=>this.#u());return}if(this.#a){let c=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(c).then(h=>this.#c(h)).finally(()=>this.#u());return}let u=document.createElement("input");u.type="file",u.accept=l.supportedTypesStr,this.#n=new Promise(c=>{u.addEventListener("change",()=>ae(this,null,function*(){if(!u.files||u.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);let h=yield this._uiManager.imageManager.getFromFile(u.files[0]);this.#c(h)}c()})),u.addEventListener("cancel",()=>{this.remove(),c()})}).finally(()=>this.#u()),u.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#o?.remove(),this.#o=null,this.#s?.disconnect(),this.#s=null),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#f();return}super.rebuild(),this.div!==null&&(this.#t&&this.#f(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#i||this.#a)}get isResizable(){return!0}render(){if(this.div)return this.div;let u,c;if(this.width&&(u=this.x,c=this.y),super.render(),this.div.hidden=!0,this.#e?this.#p():this.#f(),this.width){let[h,g]=this.parentDimensions;this.setAt(u*h,c*g,this.width*h,this.height*g)}return this.div}#p(){let{div:u}=this,{width:c,height:h}=this.#e,[g,p]=this.pageDimensions,f=.75;if(this.width)c=this.width*g,h=this.height*p;else if(c>f*g||h>f*p){let b=Math.min(f*g/c,f*p/h);c*=b,h*=b}let[v,m]=this.parentDimensions;this.setDims(c*v/g,h*m/p),this._uiManager.enableWaiting(!1);let x=this.#o=document.createElement("canvas");u.append(x),u.hidden=!1,this.#b(c,h),this.#v(),this.#r||(this.parent.addUndoableEditor(this),this.#r=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#g(u,c){let[h,g]=this.parentDimensions;this.width=u/h,this.height=c/g,this.setDims(u,c),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#l!==null&&clearTimeout(this.#l);let p=200;this.#l=setTimeout(()=>{this.#l=null,this.#b(u,c)},p)}#m(u,c){let{width:h,height:g}=this.#e,p=h,f=g,v=this.#e;for(;p>2*u||f>2*c;){let m=p,x=f;p>2*u&&(p=p>=16384?Math.floor(p/2)-1:Math.ceil(p/2)),f>2*c&&(f=f>=16384?Math.floor(f/2)-1:Math.ceil(f/2));let b=new OffscreenCanvas(p,f);b.getContext("2d").drawImage(v,0,0,m,x,0,0,p,f),v=b.transferToImageBitmap()}return v}#b(u,c){u=Math.ceil(u),c=Math.ceil(c);let h=this.#o;if(!h||h.width===u&&h.height===c)return;h.width=u,h.height=c;let g=this.#d?this.#e:this.#m(u,c),p=h.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(g,0,0,g.width,g.height,0,0,u,c)}#h(u){if(u){if(this.#d){let g=this._uiManager.imageManager.getSvgUrl(this.#t);if(g)return g}let c=document.createElement("canvas");return{width:c.width,height:c.height}=this.#e,c.getContext("2d").drawImage(this.#e,0,0),c.toDataURL()}if(this.#d){let[c,h]=this.pageDimensions,g=Math.round(this.width*c*o.PixelsPerInch.PDF_TO_CSS_UNITS),p=Math.round(this.height*h*o.PixelsPerInch.PDF_TO_CSS_UNITS),f=new OffscreenCanvas(g,p);return f.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,g,p),f.transferToImageBitmap()}return structuredClone(this.#e)}#v(){this.#s=new ResizeObserver(u=>{let c=u[0].contentRect;c.width&&c.height&&this.#g(c.width,c.height)}),this.#s.observe(this.div)}static deserialize(u,c,h){if(u instanceof s.StampAnnotationElement)return null;let g=super.deserialize(u,c,h),{rect:p,bitmapUrl:f,bitmapId:v,isSvg:m,accessibilityData:x}=u;v&&h.imageManager.isValidId(v)?g.#t=v:g.#i=f,g.#d=m;let[b,A]=g.pageDimensions;return g.width=(p[2]-p[0])/b,g.height=(p[3]-p[1])/A,x&&(g.altTextData=x),g}serialize(u=!1,c=null){if(this.isEmpty())return null;let h={annotationType:n.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#d,structTreeParentId:this._structTreeParentId};if(u)return h.bitmapUrl=this.#h(!0),h.accessibilityData=this.altTextData,h;let{decorative:g,altText:p}=this.altTextData;if(!g&&p&&(h.accessibilityData={type:"Figure",alt:p}),c===null)return h;c.stamps||=new Map;let f=this.#d?(h.rect[2]-h.rect[0])*(h.rect[3]-h.rect[1]):null;if(!c.stamps.has(this.#t))c.stamps.set(this.#t,{area:f,serialized:h}),h.bitmap=this.#h(!1);else if(this.#d){let v=c.stamps.get(this.#t);f>v.area&&(v.area=f,v.serialized.bitmap.close(),v.serialized.bitmap=this.#h(!1))}return h}}return l})();e.StampEditor=a}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(e!==void 0)return e.exports;var i=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](i,i.exports,__w_pdfjs_require__),i.exports}var __webpack_exports__={};return(()=>{var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(t,"AnnotationEditorLayer",{enumerable:!0,get:function(){return o.AnnotationEditorLayer}}),Object.defineProperty(t,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(t,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(t,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return s.AnnotationEditorUIManager}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return a.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(t,"DOMSVGFactory",{enumerable:!0,get:function(){return n.DOMSVGFactory}}),Object.defineProperty(t,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return l.GlobalWorkerOptions}}),Object.defineProperty(t,"ImageKind",{enumerable:!0,get:function(){return e.ImageKind}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return i.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return n.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return i.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return n.PixelsPerInch}}),Object.defineProperty(t,"PromiseCapability",{enumerable:!0,get:function(){return e.PromiseCapability}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return n.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return i.SVGGraphics}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return d.XfaLayer}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return i.build}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return i.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return n.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return n.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return n.getXfaPageViewport}}),Object.defineProperty(t,"isDataScheme",{enumerable:!0,get:function(){return n.isDataScheme}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return n.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return n.loadScript}}),Object.defineProperty(t,"noContextMenu",{enumerable:!0,get:function(){return n.noContextMenu}}),Object.defineProperty(t,"normalizeUnicode",{enumerable:!0,get:function(){return e.normalizeUnicode}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return r.renderTextLayer}}),Object.defineProperty(t,"setLayerDimensions",{enumerable:!0,get:function(){return n.setLayerDimensions}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(t,"updateTextLayer",{enumerable:!0,get:function(){return r.updateTextLayer}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return i.version}});var e=__w_pdfjs_require__(1),i=__w_pdfjs_require__(2),n=__w_pdfjs_require__(6),r=__w_pdfjs_require__(26),o=__w_pdfjs_require__(27),s=__w_pdfjs_require__(5),a=__w_pdfjs_require__(29),l=__w_pdfjs_require__(14),d=__w_pdfjs_require__(32);let u="3.11.174",c="ce8716743"})(),__webpack_exports__})())});var uS=di((ku,sv)=>{"use strict";(function(e,i){typeof ku=="object"&&typeof sv=="object"?sv.exports=e.pdfjsViewer=i():typeof define=="function"&&define.amd?define("pdfjs-dist/web/pdf_viewer",[],()=>e.pdfjsViewer=i()):typeof ku=="object"?ku["pdfjs-dist/web/pdf_viewer"]=e.pdfjsViewer=i():e["pdfjs-dist/web/pdf_viewer"]=e.pdfjsViewer=i()})(globalThis,()=>(()=>{"use strict";var t=[,(r,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFFindController=o.FindState=void 0;var a=s(2),l=s(3),d=s(4);let u={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};o.FindState=u;let c=250,h=-50,g=-400,p={"\u2010":"-","\u2018":"'","\u2019":"'","\u201A":"'","\u201B":"'","\u201C":'"',"\u201D":'"',"\u201E":'"',"\u201F":'"',"\xBC":"1/4","\xBD":"1/2","\xBE":"3/4"},f=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),v,m=new RegExp("\\p{M}+","gu"),x=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),b=new RegExp("([^\\p{M}])\\p{M}*$","u"),A=new RegExp("^\\p{M}*([^\\p{M}])","u"),_=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,S=new Map,D="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",F=new Map,k=null,U=null;function Q(Y){let H=[],N;for(;(N=_.exec(Y))!==null;){let{index:T}=N;for(let P of N[0]){let O=S.get(P);O||(O=P.normalize("NFD").length,S.set(P,O)),H.push([O,T++])}}let I;if(H.length===0&&k)I=k;else if(H.length>0&&U)I=U;else{let T=Object.keys(p).join(""),P=(0,l.getNormalizeWithNFKC)(),z=`([${T}])|([${P}])|((?:\u3099|\u309A)\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|((?:\\p{Ideographic}|[\u3040-\u30FF])\\n)|(\\n)`;H.length===0?I=k=new RegExp(z+"|(\\u0000)","gum"):I=U=new RegExp(z+`|(${D})`,"gum")}let y=[];for(;(N=m.exec(Y))!==null;)y.push([N[0].length,N.index]);let w=Y.normalize("NFD"),C=[[0,0]],M=0,R=0,L=0,V=0,B=0,E=!1;return w=w.replace(I,(T,P,O,j,z,q,ne,X,W,$)=>{if($-=V,P){let Z=p[P],J=Z.length;for(let ie=1;ie<J;ie++)C.push([$-L+ie,L-ie]);return L-=J-1,Z}if(O){let Z=F.get(O);Z||(Z=O.normalize("NFKC"),F.set(O,Z));let J=Z.length;for(let ie=1;ie<J;ie++)C.push([$-L+ie,L-ie]);return L-=J-1,Z}if(j)return E=!0,$+B===y[M]?.[1]?++M:(C.push([$-1-L+1,L-1]),L-=1,V+=1),C.push([$-L+1,L]),V+=1,B+=1,j.charAt(0);if(z){let Z=z.endsWith(`
`),J=Z?z.length-2:z.length;E=!0;let ie=J;$+B===y[M]?.[1]&&(ie-=y[M][0],++M);for(let de=1;de<=ie;de++)C.push([$-1-L+de,L-de]);return L-=ie,V+=ie,Z?($+=J-1,C.push([$-L+1,1+L]),L+=1,V+=1,B+=1,z.slice(0,J)):z}if(q){let Z=q.length-2;return C.push([$-L+Z,1+L]),L+=1,V+=1,B+=1,q.slice(0,-2)}if(ne){let Z=ne.length-1;return C.push([$-L+Z,L]),V+=1,B+=1,ne.slice(0,-1)}if(X)return C.push([$-L+1,L-1]),L-=1,V+=1,B+=1," ";if($+B===H[R]?.[1]){let Z=H[R][0]-1;++R;for(let J=1;J<=Z;J++)C.push([$-(L-J),L-J]);L-=Z,V+=Z}return W}),C.push([w.length,L]),[w,C,E]}function G(Y,H,N){if(!Y)return[H,N];let I=H,y=H+N-1,w=(0,a.binarySearchFirstItem)(Y,V=>V[0]>=I);Y[w][0]>I&&--w;let C=(0,a.binarySearchFirstItem)(Y,V=>V[0]>=y,w);Y[C][0]>y&&--C;let M=I+Y[w][1],L=y+Y[C][1]+1-M;return[M,L]}class K{#e=null;#t=!0;#n=0;constructor({linkService:H,eventBus:N,updateMatchesCountOnProgress:I=!0}){this._linkService=H,this._eventBus=N,this.#t=I,this.onIsPageVisible=null,this.#a(),N._on("find",this.#i.bind(this)),N._on("findbarclose",this.#C.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this.#e}setDocument(H){this._pdfDocument&&this.#a(),H&&(this._pdfDocument=H,this._firstPageCapability.resolve())}#i(H){if(!H)return;H.phraseSearch===!1&&(console.error("The `phraseSearch`-parameter was removed, please provide an Array of strings in the `query`-parameter instead."),typeof H.query=="string"&&(H.query=H.query.match(/\S+/g)));let N=this._pdfDocument,{type:I}=H;(this.#e===null||this.#s(H))&&(this._dirtyMatch=!0),this.#e=H,I!=="highlightallchange"&&this.#x(u.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||N&&this._pdfDocument!==N)return;this.#u();let y=!this._highlightMatches,w=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),I?this._dirtyMatch?this.#g():I==="again"?(this.#g(),y&&this.#e.highlightAll&&this.#p()):I==="highlightallchange"?(w?this.#g():this._highlightMatches=!0,this.#p()):this.#g():this._findTimeout=setTimeout(()=>{this.#g(),this._findTimeout=null},c)})}scrollMatchIntoView({element:H=null,selectedLeft:N=0,pageIndex:I=-1,matchIndex:y=-1}){if(!this._scrollMatches||!H)return;if(y===-1||y!==this._selected.matchIdx)return;if(I===-1||I!==this._selected.pageIdx)return;this._scrollMatches=!1;let w={top:h,left:N+g};(0,a.scrollIntoView)(H,w,!0)}#a(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this.#n=0,this.#e=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=new d.PromiseCapability}get#o(){let{query:H}=this.#e;return typeof H=="string"?(H!==this._rawQuery&&(this._rawQuery=H,[this._normalizedQuery]=Q(H)),this._normalizedQuery):(H||[]).filter(N=>!!N).map(N=>Q(N)[0])}#s(H){let N=H.query,I=this.#e.query,y=typeof N;if(y!==typeof I)return!0;if(y==="string"){if(N!==I)return!0}else if(JSON.stringify(N)!==JSON.stringify(I))return!0;switch(H.type){case"again":let C=this._selected.pageIdx+1,M=this._linkService;return C>=1&&C<=M.pagesCount&&C!==M.page&&!(this.onIsPageVisible?.(C)??!0);case"highlightallchange":return!1}return!0}#l(H,N,I){let y=H.slice(0,N).match(b);if(y){let w=H.charCodeAt(N),C=y[1].charCodeAt(0);if((0,l.getCharacterType)(w)===(0,l.getCharacterType)(C))return!1}if(y=H.slice(N+I).match(A),y){let w=H.charCodeAt(N+I-1),C=y[1].charCodeAt(0);if((0,l.getCharacterType)(w)===(0,l.getCharacterType)(C))return!1}return!0}#d(H,N,I,y){let w=this._pageMatches[I]=[],C=this._pageMatchesLength[I]=[];if(!H)return;let M=this._pageDiffs[I],R;for(;(R=H.exec(y))!==null;){if(N&&!this.#l(y,R.index,R[0].length))continue;let[L,V]=G(M,R.index,R[0].length);V&&(w.push(L),C.push(V))}}#r(H,N){let{matchDiacritics:I}=this.#e,y=!1;H=H.replaceAll(x,(C,M,R,L,V,B)=>M?`[ ]*\\${M}[ ]*`:R?`[ ]*${R}[ ]*`:L?"[ ]+":I?V||B:V?f.has(V.charCodeAt(0))?V:"":N?(y=!0,`${B}\\p{M}*`):B);let w="[ ]*";return H.endsWith(w)&&(H=H.slice(0,H.length-w.length)),I&&N&&(v||=String.fromCharCode(...f),y=!0,H=`${H}(?=[${v}]|[^\\p{M}]|$)`),[y,H]}#c(H){let N=this.#o;if(N.length===0)return;let{caseSensitive:I,entireWord:y}=this.#e,w=this._pageContents[H],C=this._hasDiacritics[H],M=!1;typeof N=="string"?[M,N]=this.#r(N,C):N=N.sort().reverse().map(V=>{let[B,E]=this.#r(V,C);return M||=B,`(${E})`}).join("|");let R=`g${M?"u":""}${I?"":"i"}`;N=N?new RegExp(N,R):null,this.#d(N,y,H,w),this.#e.highlightAll&&this.#f(H),this._resumePageIdx===H&&(this._resumePageIdx=null,this.#b());let L=this._pageMatches[H].length;this._matchesCountTotal+=L,this.#t?L>0&&this.#w():++this.#n===this._linkService.pagesCount&&this.#w()}#u(){if(this._extractTextPromises.length>0)return;let H=Promise.resolve(),N={disableNormalization:!0};for(let I=0,y=this._linkService.pagesCount;I<y;I++){let w=new d.PromiseCapability;this._extractTextPromises[I]=w.promise,H=H.then(()=>this._pdfDocument.getPage(I+1).then(C=>C.getTextContent(N)).then(C=>{let M=[];for(let R of C.items)M.push(R.str),R.hasEOL&&M.push(`
`);[this._pageContents[I],this._pageDiffs[I],this._hasDiacritics[I]]=Q(M.join("")),w.resolve()},C=>{console.error(`Unable to get text content for page ${I+1}`,C),this._pageContents[I]="",this._pageDiffs[I]=null,this._hasDiacritics[I]=!1,w.resolve()}))}}#f(H){this._scrollMatches&&this._selected.pageIdx===H&&(this._linkService.page=H+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:H})}#p(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#g(){let H=this.#e.findPrevious,N=this._linkService.page-1,I=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=N,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this.#n=0,this._matchesCountTotal=0,this.#p();for(let C=0;C<I;C++)this._pendingFindMatches.has(C)||(this._pendingFindMatches.add(C),this._extractTextPromises[C].then(()=>{this._pendingFindMatches.delete(C),this.#c(C)}))}if(this.#o.length===0){this.#x(u.FOUND);return}if(this._resumePageIdx)return;let w=this._offset;if(this._pagesToSearch=I,w.matchIdx!==null){let C=this._pageMatches[w.pageIdx].length;if(!H&&w.matchIdx+1<C||H&&w.matchIdx>0){w.matchIdx=H?w.matchIdx-1:w.matchIdx+1,this.#v(!0);return}this.#h(H)}this.#b()}#m(H){let N=this._offset,I=H.length,y=this.#e.findPrevious;return I?(N.matchIdx=y?I-1:0,this.#v(!0),!0):(this.#h(y),N.wrapped&&(N.matchIdx=null,this._pagesToSearch<0)?(this.#v(!1),!0):!1)}#b(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let H=null;do{let N=this._offset.pageIdx;if(H=this._pageMatches[N],!H){this._resumePageIdx=N;break}}while(!this.#m(H))}#h(H){let N=this._offset,I=this._linkService.pagesCount;N.pageIdx=H?N.pageIdx-1:N.pageIdx+1,N.matchIdx=null,this._pagesToSearch--,(N.pageIdx>=I||N.pageIdx<0)&&(N.pageIdx=H?I-1:0,N.wrapped=!0)}#v(H=!1){let N=u.NOT_FOUND,I=this._offset.wrapped;if(this._offset.wrapped=!1,H){let y=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,N=I?u.WRAPPED:u.FOUND,y!==-1&&y!==this._selected.pageIdx&&this.#f(y)}this.#x(N,this.#e.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,this.#f(this._selected.pageIdx))}#C(H){let N=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||N&&this._pdfDocument!==N||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#x(u.FOUND),this._highlightMatches=!1,this.#p())})}#A(){let{pageIdx:H,matchIdx:N}=this._selected,I=0,y=this._matchesCountTotal;if(N!==-1){for(let w=0;w<H;w++)I+=this._pageMatches[w]?.length||0;I+=N+1}return(I<1||I>y)&&(I=y=0),{current:I,total:y}}#w(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#A()})}#x(H,N=!1){!this.#t&&(this.#n!==this._linkService.pagesCount||H===u.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:H,previous:N,matchesCount:this.#A(),rawQuery:this.#e?.query??null})}}o.PDFFindController=K},(r,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.animationStarted=o.VERTICAL_PADDING=o.UNKNOWN_SCALE=o.TextLayerMode=o.SpreadMode=o.SidebarView=o.ScrollMode=o.SCROLLBAR_PADDING=o.RenderingStates=o.ProgressBar=o.PresentationModeState=o.OutputScale=o.MIN_SCALE=o.MAX_SCALE=o.MAX_AUTO_SCALE=o.DEFAULT_SCALE_VALUE=o.DEFAULT_SCALE_DELTA=o.DEFAULT_SCALE=o.CursorTool=o.AutoPrintRegExp=void 0,o.apiPageLayoutToViewerModes=j,o.apiPageModeToSidebarView=z,o.approximateFraction=Y,o.backtrackBeforeAllVisibleElements=I,o.binarySearchFirstItem=K,o.docStyle=void 0,o.getActiveOrFocusedElement=O,o.getPageSizeInches=N,o.getVisibleElements=y,o.isPortraitOrientation=V,o.isValidRotation=M,o.isValidScrollMode=R,o.isValidSpreadMode=L,o.normalizeWheelEventDelta=C,o.normalizeWheelEventDirection=w,o.parseQueryString=U,o.removeNullCharacters=G,o.roundToDivide=H,o.scrollIntoView=F,o.toggleCheckedBtn=q,o.toggleExpandedBtn=ne,o.watchScroll=k;let s="auto";o.DEFAULT_SCALE_VALUE=s;let a=1;o.DEFAULT_SCALE=a;let l=1.1;o.DEFAULT_SCALE_DELTA=l;let d=.1;o.MIN_SCALE=d;let u=10;o.MAX_SCALE=u;let c=0;o.UNKNOWN_SCALE=c;let h=1.25;o.MAX_AUTO_SCALE=h;let g=40;o.SCROLLBAR_PADDING=g;let p=5;o.VERTICAL_PADDING=p;let f={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};o.RenderingStates=f;let v={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};o.PresentationModeState=v;let m={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};o.SidebarView=m;let x={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2};o.TextLayerMode=x;let b={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};o.ScrollMode=b;let A={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};o.SpreadMode=A;let _={SELECT:0,HAND:1,ZOOM:2};o.CursorTool=_;let S=/\bprint\s*\(/;o.AutoPrintRegExp=S;class D{constructor(){let W=window.devicePixelRatio||1;this.sx=W,this.sy=W}get scaled(){return this.sx!==1||this.sy!==1}}o.OutputScale=D;function F(X,W,$=!1){let Z=X.offsetParent;if(!Z){console.error("offsetParent is not set -- cannot scroll");return}let J=X.offsetTop+X.clientTop,ie=X.offsetLeft+X.clientLeft;for(;Z.clientHeight===Z.scrollHeight&&Z.clientWidth===Z.scrollWidth||$&&(Z.classList.contains("markedContent")||getComputedStyle(Z).overflow==="hidden");)if(J+=Z.offsetTop,ie+=Z.offsetLeft,Z=Z.offsetParent,!Z)return;W&&(W.top!==void 0&&(J+=W.top),W.left!==void 0&&(ie+=W.left,Z.scrollLeft=ie)),Z.scrollTop=J}function k(X,W){let $=function(ie){J||(J=window.requestAnimationFrame(function(){J=null;let ge=X.scrollLeft,be=Z.lastX;ge!==be&&(Z.right=ge>be),Z.lastX=ge;let we=X.scrollTop,Ie=Z.lastY;we!==Ie&&(Z.down=we>Ie),Z.lastY=we,W(Z)}))},Z={right:!0,down:!0,lastX:X.scrollLeft,lastY:X.scrollTop,_eventHandler:$},J=null;return X.addEventListener("scroll",$,!0),Z}function U(X){let W=new Map;for(let[$,Z]of new URLSearchParams(X))W.set($.toLowerCase(),Z);return W}let Q=/[\x01-\x1F]/g;function G(X,W=!1){return typeof X!="string"?(console.error("The argument must be a string."),X):(W&&(X=X.replaceAll(Q," ")),X.replaceAll("\0",""))}function K(X,W,$=0){let Z=$,J=X.length-1;if(J<0||!W(X[J]))return X.length;if(W(X[Z]))return Z;for(;Z<J;){let ie=Z+J>>1,de=X[ie];W(de)?J=ie:Z=ie+1}return Z}function Y(X){if(Math.floor(X)===X)return[X,1];let W=1/X,$=8;if(W>$)return[1,$];if(Math.floor(W)===W)return[1,W];let Z=X>1?W:X,J=0,ie=1,de=1,ge=1;for(;;){let we=J+de,Ie=ie+ge;if(Ie>$)break;Z<=we/Ie?(de=we,ge=Ie):(J=we,ie=Ie)}let be;return Z-J/ie<de/ge-Z?be=Z===X?[J,ie]:[ie,J]:be=Z===X?[de,ge]:[ge,de],be}function H(X,W){let $=X%W;return $===0?X:Math.round(X-$+W)}function N({view:X,userUnit:W,rotate:$}){let[Z,J,ie,de]=X,ge=$%180!==0,be=(ie-Z)/72*W,we=(de-J)/72*W;return{width:ge?we:be,height:ge?be:we}}function I(X,W,$){if(X<2)return X;let Z=W[X].div,J=Z.offsetTop+Z.clientTop;J>=$&&(Z=W[X-1].div,J=Z.offsetTop+Z.clientTop);for(let ie=X-2;ie>=0&&(Z=W[ie].div,!(Z.offsetTop+Z.clientTop+Z.clientHeight<=J));--ie)X=ie;return X}function y({scrollEl:X,views:W,sortByVisibility:$=!1,horizontal:Z=!1,rtl:J=!1}){let ie=X.scrollTop,de=ie+X.clientHeight,ge=X.scrollLeft,be=ge+X.clientWidth;function we(Cn){let Tt=Cn.div;return Tt.offsetTop+Tt.clientTop+Tt.clientHeight>ie}function Ie(Cn){let Tt=Cn.div,re=Tt.offsetLeft+Tt.clientLeft,te=re+Tt.clientWidth;return J?re<be:te>ge}let Qe=[],Ot=new Set,xt=W.length,_n=K(W,Z?Ie:we);_n>0&&_n<xt&&!Z&&(_n=I(_n,W,ie));let At=Z?be:-1;for(let Cn=_n;Cn<xt;Cn++){let Tt=W[Cn],re=Tt.div,te=re.offsetLeft+re.clientLeft,ee=re.offsetTop+re.clientTop,me=re.clientWidth,qe=re.clientHeight,bt=te+me,ht=ee+qe;if(At===-1)ht>=de&&(At=ht);else if((Z?te:ee)>At)break;if(ht<=ie||ee>=de||bt<=ge||te>=be)continue;let Mi=Math.max(0,ie-ee)+Math.max(0,ht-de),Pi=Math.max(0,ge-te)+Math.max(0,bt-be),li=(qe-Mi)/qe,Mt=(me-Pi)/me,Fi=li*Mt*100|0;Qe.push({id:Tt.id,x:te,y:ee,view:Tt,percent:Fi,widthPercent:Mt*100|0}),Ot.add(Tt.id)}let kn=Qe[0],ys=Qe.at(-1);return $&&Qe.sort(function(Cn,Tt){let re=Cn.percent-Tt.percent;return Math.abs(re)>.001?-re:Cn.id-Tt.id}),{first:kn,last:ys,views:Qe,ids:Ot}}function w(X){let W=Math.hypot(X.deltaX,X.deltaY),$=Math.atan2(X.deltaY,X.deltaX);return-.25*Math.PI<$&&$<.75*Math.PI&&(W=-W),W}function C(X){let W=X.deltaMode,$=w(X),Z=30,J=30;return W===WheelEvent.DOM_DELTA_PIXEL?$/=Z*J:W===WheelEvent.DOM_DELTA_LINE&&($/=J),$}function M(X){return Number.isInteger(X)&&X%90===0}function R(X){return Number.isInteger(X)&&Object.values(b).includes(X)&&X!==b.UNKNOWN}function L(X){return Number.isInteger(X)&&Object.values(A).includes(X)&&X!==A.UNKNOWN}function V(X){return X.width<=X.height}let B=new Promise(function(X){window.requestAnimationFrame(X)});o.animationStarted=B;let E=document.documentElement.style;o.docStyle=E;function T(X,W,$){return Math.min(Math.max(X,W),$)}class P{#e=null;#t=null;#n=0;#i=null;#a=!0;constructor(W){this.#e=W.classList,this.#i=W.style}get percent(){return this.#n}set percent(W){if(this.#n=T(W,0,100),isNaN(W)){this.#e.add("indeterminate");return}this.#e.remove("indeterminate"),this.#i.setProperty("--progressBar-percent",`${this.#n}%`)}setWidth(W){if(!W)return;let Z=W.parentNode.offsetWidth-W.offsetWidth;Z>0&&this.#i.setProperty("--progressBar-end-offset",`${Z}px`)}setDisableAutoFetch(W=5e3){isNaN(this.#n)||(this.#t&&clearTimeout(this.#t),this.show(),this.#t=setTimeout(()=>{this.#t=null,this.hide()},W))}hide(){this.#a&&(this.#a=!1,this.#e.add("hidden"))}show(){this.#a||(this.#a=!0,this.#e.remove("hidden"))}}o.ProgressBar=P;function O(){let X=document,W=X.activeElement||X.querySelector(":focus");for(;W?.shadowRoot;)X=W.shadowRoot,W=X.activeElement||X.querySelector(":focus");return W}function j(X){let W=b.VERTICAL,$=A.NONE;switch(X){case"SinglePage":W=b.PAGE;break;case"OneColumn":break;case"TwoPageLeft":W=b.PAGE;case"TwoColumnLeft":$=A.ODD;break;case"TwoPageRight":W=b.PAGE;case"TwoColumnRight":$=A.EVEN;break}return{scrollMode:W,spreadMode:$}}function z(X){switch(X){case"UseNone":return m.NONE;case"UseThumbs":return m.THUMBS;case"UseOutlines":return m.OUTLINE;case"UseAttachments":return m.ATTACHMENTS;case"UseOC":return m.LAYERS}return m.NONE}function q(X,W,$=null){X.classList.toggle("toggled",W),X.setAttribute("aria-checked",W),$?.classList.toggle("hidden",!W)}function ne(X,W,$=null){X.classList.toggle("toggled",W),X.setAttribute("aria-expanded",W),$?.classList.toggle("hidden",!W)}},(r,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CharacterType=void 0,o.getCharacterType=m,o.getNormalizeWithNFKC=b;let s={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};o.CharacterType=s;function a(A){return A<11904}function l(A){return(A&65408)===0}function d(A){return A>=97&&A<=122||A>=65&&A<=90}function u(A){return A>=48&&A<=57}function c(A){return A===32||A===9||A===13||A===10}function h(A){return A>=13312&&A<=40959||A>=63744&&A<=64255}function g(A){return A>=12448&&A<=12543}function p(A){return A>=12352&&A<=12447}function f(A){return A>=65376&&A<=65439}function v(A){return(A&65408)===3584}function m(A){return a(A)?l(A)?c(A)?s.SPACE:d(A)||u(A)||A===95?s.ALPHA_LETTER:s.PUNCT:v(A)?s.THAI_LETTER:A===160?s.SPACE:s.ALPHA_LETTER:h(A)?s.HAN_LETTER:g(A)?s.KATAKANA_LETTER:p(A)?s.HIRAGANA_LETTER:f(A)?s.HALFWIDTH_KATAKANA_LETTER:s.ALPHA_LETTER}let x;function b(){return x||="\xA0\xA8\xAA\xAF\xB2-\xB5\xB8-\xBA\xBC-\xBE\u0132-\u0133\u013F-\u0140\u0149\u017F\u01C4-\u01CC\u01F1-\u01F3\u02B0-\u02B8\u02D8-\u02DD\u02E0-\u02E4\u0374\u037A\u037E\u0384-\u0385\u0387\u03D0-\u03D6\u03F0-\u03F2\u03F4-\u03F5\u03F9\u0587\u0675-\u0678\u0958-\u095F\u09DC-\u09DD\u09DF\u0A33\u0A36\u0A59-\u0A5B\u0A5E\u0B5C-\u0B5D\u0E33\u0EB3\u0EDC-\u0EDD\u0F0C\u0F43\u0F4D\u0F52\u0F57\u0F5C\u0F69\u10FC\u1D2C-\u1D2E\u1D30-\u1D3A\u1D3C-\u1D4D\u1D4F-\u1D6A\u1D78\u1D9B-\u1DBF\u1E9A-\u1E9B\u1F71\u1F73\u1F75\u1F77\u1F79\u1F7B\u1F7D\u1FBB\u1FBD-\u1FC1\u1FC9\u1FCB\u1FCD-\u1FCF\u1FD3\u1FDB\u1FDD-\u1FDF\u1FE3\u1FEB\u1FED-\u1FEF\u1FF9\u1FFB\u1FFD-\u1FFE\u2000-\u200A\u2011\u2017\u2024-\u2026\u202F\u2033-\u2034\u2036-\u2037\u203C\u203E\u2047-\u2049\u2057\u205F\u2070-\u2071\u2074-\u208E\u2090-\u209C\u20A8\u2100-\u2103\u2105-\u2107\u2109-\u2113\u2115-\u2116\u2119-\u211D\u2120-\u2122\u2124\u2126\u2128\u212A-\u212D\u212F-\u2131\u2133-\u2139\u213B-\u2140\u2145-\u2149\u2150-\u217F\u2189\u222C-\u222D\u222F-\u2230\u2329-\u232A\u2460-\u24EA\u2A0C\u2A74-\u2A76\u2ADC\u2C7C-\u2C7D\u2D6F\u2E9F\u2EF3\u2F00-\u2FD5\u3000\u3036\u3038-\u303A\u309B-\u309C\u309F\u30FF\u3131-\u318E\u3192-\u319F\u3200-\u321E\u3220-\u3247\u3250-\u327E\u3280-\u33FF\uA69C-\uA69D\uA770\uA7F2-\uA7F4\uA7F8-\uA7F9\uAB5C-\uAB5F\uAB69\uF900-\uFA0D\uFA10\uFA12\uFA15-\uFA1E\uFA20\uFA22\uFA25-\uFA26\uFA2A-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE10-\uFE19\uFE30-\uFE44\uFE47-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFE70-\uFE72\uFE74\uFE76-\uFEFC\uFF01-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE0-\uFFE6",x}},r=>{r.exports=globalThis.pdfjsLib},(r,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SimpleLinkService=o.PDFLinkService=o.LinkTarget=void 0;var a=s(2);let l="noopener noreferrer nofollow",d={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};o.LinkTarget=d;function u(g,{url:p,target:f,rel:v,enabled:m=!0}={}){if(!p||typeof p!="string")throw new Error('A valid "url" parameter must provided.');m?g.href=g.title=p:(g.href="",g.title=`Disabled: ${p}`,g.onclick=()=>!1);let x="";switch(f){case d.NONE:break;case d.SELF:x="_self";break;case d.BLANK:x="_blank";break;case d.PARENT:x="_parent";break;case d.TOP:x="_top";break}g.target=x,g.rel=typeof v=="string"?v:l}class c{#e=new Map;constructor({eventBus:p,externalLinkTarget:f=null,externalLinkRel:v=null,ignoreDestinationZoom:m=!1}={}){this.eventBus=p,this.externalLinkTarget=f,this.externalLinkRel=v,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=m,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(p,f=null){this.baseUrl=f,this.pdfDocument=p,this.#e.clear()}setViewer(p){this.pdfViewer=p}setHistory(p){this.pdfHistory=p}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(p){this.pdfViewer.currentPageNumber=p}get rotation(){return this.pdfViewer.pagesRotation}set rotation(p){this.pdfViewer.pagesRotation=p}get isInPresentationMode(){return this.pdfViewer.isInPresentationMode}#t(p,f=null,v){let m=v[0],x;if(typeof m=="object"&&m!==null){if(x=this._cachedPageNumber(m),!x){this.pdfDocument.getPageIndex(m).then(b=>{this.cachePageRef(b+1,m),this.#t(p,f,v)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${m}" is not a valid page reference, for dest="${p}".`)});return}}else if(Number.isInteger(m))x=m+1;else{console.error(`PDFLinkService.#goToDestinationHelper: "${m}" is not a valid destination reference, for dest="${p}".`);return}if(!x||x<1||x>this.pagesCount){console.error(`PDFLinkService.#goToDestinationHelper: "${x}" is not a valid page number, for dest="${p}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:f,explicitDest:v,pageNumber:x})),this.pdfViewer.scrollPageIntoView({pageNumber:x,destArray:v,ignoreDestinationZoom:this._ignoreDestinationZoom})}goToDestination(p){return ae(this,null,function*(){if(!this.pdfDocument)return;let f,v;if(typeof p=="string"?(f=p,v=yield this.pdfDocument.getDestination(p)):(f=null,v=yield p),!Array.isArray(v)){console.error(`PDFLinkService.goToDestination: "${v}" is not a valid destination array, for dest="${p}".`);return}this.#t(p,f,v)})}goToPage(p){if(!this.pdfDocument)return;let f=typeof p=="string"&&this.pdfViewer.pageLabelToPageNumber(p)||p|0;if(!(Number.isInteger(f)&&f>0&&f<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${p}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(f)),this.pdfViewer.scrollPageIntoView({pageNumber:f})}addLinkAttributes(p,f,v=!1){u(p,{url:f,target:v?d.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(p){if(typeof p=="string"){if(p.length>0)return this.getAnchorUrl("#"+escape(p))}else if(Array.isArray(p)){let f=JSON.stringify(p);if(f.length>0)return this.getAnchorUrl("#"+escape(f))}return this.getAnchorUrl("")}getAnchorUrl(p){return this.baseUrl?this.baseUrl+p:p}setHash(p){if(!this.pdfDocument)return;let f,v;if(p.includes("=")){let m=(0,a.parseQueryString)(p);if(m.has("search")){let x=m.get("search").replaceAll('"',""),b=m.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:b?x:x.match(/\S+/g)})}if(m.has("page")&&(f=m.get("page")|0||1),m.has("zoom")){let x=m.get("zoom").split(","),b=x[0],A=parseFloat(b);b.includes("Fit")?b==="Fit"||b==="FitB"?v=[null,{name:b}]:b==="FitH"||b==="FitBH"||b==="FitV"||b==="FitBV"?v=[null,{name:b},x.length>1?x[1]|0:null]:b==="FitR"?x.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):v=[null,{name:b},x[1]|0,x[2]|0,x[3]|0,x[4]|0]:console.error(`PDFLinkService.setHash: "${b}" is not a valid zoom value.`):v=[null,{name:"XYZ"},x.length>1?x[1]|0:null,x.length>2?x[2]|0:null,A?A/100:b]}v?this.pdfViewer.scrollPageIntoView({pageNumber:f||this.page,destArray:v,allowNegativeOffset:!0}):f&&(this.page=f),m.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:m.get("pagemode")}),m.has("nameddest")&&this.goToDestination(m.get("nameddest"))}else{v=unescape(p);try{v=JSON.parse(v),Array.isArray(v)||(v=v.toString())}catch{}if(typeof v=="string"||c.#n(v)){this.goToDestination(v);return}console.error(`PDFLinkService.setHash: "${unescape(p)}" is not a valid destination.`)}}executeNamedAction(p){switch(p){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break;default:break}this.eventBus.dispatch("namedaction",{source:this,action:p})}executeSetOCGState(p){return ae(this,null,function*(){let f=this.pdfDocument,v=yield this.pdfViewer.optionalContentConfigPromise;if(f!==this.pdfDocument)return;let m;for(let x of p.state){switch(x){case"ON":case"OFF":case"Toggle":m=x;continue}switch(m){case"ON":v.setVisibility(x,!0);break;case"OFF":v.setVisibility(x,!1);break;case"Toggle":let b=v.getGroup(x);b&&v.setVisibility(x,!b.visible);break}}this.pdfViewer.optionalContentConfigPromise=Promise.resolve(v)})}cachePageRef(p,f){if(!f)return;let v=f.gen===0?`${f.num}R`:`${f.num}R${f.gen}`;this.#e.set(v,p)}_cachedPageNumber(p){if(!p)return null;let f=p.gen===0?`${p.num}R`:`${p.num}R${p.gen}`;return this.#e.get(f)||null}static#n(p){if(!Array.isArray(p))return!1;let f=p.length;if(f<2)return!1;let v=p[0];if(!(typeof v=="object"&&Number.isInteger(v.num)&&Number.isInteger(v.gen))&&!(Number.isInteger(v)&&v>=0))return!1;let m=p[1];if(!(typeof m=="object"&&typeof m.name=="string"))return!1;let x=!0;switch(m.name){case"XYZ":if(f!==5)return!1;break;case"Fit":case"FitB":return f===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(f!==3)return!1;break;case"FitR":if(f!==6)return!1;x=!1;break;default:return!1}for(let b=2;b<f;b++){let A=p[b];if(!(typeof A=="number"||x&&A===null))return!1}return!0}}o.PDFLinkService=c;class h{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(p){}get rotation(){return 0}set rotation(p){}get isInPresentationMode(){return!1}goToDestination(p){return ae(this,null,function*(){})}goToPage(p){}addLinkAttributes(p,f,v=!1){u(p,{url:f,enabled:this.externalLinkEnabled})}getDestinationHash(p){return"#"}getAnchorUrl(p){return"#"}setHash(p){}executeNamedAction(p){}executeSetOCGState(p){}cachePageRef(p,f){}}o.SimpleLinkService=h},(r,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationLayerBuilder=void 0;var a=s(4),l=s(7),d=s(2);class u{#e=null;constructor({pageDiv:h,pdfPage:g,linkService:p,downloadManager:f,annotationStorage:v=null,imageResourcesPath:m="",renderForms:x=!0,l10n:b=l.NullL10n,enableScripting:A=!1,hasJSActionsPromise:_=null,fieldObjectsPromise:S=null,annotationCanvasMap:D=null,accessibilityManager:F=null}){this.pageDiv=h,this.pdfPage=g,this.linkService=p,this.downloadManager=f,this.imageResourcesPath=m,this.renderForms=x,this.l10n=b,this.annotationStorage=v,this.enableScripting=A,this._hasJSActionsPromise=_||Promise.resolve(!1),this._fieldObjectsPromise=S||Promise.resolve(null),this._annotationCanvasMap=D,this._accessibilityManager=F,this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=p.eventBus}render(h,g="display"){return ae(this,null,function*(){if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:h.clone({dontFlip:!0})});return}let[p,f,v]=yield Promise.all([this.pdfPage.getAnnotations({intent:g}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;let m=this.div=document.createElement("div");if(m.className="annotationLayer",this.pageDiv.append(m),p.length===0){this.hide();return}this.annotationLayer=new a.AnnotationLayer({div:m,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,l10n:this.l10n,page:this.pdfPage,viewport:h.clone({dontFlip:!0})}),yield this.annotationLayer.render({annotations:p,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:f,fieldObjects:v}),this.linkService.isInPresentationMode&&this.#t(d.PresentationModeState.FULLSCREEN),this.#e||(this.#e=x=>{this.#t(x.state)},this._eventBus?._on("presentationmodechanged",this.#e))})}cancel(){this._cancelled=!0,this.#e&&(this._eventBus?._off("presentationmodechanged",this.#e),this.#e=null)}hide(){this.div&&(this.div.hidden=!0)}#t(h){if(!this.div)return;let g=!1;switch(h){case d.PresentationModeState.FULLSCREEN:g=!0;break;case d.PresentationModeState.NORMAL:break;default:return}for(let p of this.div.childNodes)p.hasAttribute("data-internal-link")||(p.inert=g)}}o.AnnotationLayerBuilder=u},(r,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NullL10n=void 0,o.getL10nFallback=a;let s={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};s.print_progress_percent="{{progress}}%";function a(c,h){switch(c){case"find_match_count":c=`find_match_count[${h.total===1?"one":"other"}]`;break;case"find_match_count_limit":c=`find_match_count_limit[${h.limit===1?"one":"other"}]`;break}return s[c]||""}function l(c,h){return h?c.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(g,p)=>p in h?h[p]:"{{"+p+"}}"):c}let d={getLanguage(){return ae(this,null,function*(){return"en-us"})},getDirection(){return ae(this,null,function*(){return"ltr"})},get(p){return ae(this,arguments,function*(c,h=null,g=a(c,h)){return l(g,h)})},translate(c){return ae(this,null,function*(){})}};o.NullL10n=d},(r,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DownloadManager=void 0;var a=s(4);function l(u,c){let h=document.createElement("a");if(!h.click)throw new Error('DownloadManager: "a.click()" is not supported.');h.href=u,h.target="_parent","download"in h&&(h.download=c),(document.body||document.documentElement).append(h),h.click(),h.remove()}class d{#e=new WeakMap;downloadUrl(c,h,g){if(!(0,a.createValidAbsoluteUrl)(c,"http://example.com")){console.error(`downloadUrl - not a valid URL: ${c}`);return}l(c+"#pdfjs.action=download",h)}downloadData(c,h,g){let p=URL.createObjectURL(new Blob([c],{type:g}));l(p,h)}openOrDownloadData(c,h,g){let f=(0,a.isPdfFile)(g)?"application/pdf":"";return this.downloadData(h,g,f),!1}download(c,h,g,p){let f=URL.createObjectURL(c);l(f,g)}}o.DownloadManager=d},(r,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WaitOnType=o.EventBus=o.AutomationEventBus=void 0,o.waitOnEventOrTimeout=a;let s={EVENT:"event",TIMEOUT:"timeout"};o.WaitOnType=s;function a({target:u,name:c,delay:h=0}){return new Promise(function(g,p){if(typeof u!="object"||!(c&&typeof c=="string")||!(Number.isInteger(h)&&h>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function f(b){u instanceof l?u._off(c,v):u.removeEventListener(c,v),x&&clearTimeout(x),g(b)}let v=f.bind(null,s.EVENT);u instanceof l?u._on(c,v):u.addEventListener(c,v);let m=f.bind(null,s.TIMEOUT),x=setTimeout(m,h)})}class l{#e=Object.create(null);on(c,h,g=null){this._on(c,h,{external:!0,once:g?.once})}off(c,h,g=null){this._off(c,h,{external:!0,once:g?.once})}dispatch(c,h){let g=this.#e[c];if(!g||g.length===0)return;let p;for(let{listener:f,external:v,once:m}of g.slice(0)){if(m&&this._off(c,f),v){(p||=[]).push(f);continue}f(h)}if(p){for(let f of p)f(h);p=null}}_on(c,h,g=null){(this.#e[c]||=[]).push({listener:h,external:g?.external===!0,once:g?.once===!0})}_off(c,h,g=null){let p=this.#e[c];if(p){for(let f=0,v=p.length;f<v;f++)if(p[f].listener===h){p.splice(f,1);return}}}}o.EventBus=l;class d extends l{dispatch(c,h){throw new Error("Not implemented: AutomationEventBus.dispatch")}}o.AutomationEventBus=d},(r,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GenericL10n=void 0,s(11);var a=s(7);let l={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function d(c){return l[c?.toLowerCase()]||c}class u{constructor(h){let{webL10n:g}=document;this._lang=h,this._ready=new Promise((p,f)=>{g.setLanguage(d(h),()=>{p(g)})})}getLanguage(){return ae(this,null,function*(){return(yield this._ready).getLanguage()})}getDirection(){return ae(this,null,function*(){return(yield this._ready).getDirection()})}get(f){return ae(this,arguments,function*(h,g=null,p=(0,a.getL10nFallback)(h,g)){return(yield this._ready).get(h,g,p)})}translate(h){return ae(this,null,function*(){return(yield this._ready).translate(h)})}}o.GenericL10n=u},()=>{document.webL10n=function(r,o){var s={},a="",l="textContent",d="",u={},c="loading",h=!0;function g(){return o.querySelectorAll('link[type="application/l10n"]')}function p(){var G=o.querySelector('script[type="application/l10n"]');return G?JSON.parse(G.innerHTML):null}function f(G){return G?G.querySelectorAll("*[data-l10n-id]"):[]}function v(G){if(!G)return{};var K=G.getAttribute("data-l10n-id"),Y=G.getAttribute("data-l10n-args"),H={};if(Y)try{H=JSON.parse(Y)}catch{console.warn("could not parse arguments for #"+K)}return{id:K,args:H}}function m(G,K,Y){K=K||function(I){},Y=Y||function(){};var H=new XMLHttpRequest;H.open("GET",G,h),H.overrideMimeType&&H.overrideMimeType("text/plain; charset=utf-8"),H.onreadystatechange=function(){H.readyState==4&&(H.status==200||H.status===0?K(H.responseText):Y())},H.onerror=Y,H.ontimeout=Y;try{H.send(null)}catch{Y()}}function x(G,K,Y,H){var N=G.replace(/[^\/]*$/,"")||"./";function I(w){return w.lastIndexOf("\\")<0?w:w.replace(/\\\\/g,"\\").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function y(w,C){var M={},R=/^\s*|\s*$/,L=/^\s*#|^\s*$/,V=/^\s*\[(.*)\]\s*$/,B=/^\s*@import\s+url\((.*)\)\s*$/i,E=/^([^=\s]*)\s*=\s*(.+)$/;function T(O,j,z){var q=O.replace(R,"").split(/[\r\n]+/),ne="*",X=K.split("-",1)[0],W=!1,$="";function Z(){for(;;){if(!q.length){z();return}var J=q.shift();if(!L.test(J)){if(j){if($=V.exec(J),$){ne=$[1].toLowerCase(),W=ne!=="*"&&ne!==K&&ne!==X;continue}else if(W)continue;if($=B.exec(J),$){P(N+$[1],Z);return}}var ie=J.match(E);ie&&ie.length==3&&(M[ie[1]]=I(ie[2]))}}}Z()}function P(O,j){m(O,function(z){T(z,!1,j)},function(){console.warn(O+" not found."),j()})}T(w,!0,function(){C(M)})}m(G,function(w){a+=w,y(w,function(C){for(var M in C){var R,L,V=M.lastIndexOf(".");V>0?(R=M.substring(0,V),L=M.substring(V+1)):(R=M,L=l),s[R]||(s[R]={}),s[R][L]=C[M]}Y&&Y()})},H)}function b(G,K){G&&(G=G.toLowerCase()),K=K||function(){},A(),d=G;var Y=g(),H=Y.length;if(H===0){var N=p();if(N&&N.locales&&N.default_locale){if(console.log("using the embedded JSON directory, early way out"),s=N.locales[G],!s){var I=N.default_locale.toLowerCase();for(var y in N.locales)if(y=y.toLowerCase(),y===G){s=N.locales[G];break}else y===I&&(s=N.locales[I])}K()}else console.log("no resource to load, early way out");c="complete";return}var w=null,C=0;w=function(){C++,C>=H&&(K(),c="complete")};function M(V){var B=V.href;this.load=function(E,T){x(B,E,T,function(){console.warn(B+" not found."),console.warn('"'+E+'" resource not found'),d="",T()})}}for(var R=0;R<H;R++){var L=new M(Y[R]);L.load(G,w)}}function A(){s={},a="",d=""}function _(G){var K={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function Y(y,w){return w.indexOf(y)!==-1}function H(y,w,C){return w<=y&&y<=C}var N={0:function(y){return"other"},1:function(y){return H(y%100,3,10)?"few":y===0?"zero":H(y%100,11,99)?"many":y==2?"two":y==1?"one":"other"},2:function(y){return y!==0&&y%10===0?"many":y==2?"two":y==1?"one":"other"},3:function(y){return y==1?"one":"other"},4:function(y){return H(y,0,1)?"one":"other"},5:function(y){return H(y,0,2)&&y!=2?"one":"other"},6:function(y){return y===0?"zero":y%10==1&&y%100!=11?"one":"other"},7:function(y){return y==2?"two":y==1?"one":"other"},8:function(y){return H(y,3,6)?"few":H(y,7,10)?"many":y==2?"two":y==1?"one":"other"},9:function(y){return y===0||y!=1&&H(y%100,1,19)?"few":y==1?"one":"other"},10:function(y){return H(y%10,2,9)&&!H(y%100,11,19)?"few":y%10==1&&!H(y%100,11,19)?"one":"other"},11:function(y){return H(y%10,2,4)&&!H(y%100,12,14)?"few":y%10===0||H(y%10,5,9)||H(y%100,11,14)?"many":y%10==1&&y%100!=11?"one":"other"},12:function(y){return H(y,2,4)?"few":y==1?"one":"other"},13:function(y){return H(y%10,2,4)&&!H(y%100,12,14)?"few":y!=1&&H(y%10,0,1)||H(y%10,5,9)||H(y%100,12,14)?"many":y==1?"one":"other"},14:function(y){return H(y%100,3,4)?"few":y%100==2?"two":y%100==1?"one":"other"},15:function(y){return y===0||H(y%100,2,10)?"few":H(y%100,11,19)?"many":y==1?"one":"other"},16:function(y){return y%10==1&&y!=11?"one":"other"},17:function(y){return y==3?"few":y===0?"zero":y==6?"many":y==2?"two":y==1?"one":"other"},18:function(y){return y===0?"zero":H(y,0,2)&&y!==0&&y!=2?"one":"other"},19:function(y){return H(y,2,10)?"few":H(y,0,1)?"one":"other"},20:function(y){return(H(y%10,3,4)||y%10==9)&&!(H(y%100,10,19)||H(y%100,70,79)||H(y%100,90,99))?"few":y%1e6===0&&y!==0?"many":y%10==2&&!Y(y%100,[12,72,92])?"two":y%10==1&&!Y(y%100,[11,71,91])?"one":"other"},21:function(y){return y===0?"zero":y==1?"one":"other"},22:function(y){return H(y,0,1)||H(y,11,99)?"one":"other"},23:function(y){return H(y%10,1,2)||y%20===0?"one":"other"},24:function(y){return H(y,3,10)||H(y,13,19)?"few":Y(y,[2,12])?"two":Y(y,[1,11])?"one":"other"}},I=K[G.replace(/-.*$/,"")];return I in N?N[I]:(console.warn("plural form unknown for ["+G+"]"),function(){return"other"})}u.plural=function(G,K,Y,H){var N=parseFloat(K);if(isNaN(N)||H!=l)return G;u._pluralRules||(u._pluralRules=_(d));var I="["+u._pluralRules(N)+"]";return N===0&&Y+"[zero]"in s?G=s[Y+"[zero]"][H]:N==1&&Y+"[one]"in s?G=s[Y+"[one]"][H]:N==2&&Y+"[two]"in s?G=s[Y+"[two]"][H]:Y+I in s?G=s[Y+I][H]:Y+"[other]"in s&&(G=s[Y+"[other]"][H]),G};function S(G,K,Y){var H=s[G];if(!H){if(console.warn("#"+G+" is undefined."),!Y)return null;H=Y}var N={};for(var I in H){var y=H[I];y=D(y,K,G,I),y=F(y,K,G),N[I]=y}return N}function D(G,K,Y,H){var N=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,I=N.exec(G);if(!I||!I.length)return G;var y=I[1],w=I[2],C;if(K&&w in K?C=K[w]:w in s&&(C=s[w]),y in u){var M=u[y];G=M(G,C,Y,H)}return G}function F(G,K,Y){var H=/\{\{\s*(.+?)\s*\}\}/g;return G.replace(H,function(N,I){return K&&I in K?K[I]:I in s?s[I]:(console.log("argument {{"+I+"}} for #"+Y+" is undefined."),N)})}function k(G){var K=v(G);if(K.id){var Y=S(K.id,K.args);if(!Y){console.warn("#"+K.id+" is undefined.");return}if(Y[l]){if(U(G)===0)G[l]=Y[l];else{for(var H=G.childNodes,N=!1,I=0,y=H.length;I<y;I++)H[I].nodeType===3&&/\S/.test(H[I].nodeValue)&&(N?H[I].nodeValue="":(H[I].nodeValue=Y[l],N=!0));if(!N){var w=o.createTextNode(Y[l]);G.prepend(w)}}delete Y[l]}for(var C in Y)G[C]=Y[C]}}function U(G){if(G.children)return G.children.length;if(typeof G.childElementCount<"u")return G.childElementCount;for(var K=0,Y=0;Y<G.childNodes.length;Y++)K+=G.nodeType===1?1:0;return K}function Q(G){G=G||o.documentElement;for(var K=f(G),Y=K.length,H=0;H<Y;H++)k(K[H]);k(G)}return{get:function(G,K,Y){var H=G.lastIndexOf("."),N=l;H>0&&(N=G.substring(H+1),G=G.substring(0,H));var I;Y&&(I={},I[N]=Y);var y=S(G,K,I);return y&&N in y?y[N]:"{{"+G+"}}"},getData:function(){return s},getText:function(){return a},getLanguage:function(){return d},setLanguage:function(G,K){b(G,function(){K&&K()})},getDirection:function(){var G=["ar","he","fa","ps","ur"],K=d.split("-",1)[0];return G.indexOf(K)>=0?"rtl":"ltr"},translate:Q,getReadyState:function(){return c},ready:function(G){if(G)c=="complete"||c=="interactive"?r.setTimeout(function(){G()}):o.addEventListener&&o.addEventListener("localized",function K(){o.removeEventListener("localized",K),G()});else return}}}(window,document)},(r,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFHistory=void 0,o.isDestArraysEqual=f,o.isDestHashesEqual=p;var a=s(2),l=s(9);let d=1e3,u=50,c=1e3;function h(){return document.location.hash}class g{constructor({linkService:m,eventBus:x}){this.linkService=m,this.eventBus=x,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",b=>{this._isPagesLoaded=!!b.pagesCount},{once:!0})})}initialize({fingerprint:m,resetHistory:x=!1,updateUrl:b=!1}){if(!m||typeof m!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();let A=this._fingerprint!==""&&this._fingerprint!==m;this._fingerprint=m,this._updateUrl=b===!0,this._initialized=!0,this._bindEvents();let _=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=h(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(_,!0)||x){let{hash:D,page:F,rotation:k}=this._parseCurrentHash(!0);if(!D||A||x){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:D,page:F,rotation:k},!0);return}let S=_.destination;this._updateInternalState(S,_.uid,!0),S.rotation!==void 0&&(this._initialRotation=S.rotation),S.dest?(this._initialBookmark=JSON.stringify(S.dest),this._destination.page=null):S.hash?this._initialBookmark=S.hash:S.page&&(this._initialBookmark=`page=${S.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:m=null,explicitDest:x,pageNumber:b}){if(!this._initialized)return;if(m&&typeof m!="string"){console.error(`PDFHistory.push: "${m}" is not a valid namedDest parameter.`);return}else if(Array.isArray(x)){if(!this._isValidPage(b)&&(b!==null||this._destination)){console.error(`PDFHistory.push: "${b}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${x}" is not a valid explicitDest parameter.`);return}let A=m||JSON.stringify(x);if(!A)return;let _=!1;if(this._destination&&(p(this._destination.hash,A)||f(this._destination.dest,x))){if(this._destination.page)return;_=!0}this._popStateInProgress&&!_||(this._pushOrReplaceState({dest:x,hash:A,page:b,rotation:this.linkService.rotation},_),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(m){if(this._initialized){if(!this._isValidPage(m)){console.error(`PDFHistory.pushPage: "${m}" is not a valid page number.`);return}this._destination?.page!==m&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${m}`,page:m,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;let m=window.history.state;this._isValidState(m)&&m.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;let m=window.history.state;this._isValidState(m)&&m.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(m,x=!1){let b=x||!this._destination,A={fingerprint:this._fingerprint,uid:b?this._uid:this._uid+1,destination:m};this._updateInternalState(m,A.uid);let _;if(this._updateUrl&&m?.hash){let S=document.location.href.split("#")[0];S.startsWith("file://")||(_=`${S}#${m.hash}`)}b?window.history.replaceState(A,"",_):window.history.pushState(A,"",_)}_tryPushCurrentPosition(m=!1){if(!this._position)return;let x=this._position;if(m&&(x=Object.assign(Object.create(null),this._position),x.temporary=!0),!this._destination){this._pushOrReplaceState(x);return}if(this._destination.temporary){this._pushOrReplaceState(x,!0);return}if(this._destination.hash===x.hash||!this._destination.page&&(u<=0||this._numPositionUpdates<=u))return;let b=!1;if(this._destination.page>=x.first&&this._destination.page<=x.page){if(this._destination.dest!==void 0||!this._destination.first)return;b=!0}this._pushOrReplaceState(x,b)}_isValidPage(m){return Number.isInteger(m)&&m>0&&m<=this.linkService.pagesCount}_isValidState(m,x=!1){if(!m)return!1;if(m.fingerprint!==this._fingerprint)if(x){if(typeof m.fingerprint!="string"||m.fingerprint.length!==this._fingerprint.length)return!1;let[b]=performance.getEntriesByType("navigation");if(b?.type!=="reload")return!1}else return!1;return!(!Number.isInteger(m.uid)||m.uid<0||m.destination===null||typeof m.destination!="object")}_updateInternalState(m,x,b=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),b&&m?.temporary&&delete m.temporary,this._destination=m,this._uid=x,this._maxUid=Math.max(this._maxUid,x),this._numPositionUpdates=0}_parseCurrentHash(m=!1){let x=unescape(h()).substring(1),b=(0,a.parseQueryString)(x),A=b.get("nameddest")||"",_=b.get("page")|0;return(!this._isValidPage(_)||m&&A.length>0)&&(_=null),{hash:x,page:_,rotation:this.linkService.rotation}}_updateViewarea({location:m}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:m.pdfOpenParams.substring(1),page:this.linkService.page,first:m.pageNumber,rotation:m.rotation},!this._popStateInProgress&&(u>0&&this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,c>0&&(this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},c)))}_popState({state:m}){let x=h(),b=this._currentHash!==x;if(this._currentHash=x,!m){this._uid++;let{hash:_,page:S,rotation:D}=this._parseCurrentHash();this._pushOrReplaceState({hash:_,page:S,rotation:D},!0);return}if(!this._isValidState(m))return;this._popStateInProgress=!0,b&&(this._blockHashChange++,(0,l.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:d}).then(()=>{this._blockHashChange--}));let A=m.destination;this._updateInternalState(A,m.uid,!0),(0,a.isValidRotation)(A.rotation)&&(this.linkService.rotation=A.rotation),A.dest?this.linkService.goToDestination(A.dest):A.hash?this.linkService.setHash(A.hash):A.page&&(this.linkService.page=A.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}o.PDFHistory=g;function p(v,m){return typeof v!="string"||typeof m!="string"?!1:v===m||(0,a.parseQueryString)(v).get("nameddest")===m}function f(v,m){function x(b,A){if(typeof b!=typeof A||Array.isArray(b)||Array.isArray(A))return!1;if(b!==null&&typeof b=="object"&&A!==null){if(Object.keys(b).length!==Object.keys(A).length)return!1;for(let _ in b)if(!x(b[_],A[_]))return!1;return!0}return b===A||Number.isNaN(b)&&Number.isNaN(A)}if(!(Array.isArray(v)&&Array.isArray(m))||v.length!==m.length)return!1;for(let b=0,A=v.length;b<A;b++)if(!x(v[b],m[b]))return!1;return!0}},(r,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFPageView=void 0;var a=s(4),l=s(2),d=s(14),u=s(6),c=s(15),h=s(7),g=s(5),p=s(16),f=s(17),v=s(18),m=s(19),x=s(20);let b=c.compatibilityParams.maxCanvasPixels||16777216,A=()=>({annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new g.SimpleLinkService}});class _{#e=a.AnnotationMode.ENABLE_FORMS;#t=!1;#n=null;#i=null;#a=null;#o=null;#s=l.RenderingStates.INITIAL;#l=l.TextLayerMode.ENABLE;#d={directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0};#r=new WeakMap;constructor(D){let F=D.container,k=D.defaultViewport;this.id=D.id,this.renderingId="page"+this.id,this.#n=D.layerProperties||A,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=D.scale||l.DEFAULT_SCALE,this.viewport=k,this.pdfPageRotate=k.rotation,this._optionalContentConfigPromise=D.optionalContentConfigPromise||null,this.#l=D.textLayerMode??l.TextLayerMode.ENABLE,this.#e=D.annotationMode??a.AnnotationMode.ENABLE_FORMS,this.imageResourcesPath=D.imageResourcesPath||"",this.isOffscreenCanvasSupported=D.isOffscreenCanvasSupported??!0,this.maxCanvasPixels=D.maxCanvasPixels??b,this.pageColors=D.pageColors||null,this.eventBus=D.eventBus,this.renderingQueue=D.renderingQueue,this.l10n=D.l10n||h.NullL10n,this.renderTask=null,this.resume=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._container=F,D.useOnlyCssZoom&&(console.error("useOnlyCssZoom was removed, please use `maxCanvasPixels = 0` instead."),this.maxCanvasPixels=0),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;let U=document.createElement("div");if(U.className="page",U.setAttribute("data-page-number",this.id),U.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(Q=>{U.setAttribute("aria-label",Q)}),this.div=U,this.#c(),F?.append(U),this._isStandalone){F?.style.setProperty("--scale-factor",this.scale*a.PixelsPerInch.PDF_TO_CSS_UNITS);let{optionalContentConfigPromise:Q}=D;Q&&Q.then(G=>{Q===this._optionalContentConfigPromise&&(this.#d.initialOptionalContent=G.hasInitialVisibility)})}}get renderingState(){return this.#s}set renderingState(D){if(D!==this.#s)switch(this.#s=D,this.#i&&(clearTimeout(this.#i),this.#i=null),D){case l.RenderingStates.PAUSED:this.div.classList.remove("loading");break;case l.RenderingStates.RUNNING:this.div.classList.add("loadingIcon"),this.#i=setTimeout(()=>{this.div.classList.add("loading"),this.#i=null},0);break;case l.RenderingStates.INITIAL:case l.RenderingStates.FINISHED:this.div.classList.remove("loadingIcon","loading");break}}#c(){let{viewport:D}=this;if(this.pdfPage){if(this.#a===D.rotation)return;this.#a=D.rotation}(0,a.setLayerDimensions)(this.div,D,!0,!1)}setPdfPage(D){this._isStandalone&&(this.pageColors?.foreground==="CanvasText"||this.pageColors?.background==="Canvas")&&this._container?.style.setProperty("--hcm-highligh-filter",D.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight")),this.pdfPage=D,this.pdfPageRotate=D.rotate;let F=(this.rotation+this.pdfPageRotate)%360;this.viewport=D.getViewport({scale:this.scale*a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:F}),this.#c(),this.reset()}destroy(){this.reset(),this.pdfPage?.cleanup()}get _textHighlighter(){return(0,a.shadow)(this,"_textHighlighter",new v.TextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus,findController:this.#n().findController}))}#u(){return ae(this,null,function*(){let D=null;try{yield this.annotationLayer.render(this.viewport,"display")}catch(F){console.error(`#renderAnnotationLayer: "${F}".`),D=F}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:D})}})}#f(){return ae(this,null,function*(){let D=null;try{yield this.annotationEditorLayer.render(this.viewport,"display")}catch(F){console.error(`#renderAnnotationEditorLayer: "${F}".`),D=F}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:D})}})}#p(){return ae(this,null,function*(){let D=null;try{let F=yield this.xfaLayer.render(this.viewport,"display");F?.textDivs&&this._textHighlighter&&this.#b(F.textDivs)}catch(F){console.error(`#renderXfaLayer: "${F}".`),D=F}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:D})}})}#g(){return ae(this,null,function*(){let{pdfPage:D,textLayer:F,viewport:k}=this;if(!F)return;let U=null;try{if(!F.renderingDone){let Q=D.streamTextContent({includeMarkedContent:!0,disableNormalization:!0});F.setTextContentSource(Q)}yield F.render(k)}catch(Q){if(Q instanceof a.AbortException)return;console.error(`#renderTextLayer: "${Q}".`),U=Q}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.id,numTextDivs:F.numTextDivs,error:U}),this.#m()})}#m(){return ae(this,null,function*(){if(!this.textLayer)return;this.structTreeLayer||=new p.StructTreeLayerBuilder;let D=yield this.structTreeLayer.renderingDone?null:this.pdfPage.getStructTree(),F=this.structTreeLayer?.render(D);F&&this.canvas?.append(F),this.structTreeLayer?.show()})}#b(D){return ae(this,null,function*(){let F=yield this.pdfPage.getTextContent(),k=[];for(let U of F.items)k.push(U.str);this._textHighlighter.setTextMapping(D,k),this._textHighlighter.enable()})}_resetZoomLayer(D=!1){if(!this.zoomLayer)return;let F=this.zoomLayer.firstChild;this.#r.delete(F),F.width=0,F.height=0,D&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:D=!1,keepAnnotationLayer:F=!1,keepAnnotationEditorLayer:k=!1,keepXfaLayer:U=!1,keepTextLayer:Q=!1}={}){this.cancelRendering({keepAnnotationLayer:F,keepAnnotationEditorLayer:k,keepXfaLayer:U,keepTextLayer:Q}),this.renderingState=l.RenderingStates.INITIAL;let G=this.div,K=G.childNodes,Y=D&&this.zoomLayer||null,H=F&&this.annotationLayer?.div||null,N=k&&this.annotationEditorLayer?.div||null,I=U&&this.xfaLayer?.div||null,y=Q&&this.textLayer?.div||null;for(let w=K.length-1;w>=0;w--){let C=K[w];switch(C){case Y:case H:case N:case I:case y:continue}C.remove()}G.removeAttribute("data-loaded"),H&&this.annotationLayer.hide(),N&&this.annotationEditorLayer.hide(),I&&this.xfaLayer.hide(),y&&this.textLayer.hide(),this.structTreeLayer?.hide(),Y||(this.canvas&&(this.#r.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}update({scale:D=0,rotation:F=null,optionalContentConfigPromise:k=null,drawingDelay:U=-1}){this.scale=D||this.scale,typeof F=="number"&&(this.rotation=F),k instanceof Promise&&(this._optionalContentConfigPromise=k,k.then(G=>{k===this._optionalContentConfigPromise&&(this.#d.initialOptionalContent=G.hasInitialVisibility)})),this.#d.directDrawing=!0;let Q=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:Q}),this.#c(),this._isStandalone&&this._container?.style.setProperty("--scale-factor",this.viewport.scale),this.canvas){let G=!1;if(this.#t){if(this.maxCanvasPixels===0)G=!0;else if(this.maxCanvasPixels>0){let{width:Y,height:H}=this.viewport,{sx:N,sy:I}=this.outputScale;G=(Math.floor(Y)*N|0)*(Math.floor(H)*I|0)>this.maxCanvasPixels}}let K=!G&&U>=0&&U<1e3;if(K||G){if(K&&this.renderingState!==l.RenderingStates.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:U}),this.renderingState=l.RenderingStates.FINISHED,this.#d.directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!K,hideTextLayer:K}),K)return;this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this.#o});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:D=!1,keepAnnotationEditorLayer:F=!1,keepXfaLayer:k=!1,keepTextLayer:U=!1,cancelExtraDelay:Q=0}={}){this.renderTask&&(this.renderTask.cancel(Q),this.renderTask=null),this.resume=null,this.textLayer&&(!U||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationLayer&&(!D||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!F||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!k||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this._textHighlighter?.disable())}cssTransform({target:D,redrawAnnotationLayer:F=!1,redrawAnnotationEditorLayer:k=!1,redrawXfaLayer:U=!1,redrawTextLayer:Q=!1,hideTextLayer:G=!1}){if(!D.hasAttribute("zooming")){D.setAttribute("zooming",!0);let{style:Y}=D;Y.width=Y.height=""}let K=this.#r.get(D);if(this.viewport!==K){let Y=this.viewport.rotation-K.rotation,H=Math.abs(Y),N=1,I=1;if(H===90||H===270){let{width:y,height:w}=this.viewport;N=w/y,I=y/w}D.style.transform=`rotate(${Y}deg) scale(${N}, ${I})`}F&&this.annotationLayer&&this.#u(),k&&this.annotationEditorLayer&&this.#f(),U&&this.xfaLayer&&this.#p(),this.textLayer&&(G?(this.textLayer.hide(),this.structTreeLayer?.hide()):Q&&this.#g())}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(D,F){return this.viewport.convertToPdfPoint(D,F)}#h(D,F=null){return ae(this,null,function*(){if(D===this.renderTask&&(this.renderTask=null),F instanceof a.RenderingCancelledException){this.#o=null;return}if(this.#o=F,this.renderingState=l.RenderingStates.FINISHED,this._resetZoomLayer(!0),this.#d.regularAnnotations=!D.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:this.#o}),F)throw F})}draw(){return ae(this,null,function*(){this.renderingState!==l.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());let{div:D,l10n:F,pageColors:k,pdfPage:U,viewport:Q}=this;if(!U)throw this.renderingState=l.RenderingStates.FINISHED,new Error("pdfPage is not loaded");this.renderingState=l.RenderingStates.RUNNING;let G=document.createElement("div");if(G.classList.add("canvasWrapper"),D.append(G),!this.textLayer&&this.#l!==l.TextLayerMode.DISABLE&&!U.isPureXfa&&(this._accessibilityManager||=new f.TextAccessibilityManager,this.textLayer=new m.TextLayerBuilder({highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,enablePermissions:this.#l===l.TextLayerMode.ENABLE_PERMISSIONS}),D.append(this.textLayer.div)),!this.annotationLayer&&this.#e!==a.AnnotationMode.DISABLE){let{annotationStorage:P,downloadManager:O,enableScripting:j,fieldObjectsPromise:z,hasJSActionsPromise:q,linkService:ne}=this.#n();this._annotationCanvasMap||=new Map,this.annotationLayer=new u.AnnotationLayerBuilder({pageDiv:D,pdfPage:U,annotationStorage:P,imageResourcesPath:this.imageResourcesPath,renderForms:this.#e===a.AnnotationMode.ENABLE_FORMS,linkService:ne,downloadManager:O,l10n:F,enableScripting:j,hasJSActionsPromise:q,fieldObjectsPromise:z,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager})}let K=P=>{if(y?.(!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=l.RenderingStates.PAUSED,this.resume=()=>{this.renderingState=l.RenderingStates.RUNNING,P()};return}P()},{width:Y,height:H}=Q,N=document.createElement("canvas");N.setAttribute("role","presentation"),N.hidden=!0;let I=!!(k?.background&&k?.foreground),y=P=>{(!I||P)&&(N.hidden=!1,y=null)};G.append(N),this.canvas=N;let w=N.getContext("2d",{alpha:!1}),C=this.outputScale=new l.OutputScale;if(this.maxCanvasPixels===0){let P=1/this.scale;C.sx*=P,C.sy*=P,this.#t=!0}else if(this.maxCanvasPixels>0){let P=Y*H,O=Math.sqrt(this.maxCanvasPixels/P);C.sx>O||C.sy>O?(C.sx=O,C.sy=O,this.#t=!0):this.#t=!1}let M=(0,l.approximateFraction)(C.sx),R=(0,l.approximateFraction)(C.sy);N.width=(0,l.roundToDivide)(Y*C.sx,M[0]),N.height=(0,l.roundToDivide)(H*C.sy,R[0]);let{style:L}=N;L.width=(0,l.roundToDivide)(Y,M[1])+"px",L.height=(0,l.roundToDivide)(H,R[1])+"px",this.#r.set(N,Q);let V=C.scaled?[C.sx,0,0,C.sy,0,0]:null,B={canvasContext:w,transform:V,viewport:Q,annotationMode:this.#e,optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:k},E=this.renderTask=this.pdfPage.render(B);E.onContinue=K;let T=E.promise.then(()=>ae(this,null,function*(){if(y?.(!0),yield this.#h(E),this.#g(),this.annotationLayer&&(yield this.#u()),!this.annotationEditorLayer){let{annotationEditorUIManager:P}=this.#n();if(!P)return;this.annotationEditorLayer=new d.AnnotationEditorLayerBuilder({uiManager:P,pageDiv:D,pdfPage:U,l10n:F,accessibilityManager:this._accessibilityManager,annotationLayer:this.annotationLayer?.annotationLayer})}this.#f()}),P=>(P instanceof a.RenderingCancelledException||y?.(!0),this.#h(E,P)));if(U.isPureXfa){if(this.xfaLayer)this.xfaLayer.div&&D.append(this.xfaLayer.div);else{let{annotationStorage:P,linkService:O}=this.#n();this.xfaLayer=new x.XfaLayerBuilder({pageDiv:D,pdfPage:U,annotationStorage:P,linkService:O})}this.#p()}return D.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),T})}setPageLabel(D){this.pageLabel=typeof D=="string"?D:null,this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){let{directDrawing:D,initialOptionalContent:F,regularAnnotations:k}=this.#d;return D&&F&&k?this.canvas:null}}o.PDFPageView=_},(r,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationEditorLayerBuilder=void 0;var a=s(4),l=s(7);class d{#e=null;#t;constructor(c){this.pageDiv=c.pageDiv,this.pdfPage=c.pdfPage,this.accessibilityManager=c.accessibilityManager,this.l10n=c.l10n||l.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,this.#t=c.uiManager,this.#e=c.annotationLayer||null}render(c,h="display"){return ae(this,null,function*(){if(h!=="display"||this._cancelled)return;let g=c.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:g}),this.show();return}let p=this.div=document.createElement("div");p.className="annotationEditorLayer",p.tabIndex=0,p.hidden=!0,p.dir=this.#t.direction,this.pageDiv.append(p),this.annotationEditorLayer=new a.AnnotationEditorLayer({uiManager:this.#t,div:p,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:g,annotationLayer:this.#e});let f={viewport:g,div:p,annotations:null,intent:h};this.annotationEditorLayer.render(f),this.show()})}cancel(){this._cancelled=!0,this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isEmpty||(this.div.hidden=!1)}}o.AnnotationEditorLayerBuilder=d},(r,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.compatibilityParams=o.OptionKind=o.AppOptions=void 0;let s=Object.create(null);o.compatibilityParams=s;{let c=navigator.userAgent||"",h=navigator.platform||"",g=navigator.maxTouchPoints||1,p=/Android/.test(c),f=/\b(iPad|iPhone|iPod)(?=;)/.test(c)||h==="MacIntel"&&g>1;(function(){(f||p)&&(s.maxCanvasPixels=5242880)})()}let a={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};o.OptionKind=a;let l={annotationEditorMode:{value:0,kind:a.VIEWER+a.PREFERENCE},annotationMode:{value:2,kind:a.VIEWER+a.PREFERENCE},cursorToolOnLoad:{value:0,kind:a.VIEWER+a.PREFERENCE},defaultZoomDelay:{value:400,kind:a.VIEWER+a.PREFERENCE},defaultZoomValue:{value:"",kind:a.VIEWER+a.PREFERENCE},disableHistory:{value:!1,kind:a.VIEWER},disablePageLabels:{value:!1,kind:a.VIEWER+a.PREFERENCE},enablePermissions:{value:!1,kind:a.VIEWER+a.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:a.VIEWER+a.PREFERENCE},enableScripting:{value:!0,kind:a.VIEWER+a.PREFERENCE},enableStampEditor:{value:!0,kind:a.VIEWER+a.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:a.VIEWER},externalLinkTarget:{value:0,kind:a.VIEWER+a.PREFERENCE},historyUpdateUrl:{value:!1,kind:a.VIEWER+a.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:a.VIEWER+a.PREFERENCE},imageResourcesPath:{value:"./images/",kind:a.VIEWER},maxCanvasPixels:{value:16777216,kind:a.VIEWER},forcePageColors:{value:!1,kind:a.VIEWER+a.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:a.VIEWER+a.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:a.VIEWER+a.PREFERENCE},pdfBugEnabled:{value:!1,kind:a.VIEWER+a.PREFERENCE},printResolution:{value:150,kind:a.VIEWER},sidebarViewOnLoad:{value:-1,kind:a.VIEWER+a.PREFERENCE},scrollModeOnLoad:{value:-1,kind:a.VIEWER+a.PREFERENCE},spreadModeOnLoad:{value:-1,kind:a.VIEWER+a.PREFERENCE},textLayerMode:{value:1,kind:a.VIEWER+a.PREFERENCE},viewerCssTheme:{value:0,kind:a.VIEWER+a.PREFERENCE},viewOnLoad:{value:0,kind:a.VIEWER+a.PREFERENCE},cMapPacked:{value:!0,kind:a.API},cMapUrl:{value:"../web/cmaps/",kind:a.API},disableAutoFetch:{value:!1,kind:a.API+a.PREFERENCE},disableFontFace:{value:!1,kind:a.API+a.PREFERENCE},disableRange:{value:!1,kind:a.API+a.PREFERENCE},disableStream:{value:!1,kind:a.API+a.PREFERENCE},docBaseUrl:{value:"",kind:a.API},enableXfa:{value:!0,kind:a.API+a.PREFERENCE},fontExtraProperties:{value:!1,kind:a.API},isEvalSupported:{value:!0,kind:a.API},isOffscreenCanvasSupported:{value:!0,kind:a.API},maxImageSize:{value:-1,kind:a.API},pdfBug:{value:!1,kind:a.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:a.API},verbosity:{value:1,kind:a.API},workerPort:{value:null,kind:a.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:a.WORKER}};l.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:a.VIEWER},l.disablePreferences={value:!1,kind:a.VIEWER},l.locale={value:navigator.language||"en-US",kind:a.VIEWER},l.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:a.VIEWER};let d=Object.create(null);class u{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(h){let g=d[h];if(g!==void 0)return g;let p=l[h];if(p!==void 0)return s[h]??p.value}static getAll(h=null){let g=Object.create(null);for(let p in l){let f=l[p];if(h){if(!(h&f.kind))continue;if(h===a.PREFERENCE){let m=f.value,x=typeof m;if(x==="boolean"||x==="string"||x==="number"&&Number.isInteger(m)){g[p]=m;continue}throw new Error(`Invalid type for preference: ${p}`)}}let v=d[p];g[p]=v!==void 0?v:s[p]??f.value}return g}static set(h,g){d[h]=g}static setAll(h){for(let g in h)d[g]=h[g]}static remove(h){delete d[h]}}o.AppOptions=u,u._hasUserOptions=function(){return Object.keys(d).length>0}},(r,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.StructTreeLayerBuilder=void 0;var a=s(2);let l={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},d=/^H(\d+)$/;class u{#e=void 0;get renderingDone(){return this.#e!==void 0}render(h){if(this.#e!==void 0)return this.#e;let g=this.#n(h);return g?.classList.add("structTree"),this.#e=g}hide(){this.#e&&!this.#e.hidden&&(this.#e.hidden=!0)}show(){this.#e?.hidden&&(this.#e.hidden=!1)}#t(h,g){let{alt:p,id:f,lang:v}=h;p!==void 0&&g.setAttribute("aria-label",(0,a.removeNullCharacters)(p)),f!==void 0&&g.setAttribute("aria-owns",f),v!==void 0&&g.setAttribute("lang",(0,a.removeNullCharacters)(v,!0))}#n(h){if(!h)return null;let g=document.createElement("span");if("role"in h){let{role:p}=h,f=p.match(d);f?(g.setAttribute("role","heading"),g.setAttribute("aria-level",f[1])):l[p]&&g.setAttribute("role",l[p])}if(this.#t(h,g),h.children)if(h.children.length===1&&"id"in h.children[0])this.#t(h.children[0],g);else for(let p of h.children)g.append(this.#n(p));return g}}o.StructTreeLayerBuilder=u},(r,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TextAccessibilityManager=void 0;var a=s(2);class l{#e=!1;#t=null;#n=new Map;#i=new Map;setTextMapping(u){this.#t=u}static#a(u,c){let h=u.getBoundingClientRect(),g=c.getBoundingClientRect();if(h.width===0&&h.height===0)return 1;if(g.width===0&&g.height===0)return-1;let p=h.y,f=h.y+h.height,v=h.y+h.height/2,m=g.y,x=g.y+g.height,b=g.y+g.height/2;if(v<=m&&b>=f)return-1;if(b<=p&&v>=x)return 1;let A=h.x+h.width/2,_=g.x+g.width/2;return A-_}enable(){if(this.#e)throw new Error("TextAccessibilityManager is already enabled.");if(!this.#t)throw new Error("Text divs and strings have not been set.");if(this.#e=!0,this.#t=this.#t.slice(),this.#t.sort(l.#a),this.#n.size>0){let u=this.#t;for(let[c,h]of this.#n){if(!document.getElementById(c)){this.#n.delete(c);continue}this.#o(c,u[h])}}for(let[u,c]of this.#i)this.addPointerInTextLayer(u,c);this.#i.clear()}disable(){this.#e&&(this.#i.clear(),this.#t=null,this.#e=!1)}removePointerInTextLayer(u){if(!this.#e){this.#i.delete(u);return}let c=this.#t;if(!c||c.length===0)return;let{id:h}=u,g=this.#n.get(h);if(g===void 0)return;let p=c[g];this.#n.delete(h);let f=p.getAttribute("aria-owns");f?.includes(h)&&(f=f.split(" ").filter(v=>v!==h).join(" "),f?p.setAttribute("aria-owns",f):(p.removeAttribute("aria-owns"),p.setAttribute("role","presentation")))}#o(u,c){let h=c.getAttribute("aria-owns");h?.includes(u)||c.setAttribute("aria-owns",h?`${h} ${u}`:u),c.removeAttribute("role")}addPointerInTextLayer(u,c){let{id:h}=u;if(!h)return null;if(!this.#e)return this.#i.set(u,c),null;c&&this.removePointerInTextLayer(u);let g=this.#t;if(!g||g.length===0)return null;let p=(0,a.binarySearchFirstItem)(g,x=>l.#a(u,x)<0),f=Math.max(0,p-1),v=g[f];this.#o(h,v),this.#n.set(h,f);let m=v.parentNode;return m?.classList.contains("markedContent")?m.id:null}moveElementInDOM(u,c,h,g){let p=this.addPointerInTextLayer(h,g);if(!u.hasChildNodes())return u.append(c),p;let f=Array.from(u.childNodes).filter(x=>x!==c);if(f.length===0)return p;let v=h||c,m=(0,a.binarySearchFirstItem)(f,x=>l.#a(v,x)<0);return m===0?f[0].before(c):f[m-1].after(c),p}}o.TextAccessibilityManager=l},(r,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TextHighlighter=void 0;class s{constructor({findController:l,eventBus:d,pageIndex:u}){this.findController=l,this.matches=[],this.eventBus=d,this.pageIdx=u,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(l,d){this.textDivs=l,this.textContentItemsStr=d}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=l=>{(l.pageIndex===this.pageIdx||l.pageIndex===-1)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null),this._updateMatches(!0))}_convertMatches(l,d){if(!l)return[];let{textContentItemsStr:u}=this,c=0,h=0,g=u.length-1,p=[];for(let f=0,v=l.length;f<v;f++){let m=l[f];for(;c!==g&&m>=h+u[c].length;)h+=u[c].length,c++;c===u.length&&console.error("Could not find a matching mapping");let x={begin:{divIdx:c,offset:m-h}};for(m+=d[f];c!==g&&m>h+u[c].length;)h+=u[c].length,c++;x.end={divIdx:c,offset:m-h},p.push(x)}return p}_renderMatches(l){if(l.length===0)return;let{findController:d,pageIdx:u}=this,{textContentItemsStr:c,textDivs:h}=this,g=u===d.selected.pageIdx,p=d.selected.matchIdx,f=d.state.highlightAll,v=null,m={divIdx:-1,offset:void 0};function x(F,k){let U=F.divIdx;return h[U].textContent="",b(U,0,F.offset,k)}function b(F,k,U,Q){let G=h[F];if(G.nodeType===Node.TEXT_NODE){let H=document.createElement("span");G.before(H),H.append(G),h[F]=H,G=H}let K=c[F].substring(k,U),Y=document.createTextNode(K);if(Q){let H=document.createElement("span");return H.className=`${Q} appended`,H.append(Y),G.append(H),Q.includes("selected")?H.offsetLeft:0}return G.append(Y),0}let A=p,_=A+1;if(f)A=0,_=l.length;else if(!g)return;let S=-1,D=-1;for(let F=A;F<_;F++){let k=l[F],U=k.begin;if(U.divIdx===S&&U.offset===D)continue;S=U.divIdx,D=U.offset;let Q=k.end,G=g&&F===p,K=G?" selected":"",Y=0;if(!v||U.divIdx!==v.divIdx?(v!==null&&b(v.divIdx,v.offset,m.offset),x(U)):b(v.divIdx,v.offset,U.offset),U.divIdx===Q.divIdx)Y=b(U.divIdx,U.offset,Q.offset,"highlight"+K);else{Y=b(U.divIdx,U.offset,m.offset,"highlight begin"+K);for(let H=U.divIdx+1,N=Q.divIdx;H<N;H++)h[H].className="highlight middle"+K;x(Q,"highlight end"+K)}v=Q,G&&d.scrollMatchIntoView({element:h[U.divIdx],selectedLeft:Y,pageIndex:u,matchIndex:p})}v&&b(v.divIdx,v.offset,m.offset)}_updateMatches(l=!1){if(!this.enabled&&!l)return;let{findController:d,matches:u,pageIdx:c}=this,{textContentItemsStr:h,textDivs:g}=this,p=-1;for(let m of u){let x=Math.max(p,m.begin.divIdx);for(let b=x,A=m.end.divIdx;b<=A;b++){let _=g[b];_.textContent=h[b],_.className=""}p=m.end.divIdx+1}if(!d?.highlightMatches||l)return;let f=d.pageMatches[c]||null,v=d.pageMatchesLength[c]||null;this.matches=this._convertMatches(f,v),this._renderMatches(this.matches)}}o.TextHighlighter=s},(r,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TextLayerBuilder=void 0;var a=s(4),l=s(2);class d{#e=!1;#t=0;#n=0;#i=null;constructor({highlighter:c=null,accessibilityManager:h=null,isOffscreenCanvasSupported:g=!0,enablePermissions:p=!1}){this.textContentItemsStr=[],this.renderingDone=!1,this.textDivs=[],this.textDivProperties=new WeakMap,this.textLayerRenderTask=null,this.highlighter=c,this.accessibilityManager=h,this.isOffscreenCanvasSupported=g,this.#e=p===!0,this.div=document.createElement("div"),this.div.className="textLayer",this.hide()}#a(){this.renderingDone=!0;let c=document.createElement("div");c.className="endOfContent",this.div.append(c),this.#o()}get numTextDivs(){return this.textDivs.length}render(c){return ae(this,null,function*(){if(!this.#i)throw new Error('No "textContentSource" parameter specified.');let h=c.scale*(globalThis.devicePixelRatio||1),{rotation:g}=c;if(this.renderingDone){let p=g!==this.#t,f=h!==this.#n;(p||f)&&(this.hide(),(0,a.updateTextLayer)({container:this.div,viewport:c,textDivs:this.textDivs,textDivProperties:this.textDivProperties,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,mustRescale:f,mustRotate:p}),this.#n=h,this.#t=g),this.show();return}this.cancel(),this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr),this.accessibilityManager?.setTextMapping(this.textDivs),this.textLayerRenderTask=(0,a.renderTextLayer)({textContentSource:this.#i,container:this.div,viewport:c,textDivs:this.textDivs,textDivProperties:this.textDivProperties,textContentItemsStr:this.textContentItemsStr,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported}),yield this.textLayerRenderTask.promise,this.#a(),this.#n=h,this.#t=g,this.show(),this.accessibilityManager?.enable()})}hide(){this.div.hidden||(this.highlighter?.disable(),this.div.hidden=!0)}show(){this.div.hidden&&this.renderingDone&&(this.div.hidden=!1,this.highlighter?.enable())}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable(),this.accessibilityManager?.disable(),this.textContentItemsStr.length=0,this.textDivs.length=0,this.textDivProperties=new WeakMap}setTextContentSource(c){this.cancel(),this.#i=c}#o(){let{div:c}=this;c.addEventListener("mousedown",h=>{let g=c.querySelector(".endOfContent");if(!g)return;let p=h.target!==c;if(p&&=getComputedStyle(g).getPropertyValue("-moz-user-select")!=="none",p){let f=c.getBoundingClientRect(),v=Math.max(0,(h.pageY-f.top)/f.height);g.style.top=(v*100).toFixed(2)+"%"}g.classList.add("active")}),c.addEventListener("mouseup",()=>{let h=c.querySelector(".endOfContent");h&&(h.style.top="",h.classList.remove("active"))}),c.addEventListener("copy",h=>{if(!this.#e){let g=document.getSelection();h.clipboardData.setData("text/plain",(0,l.removeNullCharacters)((0,a.normalizeUnicode)(g.toString())))}h.preventDefault(),h.stopPropagation()})}}o.TextLayerBuilder=d},(r,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaLayerBuilder=void 0;var a=s(4);class l{constructor({pageDiv:u,pdfPage:c,annotationStorage:h=null,linkService:g,xfaHtml:p=null}){this.pageDiv=u,this.pdfPage=c,this.annotationStorage=h,this.linkService=g,this.xfaHtml=p,this.div=null,this._cancelled=!1}render(u,c="display"){return ae(this,null,function*(){if(c==="print"){let p={viewport:u.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:c},f=document.createElement("div");return this.pageDiv.append(f),p.div=f,a.XfaLayer.render(p)}let h=yield this.pdfPage.getXfa();if(this._cancelled||!h)return{textDivs:[]};let g={viewport:u.clone({dontFlip:!0}),div:this.div,xfaHtml:h,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:c};return this.div?a.XfaLayer.update(g):(this.div=document.createElement("div"),this.pageDiv.append(this.div),g.div=this.div,a.XfaLayer.render(g))})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}o.XfaLayerBuilder=l},(r,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFScriptingManager=void 0;var a=s(22),l=s(23);class d extends l.PDFScriptingManager{constructor(c){c.externalServices||window.addEventListener("updatefromsandbox",h=>{c.eventBus.dispatch("updatefromsandbox",{source:window,detail:h.detail})}),c.externalServices||={createScripting:({sandboxBundleSrc:h})=>new a.GenericScripting(h)},c.docProperties||=h=>(0,a.docProperties)(h),super(c)}}o.PDFScriptingManager=d},(r,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GenericScripting=void 0,o.docProperties=l;var a=s(4);function l(u){return ae(this,null,function*(){let c="",h=c.split("#")[0],{info:g,metadata:p,contentDispositionFilename:f,contentLength:v}=yield u.getMetadata();if(!v){let{length:m}=yield u.getDownloadInfo();v=m}return Ze(le({},g),{baseURL:h,filesize:v,filename:f||(0,a.getPdfFilenameFromUrl)(c),metadata:p?.getRaw(),authors:p?.get("dc:creator"),numPages:u.numPages,URL:c})})}class d{constructor(c){this._ready=(0,a.loadScript)(c,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(c){return ae(this,null,function*(){(yield this._ready).create(c)})}dispatchEventInSandbox(c){return ae(this,null,function*(){let h=yield this._ready;setTimeout(()=>h.dispatchEvent(c),0)})}destroySandbox(){return ae(this,null,function*(){(yield this._ready).nukeSandbox()})}}o.GenericScripting=d},(r,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFScriptingManager=void 0;var a=s(2),l=s(4);class d{#e=null;#t=null;#n=null;#i=null;#a=null;#o=null;#s=null;#l=!1;#d=null;#r=null;#c=null;constructor({eventBus:c,sandboxBundleSrc:h=null,externalServices:g=null,docProperties:p=null}){this.#i=c,this.#d=h,this.#a=g,this.#n=p}setViewer(c){this.#s=c}setDocument(c){return ae(this,null,function*(){if(this.#o&&(yield this.#m()),this.#o=c,!c)return;let[h,g,p]=yield Promise.all([c.getFieldObjects(),c.getCalculationOrderIds(),c.getJSActions()]);if(!h&&!p){yield this.#m();return}if(c===this.#o){try{this.#r=this.#g()}catch(f){console.error(`setDocument: "${f.message}".`),yield this.#m();return}this._internalEvents.set("updatefromsandbox",f=>{f?.source===window&&this.#u(f.detail)}),this._internalEvents.set("dispatcheventinsandbox",f=>{this.#r?.dispatchEventInSandbox(f.detail)}),this._internalEvents.set("pagechanging",({pageNumber:f,previous:v})=>{f!==v&&(this.#p(v),this.#f(f))}),this._internalEvents.set("pagerendered",({pageNumber:f})=>{this._pageOpenPending.has(f)&&f===this.#s.currentPageNumber&&this.#f(f)}),this._internalEvents.set("pagesdestroy",()=>ae(this,null,function*(){yield this.#p(this.#s.currentPageNumber),yield this.#r?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),this.#e?.resolve()}));for(let[f,v]of this._internalEvents)this.#i._on(f,v);try{let f=yield this.#n(c);if(c!==this.#o)return;yield this.#r.createSandbox({objects:h,calculationOrder:g,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:Ze(le({},f),{actions:p})}),this.#i.dispatch("sandboxcreated",{source:this})}catch(f){console.error(`setDocument: "${f.message}".`),yield this.#m();return}yield this.#r?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield this.#f(this.#s.currentPageNumber,!0),Promise.resolve().then(()=>{c===this.#o&&(this.#l=!0)})}})}dispatchWillSave(){return ae(this,null,function*(){return this.#r?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})}dispatchDidSave(){return ae(this,null,function*(){return this.#r?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})}dispatchWillPrint(){return ae(this,null,function*(){if(this.#r){yield this.#c?.promise,this.#c=new l.PromiseCapability;try{yield this.#r.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(c){throw this.#c.resolve(),this.#c=null,c}yield this.#c.promise}})}dispatchDidPrint(){return ae(this,null,function*(){return this.#r?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})}get destroyPromise(){return this.#t?.promise||null}get ready(){return this.#l}get _internalEvents(){return(0,l.shadow)(this,"_internalEvents",new Map)}get _pageOpenPending(){return(0,l.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,l.shadow)(this,"_visitedPages",new Map)}#u(c){return ae(this,null,function*(){let h=this.#s,g=h.isInPresentationMode||h.isChangingPresentationMode,{id:p,siblings:f,command:v,value:m}=c;if(!p){switch(v){case"clear":console.clear();break;case"error":console.error(m);break;case"layout":if(!g){let b=(0,a.apiPageLayoutToViewerModes)(m);h.spreadMode=b.spreadMode}break;case"page-num":h.currentPageNumber=m+1;break;case"print":yield h.pagesPromise,this.#i.dispatch("print",{source:this});break;case"println":console.log(m);break;case"zoom":g||(h.currentScaleValue=m);break;case"SaveAs":this.#i.dispatch("download",{source:this});break;case"FirstPage":h.currentPageNumber=1;break;case"LastPage":h.currentPageNumber=h.pagesCount;break;case"NextPage":h.nextPage();break;case"PrevPage":h.previousPage();break;case"ZoomViewIn":g||h.increaseScale();break;case"ZoomViewOut":g||h.decreaseScale();break;case"WillPrintFinished":this.#c?.resolve(),this.#c=null;break}return}if(g&&c.focus)return;delete c.id,delete c.siblings;let x=f?[p,...f]:[p];for(let b of x){let A=document.querySelector(`[data-element-id="${b}"]`);A?A.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:c})):this.#o?.annotationStorage.setValue(b,c)}})}#f(c,h=!1){return ae(this,null,function*(){let g=this.#o,p=this._visitedPages;if(h&&(this.#e=new l.PromiseCapability),!this.#e)return;let f=this.#s.getPageView(c-1);if(f?.renderingState!==a.RenderingStates.FINISHED){this._pageOpenPending.add(c);return}this._pageOpenPending.delete(c);let v=ae(this,null,function*(){let m=yield p.has(c)?null:f.pdfPage?.getJSActions();g===this.#o&&(yield this.#r?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:c,actions:m}))});p.set(c,v)})}#p(c){return ae(this,null,function*(){let h=this.#o,g=this._visitedPages;if(!this.#e||this._pageOpenPending.has(c))return;let p=g.get(c);p&&(g.set(c,null),yield p,h===this.#o&&(yield this.#r?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:c})))})}#g(){if(this.#t=new l.PromiseCapability,this.#r)throw new Error("#initScripting: Scripting already exists.");return this.#a.createScripting({sandboxBundleSrc:this.#d})}#m(){return ae(this,null,function*(){if(!this.#r){this.#o=null,this.#t?.resolve();return}this.#e&&(yield Promise.race([this.#e.promise,new Promise(c=>{setTimeout(c,1e3)})]).catch(()=>{}),this.#e=null),this.#o=null;try{yield this.#r.destroySandbox()}catch{}this.#c?.reject(new Error("Scripting destroyed.")),this.#c=null;for(let[c,h]of this._internalEvents)this.#i._off(c,h);this._internalEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),this.#r=null,this.#l=!1,this.#t?.resolve()})}}o.PDFScriptingManager=d},(r,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFSinglePageViewer=void 0;var a=s(2),l=s(25);class d extends l.PDFViewer{_resetView(){super._resetView(),this._scrollMode=a.ScrollMode.PAGE,this._spreadMode=a.SpreadMode.NONE}set scrollMode(c){}_updateScrollMode(){}set spreadMode(c){}_updateSpreadMode(){}}o.PDFSinglePageViewer=d},(r,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PagesCountLimit=o.PDFViewer=o.PDFPageViewBuffer=void 0;var a=s(4),l=s(2),d=s(7),u=s(13),c=s(26),h=s(5);let g=10,p={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};o.PagesCountLimit=p;function f(x){return Object.values(a.AnnotationEditorType).includes(x)&&x!==a.AnnotationEditorType.DISABLE}class v{#e=new Set;#t=0;constructor(b){this.#t=b}push(b){let A=this.#e;A.has(b)&&A.delete(b),A.add(b),A.size>this.#t&&this.#n()}resize(b,A=null){this.#t=b;let _=this.#e;if(A){let S=_.size,D=1;for(let F of _)if(A.has(F.id)&&(_.delete(F),_.add(F)),++D>S)break}for(;_.size>this.#t;)this.#n()}has(b){return this.#e.has(b)}[Symbol.iterator](){return this.#e.keys()}#n(){let b=this.#e.keys().next().value;b?.destroy(),this.#e.delete(b)}}o.PDFPageViewBuffer=v;class m{#e=null;#t=null;#n=a.AnnotationEditorType.NONE;#i=null;#a=a.AnnotationMode.ENABLE_FORMS;#o=null;#s=null;#l=!1;#d=!1;#r=null;#c=!1;#u=0;#f=new ResizeObserver(this.#S.bind(this));#p=null;#g=null;#m=null;#b=l.TextLayerMode.ENABLE;constructor(b){let A="3.11.174";if(a.version!==A)throw new Error(`The API version "${a.version}" does not match the Viewer version "${A}".`);if(this.container=b.container,this.viewer=b.viewer||b.container.firstElementChild,this.container?.tagName!=="DIV"||this.viewer?.tagName!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.#f.observe(this.container),this.eventBus=b.eventBus,this.linkService=b.linkService||new h.SimpleLinkService,this.downloadManager=b.downloadManager||null,this.findController=b.findController||null,this.#t=b.altTextManager||null,this.findController&&(this.findController.onIsPageVisible=_=>this._getVisiblePages().ids.has(_)),this._scriptingManager=b.scriptingManager||null,this.#b=b.textLayerMode??l.TextLayerMode.ENABLE,this.#a=b.annotationMode??a.AnnotationMode.ENABLE_FORMS,this.#n=b.annotationEditorMode??a.AnnotationEditorType.NONE,this.imageResourcesPath=b.imageResourcesPath||"",this.enablePrintAutoRotate=b.enablePrintAutoRotate||!1,this.removePageBorders=b.removePageBorders||!1,b.useOnlyCssZoom&&(console.error("useOnlyCssZoom was removed, please use `maxCanvasPixels = 0` instead."),b.maxCanvasPixels=0),this.isOffscreenCanvasSupported=b.isOffscreenCanvasSupported??!0,this.maxCanvasPixels=b.maxCanvasPixels,this.l10n=b.l10n||d.NullL10n,this.#l=b.enablePermissions||!1,this.pageColors=b.pageColors||null,this.defaultRenderingQueue=!b.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new c.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=b.renderingQueue,this.scroll=(0,l.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=l.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.#_(),this.eventBus._on("thumbnailrendered",({pageNumber:_,pdfPage:S})=>{let D=this._pages[_-1];this.#e.has(D)||S?.cleanup()})}get pagesCount(){return this._pages.length}getPageView(b){return this._pages[b]}getCachedPageViews(){return new Set(this.#e)}get pageViewsReady(){return this._pagesCapability.settled&&this._pages.every(b=>b?.pdfPage)}get renderForms(){return this.#a===a.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(b){if(!Number.isInteger(b))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(b,!0)||console.error(`currentPageNumber: "${b}" is not a valid page.`))}_setCurrentPageNumber(b,A=!1){if(this._currentPageNumber===b)return A&&this.#D(),!0;if(!(0<b&&b<=this.pagesCount))return!1;let _=this._currentPageNumber;return this._currentPageNumber=b,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:b,pageLabel:this._pageLabels?.[b-1]??null,previous:_}),A&&this.#D(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(b){if(!this.pdfDocument)return;let A=b|0;if(this._pageLabels){let _=this._pageLabels.indexOf(b);_>=0&&(A=_+1)}this._setCurrentPageNumber(A,!0)||console.error(`currentPageLabel: "${b}" is not a valid page.`)}get currentScale(){return this._currentScale!==l.UNKNOWN_SCALE?this._currentScale:l.DEFAULT_SCALE}set currentScale(b){if(isNaN(b))throw new Error("Invalid numeric scale.");this.pdfDocument&&this.#y(b,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(b){this.pdfDocument&&this.#y(b,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(b){if(!(0,l.isValidRotation)(b))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(b%=360,b<0&&(b+=360),this._pagesRotation===b))return;this._pagesRotation=b;let A=this._currentPageNumber;this.refresh(!0,{rotation:b}),this._currentScaleValue&&this.#y(this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:b,pageNumber:A}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}#h(){let b=this;return{get annotationEditorUIManager(){return b.#i},get annotationStorage(){return b.pdfDocument?.annotationStorage},get downloadManager(){return b.downloadManager},get enableScripting(){return!!b._scriptingManager},get fieldObjectsPromise(){return b.pdfDocument?.getFieldObjects()},get findController(){return b.findController},get hasJSActionsPromise(){return b.pdfDocument?.hasJSActions()},get linkService(){return b.linkService}}}#v(b){let A={annotationEditorMode:this.#n,annotationMode:this.#a,textLayerMode:this.#b};return b&&(!b.includes(a.PermissionFlag.COPY)&&this.#b===l.TextLayerMode.ENABLE&&(A.textLayerMode=l.TextLayerMode.ENABLE_PERMISSIONS),b.includes(a.PermissionFlag.MODIFY_CONTENTS)||(A.annotationEditorMode=a.AnnotationEditorType.DISABLE),!b.includes(a.PermissionFlag.MODIFY_ANNOTATIONS)&&!b.includes(a.PermissionFlag.FILL_INTERACTIVE_FORMS)&&this.#a===a.AnnotationMode.ENABLE_FORMS&&(A.annotationMode=a.AnnotationMode.ENABLE)),A}#C(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return Promise.resolve();let b=new Promise(A=>{this.#g=()=>{document.visibilityState==="hidden"&&(A(),document.removeEventListener("visibilitychange",this.#g),this.#g=null)},document.addEventListener("visibilitychange",this.#g)});return Promise.race([this._onePageRenderedCapability.promise,b])}getAllText(){return ae(this,null,function*(){let b=[],A=[];for(let _=1,S=this.pdfDocument.numPages;_<=S;++_){if(this.#c)return null;A.length=0;let D=yield this.pdfDocument.getPage(_),{items:F}=yield D.getTextContent();for(let k of F)k.str&&A.push(k.str),k.hasEOL&&A.push(`
`);b.push((0,l.removeNullCharacters)(A.join("")))}return b.join(`
`)})}#A(b,A){let _=document.getSelection(),{focusNode:S,anchorNode:D}=_;if(D&&S&&_.containsNode(this.#r)){if(this.#d||b===l.TextLayerMode.ENABLE_PERMISSIONS){A.preventDefault(),A.stopPropagation();return}this.#d=!0;let F=this.container.style.cursor;this.container.style.cursor="wait";let k=U=>this.#c=U.key==="Escape";window.addEventListener("keydown",k),this.getAllText().then(U=>ae(this,null,function*(){U!==null&&(yield navigator.clipboard.writeText(U))})).catch(U=>{console.warn(`Something goes wrong when extracting the text: ${U.message}`)}).finally(()=>{this.#d=!1,this.#c=!1,window.removeEventListener("keydown",k),this.container.style.cursor=F}),A.preventDefault(),A.stopPropagation()}}setDocument(b){if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController?.setDocument(null),this._scriptingManager?.setDocument(null),this.#i&&(this.#i.destroy(),this.#i=null)),this.pdfDocument=b,!b)return;let A=b.numPages,_=b.getPage(1),S=b.getOptionalContentConfig(),D=this.#l?b.getPermissions():Promise.resolve();if(A>p.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");let F=this._scrollMode=l.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:F})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:A})},()=>{}),this._onBeforeDraw=F=>{let k=this._pages[F.pageNumber-1];k&&this.#e.push(k)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=F=>{F.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:F.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,this.#g&&(document.removeEventListener("visibilitychange",this.#g),this.#g=null))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([_,D]).then(([F,k])=>{if(b!==this.pdfDocument)return;this._firstPageCapability.resolve(F),this._optionalContentConfigPromise=S;let{annotationEditorMode:U,annotationMode:Q,textLayerMode:G}=this.#v(k);if(G!==l.TextLayerMode.DISABLE){let y=this.#r=document.createElement("div");y.id="hiddenCopyElement",this.viewer.before(y)}if(U!==a.AnnotationEditorType.DISABLE){let y=U;b.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):f(y)?(this.#i=new a.AnnotationEditorUIManager(this.container,this.viewer,this.#t,this.eventBus,b,this.pageColors),y!==a.AnnotationEditorType.NONE&&this.#i.updateMode(y)):console.error(`Invalid AnnotationEditor mode: ${y}`)}let K=this.#h.bind(this),Y=this._scrollMode===l.ScrollMode.PAGE?null:this.viewer,H=this.currentScale,N=F.getViewport({scale:H*a.PixelsPerInch.PDF_TO_CSS_UNITS});this.viewer.style.setProperty("--scale-factor",N.scale),(this.pageColors?.foreground==="CanvasText"||this.pageColors?.background==="Canvas")&&this.viewer.style.setProperty("--hcm-highligh-filter",b.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight"));for(let y=1;y<=A;++y){let w=new u.PDFPageView({container:Y,eventBus:this.eventBus,id:y,scale:H,defaultViewport:N.clone(),optionalContentConfigPromise:S,renderingQueue:this.renderingQueue,textLayerMode:G,annotationMode:Q,imageResourcesPath:this.imageResourcesPath,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n,layerProperties:K});this._pages.push(w)}let I=this._pages[0];I&&(I.setPdfPage(F),this.linkService.cachePageRef(1,F.ref)),this._scrollMode===l.ScrollMode.PAGE?this.#w():this._spreadMode!==l.SpreadMode.NONE&&this._updateSpreadMode(),this.#C().then(()=>ae(this,null,function*(){if(this.findController?.setDocument(b),this._scriptingManager?.setDocument(b),this.#r&&(this.#s=this.#A.bind(this,G),document.addEventListener("copy",this.#s)),this.#i&&this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:this.#n}),b.loadingParams.disableAutoFetch||A>p.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let y=A-1;if(y<=0){this._pagesCapability.resolve();return}for(let w=2;w<=A;++w){let C=b.getPage(w).then(M=>{let R=this._pages[w-1];R.pdfPage||R.setPdfPage(M),this.linkService.cachePageRef(w,M.ref),--y===0&&this._pagesCapability.resolve()},M=>{console.error(`Unable to get page ${w} to initialize viewer`,M),--y===0&&this._pagesCapability.resolve()});w%p.PAUSE_EAGER_PAGE_INIT===0&&(yield C)}})),this.eventBus.dispatch("pagesinit",{source:this}),b.getMetadata().then(({info:y})=>{b===this.pdfDocument&&y.Language&&(this.viewer.lang=y.Language)}),this.defaultRenderingQueue&&this.update()}).catch(F=>{console.error("Unable to initialize viewer",F),this._pagesCapability.reject(F)})}setPageLabels(b){if(this.pdfDocument){b?Array.isArray(b)&&this.pdfDocument.numPages===b.length?this._pageLabels=b:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let A=0,_=this._pages.length;A<_;A++)this._pages[A].setPageLabel(this._pageLabels?.[A]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=l.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this.#e=new v(g),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=new a.PromiseCapability,this._onePageRenderedCapability=new a.PromiseCapability,this._pagesCapability=new a.PromiseCapability,this._scrollMode=l.ScrollMode.VERTICAL,this._previousScrollMode=l.ScrollMode.UNKNOWN,this._spreadMode=l.SpreadMode.NONE,this.#p={previousPageNumber:1,scrollDown:!0,pages:[]},this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.#g&&(document.removeEventListener("visibilitychange",this.#g),this.#g=null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.#r&&(document.removeEventListener("copy",this.#s),this.#s=null,this.#r.remove(),this.#r=null)}#w(){if(this._scrollMode!==l.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");let b=this._currentPageNumber,A=this.#p,_=this.viewer;if(_.textContent="",A.pages.length=0,this._spreadMode===l.SpreadMode.NONE&&!this.isInPresentationMode){let S=this._pages[b-1];_.append(S.div),A.pages.push(S)}else{let S=new Set,D=this._spreadMode-1;D===-1?S.add(b-1):b%2!==D?(S.add(b-1),S.add(b)):(S.add(b-2),S.add(b-1));let F=document.createElement("div");if(F.className="spread",this.isInPresentationMode){let k=document.createElement("div");k.className="dummyPage",F.append(k)}for(let k of S){let U=this._pages[k];U&&(F.append(U.div),A.pages.push(U))}_.append(F)}A.scrollDown=b>=A.previousPageNumber,A.previousPageNumber=b}_scrollUpdate(){this.pagesCount!==0&&this.update()}#x(b,A=null){let{div:_,id:S}=b;if(this._currentPageNumber!==S&&this._setCurrentPageNumber(S),this._scrollMode===l.ScrollMode.PAGE&&(this.#w(),this.update()),!A&&!this.isInPresentationMode){let D=_.offsetLeft+_.clientLeft,F=D+_.clientWidth,{scrollLeft:k,clientWidth:U}=this.container;(this._scrollMode===l.ScrollMode.HORIZONTAL||D<k||F>k+U)&&(A={left:0,top:0})}(0,l.scrollIntoView)(_,A),!this._currentScaleValue&&this._location&&(this._location=null)}#k(b){return b===this._currentScale||Math.abs(b-this._currentScale)<1e-15}#F(b,A,{noScroll:_=!1,preset:S=!1,drawingDelay:D=-1}){if(this._currentScaleValue=A.toString(),this.#k(b)){S&&this.eventBus.dispatch("scalechanging",{source:this,scale:b,presetValue:A});return}this.viewer.style.setProperty("--scale-factor",b*a.PixelsPerInch.PDF_TO_CSS_UNITS);let F=D>=0&&D<1e3;if(this.refresh(!0,{scale:b,drawingDelay:F?D:-1}),F&&(this.#m=setTimeout(()=>{this.#m=null,this.refresh()},D)),this._currentScale=b,!_){let k=this._currentPageNumber,U;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(k=this._location.pageNumber,U=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:k,destArray:U,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:b,presetValue:S?A:void 0}),this.defaultRenderingQueue&&this.update()}get#R(){return this._spreadMode!==l.SpreadMode.NONE&&this._scrollMode!==l.ScrollMode.HORIZONTAL?2:1}#y(b,A){let _=parseFloat(b);if(_>0)A.preset=!1,this.#F(_,b,A);else{let S=this._pages[this._currentPageNumber-1];if(!S)return;let D=l.SCROLLBAR_PADDING,F=l.VERTICAL_PADDING;this.isInPresentationMode?(D=F=4,this._spreadMode!==l.SpreadMode.NONE&&(D*=2)):this.removePageBorders?D=F=0:this._scrollMode===l.ScrollMode.HORIZONTAL&&([D,F]=[F,D]);let k=(this.container.clientWidth-D)/S.width*S.scale/this.#R,U=(this.container.clientHeight-F)/S.height*S.scale;switch(b){case"page-actual":_=1;break;case"page-width":_=k;break;case"page-height":_=U;break;case"page-fit":_=Math.min(k,U);break;case"auto":let Q=(0,l.isPortraitOrientation)(S)?k:Math.min(U,k);_=Math.min(l.MAX_AUTO_SCALE,Q);break;default:console.error(`#setScale: "${b}" is an unknown zoom value.`);return}A.preset=!0,this.#F(_,b,A)}}#D(){let b=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this.#y(this._currentScaleValue,{noScroll:!0}),this.#x(b)}pageLabelToPageNumber(b){if(!this._pageLabels)return null;let A=this._pageLabels.indexOf(b);return A<0?null:A+1}scrollPageIntoView({pageNumber:b,destArray:A=null,allowNegativeOffset:_=!1,ignoreDestinationZoom:S=!1}){if(!this.pdfDocument)return;let D=Number.isInteger(b)&&this._pages[b-1];if(!D){console.error(`scrollPageIntoView: "${b}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!A){this._setCurrentPageNumber(b,!0);return}let F=0,k=0,U=0,Q=0,G,K,Y=D.rotation%180!==0,H=(Y?D.height:D.width)/D.scale/a.PixelsPerInch.PDF_TO_CSS_UNITS,N=(Y?D.width:D.height)/D.scale/a.PixelsPerInch.PDF_TO_CSS_UNITS,I=0;switch(A[1].name){case"XYZ":F=A[2],k=A[3],I=A[4],F=F!==null?F:0,k=k!==null?k:N;break;case"Fit":case"FitB":I="page-fit";break;case"FitH":case"FitBH":k=A[2],I="page-width",k===null&&this._location?(F=this._location.left,k=this._location.top):(typeof k!="number"||k<0)&&(k=N);break;case"FitV":case"FitBV":F=A[2],U=H,Q=N,I="page-height";break;case"FitR":F=A[2],k=A[3],U=A[4]-F,Q=A[5]-k;let M=l.SCROLLBAR_PADDING,R=l.VERTICAL_PADDING;this.removePageBorders&&(M=R=0),G=(this.container.clientWidth-M)/U/a.PixelsPerInch.PDF_TO_CSS_UNITS,K=(this.container.clientHeight-R)/Q/a.PixelsPerInch.PDF_TO_CSS_UNITS,I=Math.min(Math.abs(G),Math.abs(K));break;default:console.error(`scrollPageIntoView: "${A[1].name}" is not a valid destination type.`);return}if(S||(I&&I!==this._currentScale?this.currentScaleValue=I:this._currentScale===l.UNKNOWN_SCALE&&(this.currentScaleValue=l.DEFAULT_SCALE_VALUE)),I==="page-fit"&&!A[4]){this.#x(D);return}let y=[D.viewport.convertToViewportPoint(F,k),D.viewport.convertToViewportPoint(F+U,k+Q)],w=Math.min(y[0][0],y[1][0]),C=Math.min(y[0][1],y[1][1]);_||(w=Math.max(w,0),C=Math.max(C,0)),this.#x(D,{left:w,top:C})}_updateLocation(b){let A=this._currentScale,_=this._currentScaleValue,S=parseFloat(_)===A?Math.round(A*1e4)/100:_,D=b.id,F=this._pages[D-1],k=this.container,U=F.getPagePoint(k.scrollLeft-b.x,k.scrollTop-b.y),Q=Math.round(U[0]),G=Math.round(U[1]),K=`#page=${D}`;this.isInPresentationMode||(K+=`&zoom=${S},${Q},${G}`),this._location={pageNumber:D,scale:S,top:G,left:Q,rotation:this._pagesRotation,pdfOpenParams:K}}update(){let b=this._getVisiblePages(),A=b.views,_=A.length;if(_===0)return;let S=Math.max(g,2*_+1);this.#e.resize(S,b.ids),this.renderingQueue.renderHighestPriority(b);let D=this._spreadMode===l.SpreadMode.NONE&&(this._scrollMode===l.ScrollMode.PAGE||this._scrollMode===l.ScrollMode.VERTICAL),F=this._currentPageNumber,k=!1;for(let U of A){if(U.percent<100)break;if(U.id===F&&D){k=!0;break}}this._setCurrentPageNumber(k?F:A[0].id),this._updateLocation(b.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(b){return this.container.contains(b)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===l.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===l.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){let b=this._scrollMode===l.ScrollMode.PAGE?this.#p.pages:this._pages,A=this._scrollMode===l.ScrollMode.HORIZONTAL,_=A&&this._isContainerRtl;return(0,l.getVisibleElements)({scrollEl:this.container,views:b,sortByVisibility:!0,horizontal:A,rtl:_})}cleanup(){for(let b of this._pages)b.renderingState!==l.RenderingStates.FINISHED&&b.reset()}_cancelRendering(){for(let b of this._pages)b.cancelRendering()}#I(b){return ae(this,null,function*(){if(b.pdfPage)return b.pdfPage;try{let A=yield this.pdfDocument.getPage(b.id);return b.pdfPage||b.setPdfPage(A),this.linkService._cachedPageNumber?.(A.ref)||this.linkService.cachePageRef(b.id,A.ref),A}catch(A){return console.error("Unable to get page for page view",A),null}})}#T(b){if(b.first?.id===1)return!0;if(b.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case l.ScrollMode.PAGE:return this.#p.scrollDown;case l.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}forceRendering(b){let A=b||this._getVisiblePages(),_=this.#T(A),S=this._spreadMode!==l.SpreadMode.NONE&&this._scrollMode!==l.ScrollMode.HORIZONTAL,D=this.renderingQueue.getHighestPriority(A,this._pages,_,S);return D?(this.#I(D).then(()=>{this.renderingQueue.renderView(D)}),!0):!1}get hasEqualPageSizes(){let b=this._pages[0];for(let A=1,_=this._pages.length;A<_;++A){let S=this._pages[A];if(S.width!==b.width||S.height!==b.height)return!1}return!0}getPagesOverview(){let b;return this._pages.map(A=>{let _=A.pdfPage.getViewport({scale:1}),S=(0,l.isPortraitOrientation)(_);if(b===void 0)b=S;else if(this.enablePrintAutoRotate&&S!==b)return{width:_.height,height:_.width,rotation:(_.rotation-90)%360};return{width:_.width,height:_.height,rotation:_.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(b){if(!(b instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${b}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=b,this.refresh(!1,{optionalContentConfigPromise:b}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:b}))}get scrollMode(){return this._scrollMode}set scrollMode(b){if(this._scrollMode!==b){if(!(0,l.isValidScrollMode)(b))throw new Error(`Invalid scroll mode: ${b}`);this.pagesCount>p.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=b,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:b}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(b=null){let A=this._scrollMode,_=this.viewer;_.classList.toggle("scrollHorizontal",A===l.ScrollMode.HORIZONTAL),_.classList.toggle("scrollWrapped",A===l.ScrollMode.WRAPPED),!(!this.pdfDocument||!b)&&(A===l.ScrollMode.PAGE?this.#w():this._previousScrollMode===l.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#y(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(b,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(b){if(this._spreadMode!==b){if(!(0,l.isValidSpreadMode)(b))throw new Error(`Invalid spread mode: ${b}`);this._spreadMode=b,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:b}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(b=null){if(!this.pdfDocument)return;let A=this.viewer,_=this._pages;if(this._scrollMode===l.ScrollMode.PAGE)this.#w();else if(A.textContent="",this._spreadMode===l.SpreadMode.NONE)for(let S of this._pages)A.append(S.div);else{let S=this._spreadMode-1,D=null;for(let F=0,k=_.length;F<k;++F)D===null?(D=document.createElement("div"),D.className="spread",A.append(D)):F%2===S&&(D=D.cloneNode(!1),A.append(D)),D.append(_[F].div)}b&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#y(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(b,!0),this.update())}_getPageAdvance(b,A=!1){switch(this._scrollMode){case l.ScrollMode.WRAPPED:{let{views:_}=this._getVisiblePages(),S=new Map;for(let{id:D,y:F,percent:k,widthPercent:U}of _){if(k===0||U<100)continue;let Q=S.get(F);Q||S.set(F,Q||=[]),Q.push(D)}for(let D of S.values()){let F=D.indexOf(b);if(F===-1)continue;let k=D.length;if(k===1)break;if(A)for(let U=F-1,Q=0;U>=Q;U--){let G=D[U],K=D[U+1]-1;if(G<K)return b-K}else for(let U=F+1,Q=k;U<Q;U++){let G=D[U],K=D[U-1]+1;if(G>K)return K-b}if(A){let U=D[0];if(U<b)return b-U+1}else{let U=D[k-1];if(U>b)return U-b+1}break}break}case l.ScrollMode.HORIZONTAL:break;case l.ScrollMode.PAGE:case l.ScrollMode.VERTICAL:{if(this._spreadMode===l.SpreadMode.NONE)break;let _=this._spreadMode-1;if(A&&b%2!==_)break;if(!A&&b%2===_)break;let{views:S}=this._getVisiblePages(),D=A?b-1:b+1;for(let{id:F,percent:k,widthPercent:U}of S)if(F===D){if(k>0&&U===100)return 2;break}break}}return 1}nextPage(){let b=this._currentPageNumber,A=this.pagesCount;if(b>=A)return!1;let _=this._getPageAdvance(b,!1)||1;return this.currentPageNumber=Math.min(b+_,A),!0}previousPage(){let b=this._currentPageNumber;if(b<=1)return!1;let A=this._getPageAdvance(b,!0)||1;return this.currentPageNumber=Math.max(b-A,1),!0}increaseScale({drawingDelay:b,scaleFactor:A,steps:_}={}){if(!this.pdfDocument)return;let S=this._currentScale;if(A>1)S=Math.round(S*A*100)/100;else{_??=1;do S=Math.ceil((S*l.DEFAULT_SCALE_DELTA).toFixed(2)*10)/10;while(--_>0&&S<l.MAX_SCALE)}this.#y(Math.min(l.MAX_SCALE,S),{noScroll:!1,drawingDelay:b})}decreaseScale({drawingDelay:b,scaleFactor:A,steps:_}={}){if(!this.pdfDocument)return;let S=this._currentScale;if(A>0&&A<1)S=Math.round(S*A*100)/100;else{_??=1;do S=Math.floor((S/l.DEFAULT_SCALE_DELTA).toFixed(2)*10)/10;while(--_>0&&S>l.MIN_SCALE)}this.#y(Math.max(l.MIN_SCALE,S),{noScroll:!1,drawingDelay:b})}#_(b=this.container.clientHeight){b!==this.#u&&(this.#u=b,l.docStyle.setProperty("--viewer-container-height",`${b}px`))}#S(b){for(let A of b)if(A.target===this.container){this.#_(Math.floor(A.borderBoxSize[0].blockSize)),this.#o=null;break}}get containerTopLeft(){return this.#o||=[this.container.offsetTop,this.container.offsetLeft]}get annotationEditorMode(){return this.#i?this.#n:a.AnnotationEditorType.DISABLE}set annotationEditorMode({mode:b,editId:A=null}){if(!this.#i)throw new Error("The AnnotationEditor is not enabled.");if(this.#n!==b){if(!f(b))throw new Error(`Invalid AnnotationEditor mode: ${b}`);this.pdfDocument&&(this.#n=b,this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:b}),this.#i.updateMode(b,A))}}set annotationEditorParams({type:b,value:A}){if(!this.#i)throw new Error("The AnnotationEditor is not enabled.");this.#i.updateParams(b,A)}refresh(b=!1,A=Object.create(null)){if(this.pdfDocument){for(let _ of this._pages)_.update(A);this.#m!==null&&(clearTimeout(this.#m),this.#m=null),b||this.update()}}}o.PDFViewer=m},(r,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFRenderingQueue=void 0;var a=s(4),l=s(2);let d=3e4;class u{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(h){this.pdfViewer=h}setThumbnailViewer(h){this.pdfThumbnailViewer=h}isHighestPriority(h){return this.highestPriorityPage===h.renderingId}renderHighestPriority(h){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(h)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),d)))}getHighestPriority(h,g,p,f=!1){let v=h.views,m=v.length;if(m===0)return null;for(let S=0;S<m;S++){let D=v[S].view;if(!this.isViewFinished(D))return D}let x=h.first.id,b=h.last.id;if(b-x+1>m){let S=h.ids;for(let D=1,F=b-x;D<F;D++){let k=p?x+D:b-D;if(S.has(k))continue;let U=g[k-1];if(!this.isViewFinished(U))return U}}let A=p?b:x-2,_=g[A];return _&&!this.isViewFinished(_)||f&&(A+=p?1:-1,_=g[A],_&&!this.isViewFinished(_))?_:null}isViewFinished(h){return h.renderingState===l.RenderingStates.FINISHED}renderView(h){switch(h.renderingState){case l.RenderingStates.FINISHED:return!1;case l.RenderingStates.PAUSED:this.highestPriorityPage=h.renderingId,h.resume();break;case l.RenderingStates.RUNNING:this.highestPriorityPage=h.renderingId;break;case l.RenderingStates.INITIAL:this.highestPriorityPage=h.renderingId,h.draw().finally(()=>{this.renderHighestPriority()}).catch(g=>{g instanceof a.RenderingCancelledException||console.error(`renderView: "${g}"`)});break}return!0}}o.PDFRenderingQueue=u}],e={};function i(r){var o=e[r];if(o!==void 0)return o.exports;var s=e[r]={exports:{}};return t[r](s,s.exports,i),s.exports}var n={};return(()=>{var r=n;Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return l.AnnotationLayerBuilder}}),Object.defineProperty(r,"DownloadManager",{enumerable:!0,get:function(){return d.DownloadManager}}),Object.defineProperty(r,"EventBus",{enumerable:!0,get:function(){return u.EventBus}}),Object.defineProperty(r,"FindState",{enumerable:!0,get:function(){return o.FindState}}),Object.defineProperty(r,"GenericL10n",{enumerable:!0,get:function(){return c.GenericL10n}}),Object.defineProperty(r,"LinkTarget",{enumerable:!0,get:function(){return s.LinkTarget}}),Object.defineProperty(r,"NullL10n",{enumerable:!0,get:function(){return h.NullL10n}}),Object.defineProperty(r,"PDFFindController",{enumerable:!0,get:function(){return o.PDFFindController}}),Object.defineProperty(r,"PDFHistory",{enumerable:!0,get:function(){return g.PDFHistory}}),Object.defineProperty(r,"PDFLinkService",{enumerable:!0,get:function(){return s.PDFLinkService}}),Object.defineProperty(r,"PDFPageView",{enumerable:!0,get:function(){return p.PDFPageView}}),Object.defineProperty(r,"PDFScriptingManager",{enumerable:!0,get:function(){return f.PDFScriptingManager}}),Object.defineProperty(r,"PDFSinglePageViewer",{enumerable:!0,get:function(){return v.PDFSinglePageViewer}}),Object.defineProperty(r,"PDFViewer",{enumerable:!0,get:function(){return m.PDFViewer}}),Object.defineProperty(r,"ProgressBar",{enumerable:!0,get:function(){return a.ProgressBar}}),Object.defineProperty(r,"RenderingStates",{enumerable:!0,get:function(){return a.RenderingStates}}),Object.defineProperty(r,"ScrollMode",{enumerable:!0,get:function(){return a.ScrollMode}}),Object.defineProperty(r,"SimpleLinkService",{enumerable:!0,get:function(){return s.SimpleLinkService}}),Object.defineProperty(r,"SpreadMode",{enumerable:!0,get:function(){return a.SpreadMode}}),Object.defineProperty(r,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return x.StructTreeLayerBuilder}}),Object.defineProperty(r,"TextLayerBuilder",{enumerable:!0,get:function(){return b.TextLayerBuilder}}),Object.defineProperty(r,"XfaLayerBuilder",{enumerable:!0,get:function(){return A.XfaLayerBuilder}}),Object.defineProperty(r,"parseQueryString",{enumerable:!0,get:function(){return a.parseQueryString}});var o=i(1),s=i(5),a=i(2),l=i(6),d=i(8),u=i(9),c=i(10),h=i(7),g=i(12),p=i(13),f=i(21),v=i(24),m=i(25),x=i(16),b=i(19),A=i(20);let _="3.11.174",S="ce8716743"})(),n})())});function wS(t,e){return Object.is(t,e)}var Ct=null,xs=!1,nl=1,Ri=Symbol("SIGNAL");function Ge(t){let e=Ct;return Ct=t,e}function xS(){return xs}var il={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function cv(t){if(xs)throw new Error("");if(Ct===null)return;Ct.consumerOnSignalRead(t);let e=Ct.nextProducerIndex++;if(eo(Ct),e<Ct.producerNode.length&&Ct.producerNode[e]!==t&&_s(Ct)){let i=Ct.producerNode[e];ol(i,Ct.producerIndexOfThis[e])}Ct.producerNode[e]!==t&&(Ct.producerNode[e]=t,Ct.producerIndexOfThis[e]=_s(Ct)?pv(t,Ct,e):0),Ct.producerLastReadVersion[e]=t.version}function _S(){nl++}function CS(t){if(!(_s(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===nl)){if(!t.producerMustRecompute(t)&&!rl(t)){t.dirty=!1,t.lastCleanEpoch=nl;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=nl}}function uv(t){if(t.liveConsumerNode===void 0)return;let e=xs;xs=!0;try{for(let i of t.liveConsumerNode)i.dirty||fv(i)}finally{xs=e}}function hv(){return Ct?.consumerAllowSignalWrites!==!1}function fv(t){t.dirty=!0,uv(t),t.consumerMarkedDirty?.(t)}function Uu(t){return t&&(t.nextProducerIndex=0),Ge(t)}function zu(t,e){if(Ge(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(_s(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)ol(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function rl(t){eo(t);for(let e=0;e<t.producerNode.length;e++){let i=t.producerNode[e],n=t.producerLastReadVersion[e];if(n!==i.version||(CS(i),n!==i.version))return!0}return!1}function Gu(t){if(eo(t),_s(t))for(let e=0;e<t.producerNode.length;e++)ol(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function pv(t,e,i){if(gv(t),eo(t),t.liveConsumerNode.length===0)for(let n=0;n<t.producerNode.length;n++)t.producerIndexOfThis[n]=pv(t.producerNode[n],t,n);return t.liveConsumerIndexOfThis.push(i),t.liveConsumerNode.push(e)-1}function ol(t,e){if(gv(t),eo(t),t.liveConsumerNode.length===1)for(let n=0;n<t.producerNode.length;n++)ol(t.producerNode[n],t.producerIndexOfThis[n]);let i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let n=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];eo(r),r.producerIndexOfThis[n]=e}}function _s(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function eo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function gv(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function ES(){throw new Error}var mv=ES;function bv(){mv()}function vv(t){mv=t}var SS=null;function yv(t){let e=Object.create(wv);e.value=t;let i=()=>(cv(e),e.value);return i[Ri]=e,i}function Wu(t,e){hv()||bv(),t.equal(t.value,e)||(t.value=e,DS(t))}function Av(t,e){hv()||bv(),Wu(t,e(t.value))}var wv=Ze(le({},il),{equal:wS,value:void 0});function DS(t){t.version++,_S(),uv(t),SS?.()}function xv(t,e,i){let n=Object.create(IS);i&&(n.consumerAllowSignalWrites=!0),n.fn=t,n.schedule=e;let r=l=>{n.cleanupFn=l};function o(l){return l.fn===null&&l.schedule===null}function s(l){o(l)||(Gu(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=Hu)}let a=()=>{if(n.fn===null)return;if(xS())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(n.dirty=!1,n.hasRun&&!rl(n))return;n.hasRun=!0;let l=Uu(n);try{n.cleanupFn(),n.cleanupFn=Hu,n.fn(r)}finally{zu(n,l)}};return n.ref={notify:()=>fv(n),run:a,cleanup:()=>n.cleanupFn(),destroy:()=>s(n),[Ri]:n},n.ref}var Hu=()=>{},IS=Ze(le({},il),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:Hu});function Ee(t){return typeof t=="function"}function to(t){let i=t(n=>{Error.call(n),n.stack=new Error().stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var sl=to(t=>function(i){t(this),this.message=i?`${i.length} errors occurred during unsubscription:
${i.map((n,r)=>`${r+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=i});function fr(t,e){if(t){let i=t.indexOf(e);0<=i&&t.splice(i,1)}}var Ye=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(let o of i)o.remove(this);else i.remove(this);let{initialTeardown:n}=this;if(Ee(n))try{n()}catch(o){e=o instanceof sl?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{_v(o)}catch(s){e=e??[],s instanceof sl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new sl(e)}}add(e){var i;if(e&&e!==this)if(this.closed)_v(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(e)}}_hasParent(e){let{_parentage:i}=this;return i===e||Array.isArray(i)&&i.includes(e)}_addParent(e){let{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(e),i):i?[i,e]:e}_removeParent(e){let{_parentage:i}=this;i===e?this._parentage=null:Array.isArray(i)&&fr(i,e)}remove(e){let{_finalizers:i}=this;i&&fr(i,e),e instanceof t&&e._removeParent(this)}};Ye.EMPTY=(()=>{let t=new Ye;return t.closed=!0,t})();var Qu=Ye.EMPTY;function al(t){return t instanceof Ye||t&&"closed"in t&&Ee(t.remove)&&Ee(t.add)&&Ee(t.unsubscribe)}function _v(t){Ee(t)?t():t.unsubscribe()}var Rn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var no={setTimeout(t,e,...i){let{delegate:n}=no;return n?.setTimeout?n.setTimeout(t,e,...i):setTimeout(t,e,...i)},clearTimeout(t){let{delegate:e}=no;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ll(t){no.setTimeout(()=>{let{onUnhandledError:e}=Rn;if(e)e(t);else throw t})}function Cs(){}var Cv=qu("C",void 0,void 0);function Ev(t){return qu("E",void 0,t)}function Sv(t){return qu("N",t,void 0)}function qu(t,e,i){return{kind:t,value:e,error:i}}var pr=null;function io(t){if(Rn.useDeprecatedSynchronousErrorHandling){let e=!pr;if(e&&(pr={errorThrown:!1,error:null}),t(),e){let{errorThrown:i,error:n}=pr;if(pr=null,i)throw n}}else t()}function Dv(t){Rn.useDeprecatedSynchronousErrorHandling&&pr&&(pr.errorThrown=!0,pr.error=t)}var gr=class extends Ye{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,al(e)&&e.add(this)):this.destination=PS}static create(e,i,n){return new ci(e,i,n)}next(e){this.isStopped?Yu(Sv(e),this):this._next(e)}error(e){this.isStopped?Yu(Ev(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Yu(Cv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},TS=Function.prototype.bind;function Zu(t,e){return TS.call(t,e)}var Ku=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:i}=this;if(i.next)try{i.next(e)}catch(n){dl(n)}}error(e){let{partialObserver:i}=this;if(i.error)try{i.error(e)}catch(n){dl(n)}else dl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(i){dl(i)}}},ci=class extends gr{constructor(e,i,n){super();let r;if(Ee(e)||!e)r={next:e??void 0,error:i??void 0,complete:n??void 0};else{let o;this&&Rn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Zu(e.next,o),error:e.error&&Zu(e.error,o),complete:e.complete&&Zu(e.complete,o)}):r=e}this.destination=new Ku(r)}};function dl(t){Rn.useDeprecatedSynchronousErrorHandling?Dv(t):ll(t)}function MS(t){throw t}function Yu(t,e){let{onStoppedNotification:i}=Rn;i&&no.setTimeout(()=>i(t,e))}var PS={closed:!0,next:Cs,error:MS,complete:Cs};var ro=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Wt(t){return t}function $u(...t){return Xu(t)}function Xu(t){return t.length===0?Wt:t.length===1?t[0]:function(i){return t.reduce((n,r)=>r(n),i)}}var Te=(()=>{class t{constructor(i){i&&(this._subscribe=i)}lift(i){let n=new t;return n.source=this,n.operator=i,n}subscribe(i,n,r){let o=kS(i)?i:new ci(i,n,r);return io(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(i){try{return this._subscribe(i)}catch(n){i.error(n)}}forEach(i,n){return n=Iv(n),new n((r,o)=>{let s=new ci({next:a=>{try{i(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(i){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(i)}[ro](){return this}pipe(...i){return Xu(i)(this)}toPromise(i){return i=Iv(i),new i((n,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>n(o))})}}return t.create=e=>new t(e),t})();function Iv(t){var e;return(e=t??Rn.Promise)!==null&&e!==void 0?e:Promise}function FS(t){return t&&Ee(t.next)&&Ee(t.error)&&Ee(t.complete)}function kS(t){return t&&t instanceof gr||FS(t)&&al(t)}function Ju(t){return Ee(t?.lift)}function Fe(t){return e=>{if(Ju(e))return e.lift(function(i){try{return t(i,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Me(t,e,i,n,r){return new eh(t,e,i,n,r)}var eh=class extends gr{constructor(e,i,n,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=i?function(a){try{i(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:i}=this;super.unsubscribe(),!i&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function oo(){return Fe((t,e)=>{let i=null;t._refCount++;let n=Me(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){i=null;return}let r=t._connection,o=i;i=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(i=t.connect())})}var so=class extends Te{constructor(e,i){super(),this.source=e,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,Ju(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ye;let i=this.getSubject();e.add(this.source.subscribe(Me(i,void 0,()=>{this._teardown(),i.complete()},n=>{this._teardown(),i.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ye.EMPTY)}return e}refCount(){return oo()(this)}};var Tv=to(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ze=(()=>{class t extends Te{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){let n=new cl(this,this);return n.operator=i,n}_throwIfClosed(){if(this.closed)throw new Tv}next(i){io(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(i)}})}error(i){io(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;let{observers:n}=this;for(;n.length;)n.shift().error(i)}})}complete(){io(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return((i=this.observers)===null||i===void 0?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){let{hasError:n,isStopped:r,observers:o}=this;return n||r?Qu:(this.currentObservers=null,o.push(i),new Ye(()=>{this.currentObservers=null,fr(o,i)}))}_checkFinalizedStatuses(i){let{hasError:n,thrownError:r,isStopped:o}=this;n?i.error(r):o&&i.complete()}asObservable(){let i=new Te;return i.source=this,i}}return t.create=(e,i)=>new cl(e,i),t})(),cl=class extends ze{constructor(e,i){super(),this.destination=e,this.source=i}next(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.next)===null||n===void 0||n.call(i,e)}error(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.error)===null||n===void 0||n.call(i,e)}complete(){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||i===void 0||i.call(e)}_subscribe(e){var i,n;return(n=(i=this.source)===null||i===void 0?void 0:i.subscribe(e))!==null&&n!==void 0?n:Qu}};var vt=class extends ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let i=super._subscribe(e);return!i.closed&&e.next(this._value),i}getValue(){let{hasError:e,thrownError:i,_value:n}=this;if(e)throw i;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}};var th={now(){return(th.delegate||Date).now()},delegate:void 0};var ul=class extends Ye{constructor(e,i){super()}schedule(e,i=0){return this}};var Es={setInterval(t,e,...i){let{delegate:n}=Es;return n?.setInterval?n.setInterval(t,e,...i):setInterval(t,e,...i)},clearInterval(t){let{delegate:e}=Es;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var hl=class extends ul{constructor(e,i){super(e,i),this.scheduler=e,this.work=i,this.pending=!1}schedule(e,i=0){var n;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,i)),this.pending=!0,this.delay=i,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(o,this.id,i),this}requestAsyncId(e,i,n=0){return Es.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,i,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return i;i!=null&&Es.clearInterval(i)}execute(e,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(e,i);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,i){let n=!1,r;try{this.work(e)}catch(o){n=!0,r=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:i}=this,{actions:n}=i;this.work=this.state=this.scheduler=null,this.pending=!1,fr(n,this),e!=null&&(this.id=this.recycleAsyncId(i,e,null)),this.delay=null,super.unsubscribe()}}};var ao=class t{constructor(e,i=t.now){this.schedulerActionCtor=e,this.now=i}schedule(e,i=0,n){return new this.schedulerActionCtor(this,e).schedule(n,i)}};ao.now=th.now;var fl=class extends ao{constructor(e,i=ao.now){super(e,i),this.actions=[],this._active=!1}flush(e){let{actions:i}=this;if(this._active){i.push(e);return}let n;this._active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=i.shift());if(this._active=!1,n){for(;e=i.shift();)e.unsubscribe();throw n}}};var Ss=new fl(hl),Mv=Ss;var Pt=new Te(t=>t.complete());function pl(t){return t&&Ee(t.schedule)}function nh(t){return t[t.length-1]}function gl(t){return Ee(nh(t))?t.pop():void 0}function Wn(t){return pl(nh(t))?t.pop():void 0}function Pv(t,e){return typeof nh(t)=="number"?t.pop():e}function kv(t,e,i,n){function r(o){return o instanceof i?o:new i(function(s){s(o)})}return new(i||(i=Promise))(function(o,s){function a(u){try{d(n.next(u))}catch(c){s(c)}}function l(u){try{d(n.throw(u))}catch(c){s(c)}}function d(u){u.done?o(u.value):r(u.value).then(a,l)}d((n=n.apply(t,e||[])).next())})}function Fv(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mr(t){return this instanceof mr?(this.v=t,this):new mr(t)}function Rv(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i.apply(t,e||[]),r,o=[];return r={},a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(g){return function(p){return Promise.resolve(p).then(g,c)}}function a(g,p){n[g]&&(r[g]=function(f){return new Promise(function(v,m){o.push([g,f,v,m])>1||l(g,f)})},p&&(r[g]=p(r[g])))}function l(g,p){try{d(n[g](p))}catch(f){h(o[0][3],f)}}function d(g){g.value instanceof mr?Promise.resolve(g.value.v).then(u,c):h(o[0][2],g)}function u(g){l("next",g)}function c(g){l("throw",g)}function h(g,p){g(p),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Lv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof Fv=="function"?Fv(t):t[Symbol.iterator](),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(o){i[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(d){o({value:d,done:a})},s)}}var lo=t=>t&&typeof t.length=="number"&&typeof t!="function";function ml(t){return Ee(t?.then)}function bl(t){return Ee(t[ro])}function vl(t){return Symbol.asyncIterator&&Ee(t?.[Symbol.asyncIterator])}function yl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function RS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Al=RS();function wl(t){return Ee(t?.[Al])}function xl(t){return Rv(this,arguments,function*(){let i=t.getReader();try{for(;;){let{value:n,done:r}=yield mr(i.read());if(r)return yield mr(void 0);yield yield mr(n)}}finally{i.releaseLock()}})}function _l(t){return Ee(t?.getReader)}function $e(t){if(t instanceof Te)return t;if(t!=null){if(bl(t))return LS(t);if(lo(t))return OS(t);if(ml(t))return NS(t);if(vl(t))return Ov(t);if(wl(t))return BS(t);if(_l(t))return VS(t)}throw yl(t)}function LS(t){return new Te(e=>{let i=t[ro]();if(Ee(i.subscribe))return i.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function OS(t){return new Te(e=>{for(let i=0;i<t.length&&!e.closed;i++)e.next(t[i]);e.complete()})}function NS(t){return new Te(e=>{t.then(i=>{e.closed||(e.next(i),e.complete())},i=>e.error(i)).then(null,ll)})}function BS(t){return new Te(e=>{for(let i of t)if(e.next(i),e.closed)return;e.complete()})}function Ov(t){return new Te(e=>{jS(t,e).catch(i=>e.error(i))})}function VS(t){return Ov(xl(t))}function jS(t,e){var i,n,r,o;return kv(this,void 0,void 0,function*(){try{for(i=Lv(t);n=yield i.next(),!n.done;){let s=n.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{n&&!n.done&&(o=i.return)&&(yield o.call(i))}finally{if(r)throw r.error}}e.complete()})}function tn(t,e,i,n=0,r=!1){let o=e.schedule(function(){i(),r?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!r)return o}function Cl(t,e=0){return Fe((i,n)=>{i.subscribe(Me(n,r=>tn(n,t,()=>n.next(r),e),()=>tn(n,t,()=>n.complete(),e),r=>tn(n,t,()=>n.error(r),e)))})}function El(t,e=0){return Fe((i,n)=>{n.add(t.schedule(()=>i.subscribe(n),e))})}function Nv(t,e){return $e(t).pipe(El(e),Cl(e))}function Bv(t,e){return $e(t).pipe(El(e),Cl(e))}function Vv(t,e){return new Te(i=>{let n=0;return e.schedule(function(){n===t.length?i.complete():(i.next(t[n++]),i.closed||this.schedule())})})}function jv(t,e){return new Te(i=>{let n;return tn(i,e,()=>{n=t[Al](),tn(i,e,()=>{let r,o;try{({value:r,done:o}=n.next())}catch(s){i.error(s);return}o?i.complete():i.next(r)},0,!0)}),()=>Ee(n?.return)&&n.return()})}function Sl(t,e){if(!t)throw new Error("Iterable cannot be null");return new Te(i=>{tn(i,e,()=>{let n=t[Symbol.asyncIterator]();tn(i,e,()=>{n.next().then(r=>{r.done?i.complete():i.next(r.value)})},0,!0)})})}function Hv(t,e){return Sl(xl(t),e)}function Uv(t,e){if(t!=null){if(bl(t))return Nv(t,e);if(lo(t))return Vv(t,e);if(ml(t))return Bv(t,e);if(vl(t))return Sl(t,e);if(wl(t))return jv(t,e);if(_l(t))return Hv(t,e)}throw yl(t)}function rt(t,e){return e?Uv(t,e):$e(t)}function Ae(...t){let e=Wn(t);return rt(t,e)}function Li(t,e){let i=Ee(t)?t:()=>t,n=r=>r.error(i());return new Te(e?r=>e.schedule(n,0,r):n)}function Dl(t){return!!t&&(t instanceof Te||Ee(t.lift)&&Ee(t.subscribe))}var ui=to(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function zv(t){return t instanceof Date&&!isNaN(t)}function _e(t,e){return Fe((i,n)=>{let r=0;i.subscribe(Me(n,o=>{n.next(t.call(e,o,r++))}))})}var{isArray:HS}=Array;function US(t,e){return HS(e)?t(...e):t(e)}function co(t){return _e(e=>US(t,e))}var{isArray:zS}=Array,{getPrototypeOf:GS,prototype:WS,keys:QS}=Object;function Il(t){if(t.length===1){let e=t[0];if(zS(e))return{args:e,keys:null};if(qS(e)){let i=QS(e);return{args:i.map(n=>e[n]),keys:i}}}return{args:t,keys:null}}function qS(t){return t&&typeof t=="object"&&GS(t)===WS}function Tl(t,e){return t.reduce((i,n,r)=>(i[n]=e[r],i),{})}function br(...t){let e=Wn(t),i=gl(t),{args:n,keys:r}=Il(t);if(n.length===0)return rt([],e);let o=new Te(ZS(n,e,r?s=>Tl(r,s):Wt));return i?o.pipe(co(i)):o}function ZS(t,e,i=Wt){return n=>{Gv(e,()=>{let{length:r}=t,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)Gv(e,()=>{let d=rt(t[l],e),u=!1;d.subscribe(Me(n,c=>{o[l]=c,u||(u=!0,a--),a||n.next(i(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}function Gv(t,e,i){t?tn(i,t,e):e()}function Wv(t,e,i,n,r,o,s,a){let l=[],d=0,u=0,c=!1,h=()=>{c&&!l.length&&!d&&e.complete()},g=f=>d<n?p(f):l.push(f),p=f=>{o&&e.next(f),d++;let v=!1;$e(i(f,u++)).subscribe(Me(e,m=>{r?.(m),o?g(m):e.next(m)},()=>{v=!0},void 0,()=>{if(v)try{for(d--;l.length&&d<n;){let m=l.shift();s?tn(e,s,()=>p(m)):p(m)}h()}catch(m){e.error(m)}}))};return t.subscribe(Me(e,g,()=>{c=!0,h()})),()=>{a?.()}}function ft(t,e,i=1/0){return Ee(e)?ft((n,r)=>_e((o,s)=>e(n,o,r,s))($e(t(n,r))),i):(typeof e=="number"&&(i=e),Fe((n,r)=>Wv(n,r,t,i)))}function Oi(t=1/0){return ft(Wt,t)}function Qv(){return Oi(1)}function Ni(...t){return Qv()(rt(t,Wn(t)))}function Ml(t){return new Te(e=>{$e(t()).subscribe(e)})}function ih(...t){let e=gl(t),{args:i,keys:n}=Il(t),r=new Te(o=>{let{length:s}=i;if(!s){o.complete();return}let a=new Array(s),l=s,d=s;for(let u=0;u<s;u++){let c=!1;$e(i[u]).subscribe(Me(o,h=>{c||(c=!0,d--),a[u]=h},()=>l--,void 0,()=>{(!l||!c)&&(d||o.next(n?Tl(n,a):a),o.complete())}))}});return e?r.pipe(co(e)):r}var YS=["addListener","removeListener"],KS=["addEventListener","removeEventListener"],$S=["on","off"];function Qn(t,e,i,n){if(Ee(i)&&(n=i,i=void 0),n)return Qn(t,e,i).pipe(co(n));let[r,o]=eD(t)?KS.map(s=>a=>t[s](e,a,i)):XS(t)?YS.map(qv(t,e)):JS(t)?$S.map(qv(t,e)):[];if(!r&&lo(t))return ft(s=>Qn(s,e,i))($e(t));if(!r)throw new TypeError("Invalid event target");return new Te(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function qv(t,e){return i=>n=>t[i](e,n)}function XS(t){return Ee(t.addListener)&&Ee(t.removeListener)}function JS(t){return Ee(t.on)&&Ee(t.off)}function eD(t){return Ee(t.addEventListener)&&Ee(t.removeEventListener)}function Ds(t=0,e,i=Mv){let n=-1;return e!=null&&(pl(e)?i=e:n=e),new Te(r=>{let o=zv(t)?+t-i.now():t;o<0&&(o=0);let s=0;return i.schedule(function(){r.closed||(r.next(s++),0<=n?this.schedule(void 0,n):r.complete())},o)})}function Is(...t){let e=Wn(t),i=Pv(t,1/0),n=t;return n.length?n.length===1?$e(n[0]):Oi(i)(rt(n,e)):Pt}function ot(t,e){return Fe((i,n)=>{let r=0;i.subscribe(Me(n,o=>t.call(e,o,r++)&&n.next(o)))})}function Zv(t){return Fe((e,i)=>{let n=!1,r=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,n){n=!1;let d=r;r=null,i.next(d)}s&&i.complete()},l=()=>{o=null,s&&i.complete()};e.subscribe(Me(i,d=>{n=!0,r=d,o||$e(t(d)).subscribe(o=Me(i,a,l))},()=>{s=!0,(!n||!o||o.closed)&&i.complete()}))})}function Pl(t,e=Ss){return Zv(()=>Ds(t,e))}function qn(t){return Fe((e,i)=>{let n=null,r=!1,o;n=e.subscribe(Me(i,void 0,void 0,s=>{o=$e(t(s,qn(t)(e))),n?(n.unsubscribe(),n=null,o.subscribe(i)):r=!0})),r&&(n.unsubscribe(),n=null,o.subscribe(i))})}function Yv(t,e,i,n,r){return(o,s)=>{let a=i,l=e,d=0;o.subscribe(Me(s,u=>{let c=d++;l=a?t(l,u,c):(a=!0,u),n&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function hi(t,e){return Ee(e)?ft(t,e,1):ft(t,1)}function vr(t,e=Ss){return Fe((i,n)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let d=o;o=null,n.next(d)}};function l(){let d=s+t,u=e.now();if(u<d){r=this.schedule(void 0,d-u),n.add(r);return}a()}i.subscribe(Me(n,d=>{o=d,s=e.now(),r||(r=e.schedule(l,t),n.add(r))},()=>{a(),n.complete()},void 0,()=>{o=r=null}))})}function Bi(t){return Fe((e,i)=>{let n=!1;e.subscribe(Me(i,r=>{n=!0,i.next(r)},()=>{n||i.next(t),i.complete()}))})}function Nt(t){return t<=0?()=>Pt:Fe((e,i)=>{let n=0;e.subscribe(Me(i,r=>{++n<=t&&(i.next(r),t<=n&&i.complete())}))})}function rh(t){return _e(()=>t)}function uo(t,e=Wt){return t=t??tD,Fe((i,n)=>{let r,o=!0;i.subscribe(Me(n,s=>{let a=e(s);(o||!t(r,a))&&(o=!1,r=a,n.next(s))}))})}function tD(t,e){return t===e}function Fl(t=nD){return Fe((e,i)=>{let n=!1;e.subscribe(Me(i,r=>{n=!0,i.next(r)},()=>n?i.complete():i.error(t())))})}function nD(){return new ui}function Vi(t){return Fe((e,i)=>{try{e.subscribe(i)}finally{i.add(t)}})}function Zn(t,e){let i=arguments.length>=2;return n=>n.pipe(t?ot((r,o)=>t(r,o,n)):Wt,Nt(1),i?Bi(e):Fl(()=>new ui))}function ho(t){return t<=0?()=>Pt:Fe((e,i)=>{let n=[];e.subscribe(Me(i,r=>{n.push(r),t<n.length&&n.shift()},()=>{for(let r of n)i.next(r);i.complete()},void 0,()=>{n=null}))})}function oh(t,e){let i=arguments.length>=2;return n=>n.pipe(t?ot((r,o)=>t(r,o,n)):Wt,ho(1),i?Bi(e):Fl(()=>new ui))}function sh(t,e){return Fe(Yv(t,e,arguments.length>=2,!0))}function lh(t={}){let{connector:e=()=>new ze,resetOnError:i=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=t;return o=>{let s,a,l,d=0,u=!1,c=!1,h=()=>{a?.unsubscribe(),a=void 0},g=()=>{h(),s=l=void 0,u=c=!1},p=()=>{let f=s;g(),f?.unsubscribe()};return Fe((f,v)=>{d++,!c&&!u&&h();let m=l=l??e();v.add(()=>{d--,d===0&&!c&&!u&&(a=ah(p,r))}),m.subscribe(v),!s&&d>0&&(s=new ci({next:x=>m.next(x),error:x=>{c=!0,h(),a=ah(g,i,x),m.error(x)},complete:()=>{u=!0,h(),a=ah(g,n),m.complete()}}),$e(f).subscribe(s))})(o)}}function ah(t,e,...i){if(e===!0){t();return}if(e===!1)return;let n=new ci({next:()=>{n.unsubscribe(),t()}});return $e(e(...i)).subscribe(n)}function yr(t){return ot((e,i)=>t<=i)}function Yn(...t){let e=Wn(t);return Fe((i,n)=>{(e?Ni(t,i,e):Ni(t,i)).subscribe(n)})}function Bt(t,e){return Fe((i,n)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&n.complete();i.subscribe(Me(n,l=>{r?.unsubscribe();let d=0,u=o++;$e(t(l,u)).subscribe(r=Me(n,c=>n.next(e?e(l,c,u,d++):c),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Qt(t){return Fe((e,i)=>{$e(t).subscribe(Me(i,()=>i.complete(),Cs)),!i.closed&&e.subscribe(i)})}function st(t,e,i){let n=Ee(t)||e||i?{next:t,error:e,complete:i}:t;return n?Fe((r,o)=>{var s;(s=n.subscribe)===null||s===void 0||s.call(n);let a=!0;r.subscribe(Me(o,l=>{var d;(d=n.next)===null||d===void 0||d.call(n,l),o.next(l)},()=>{var l;a=!1,(l=n.complete)===null||l===void 0||l.call(n),o.complete()},l=>{var d;a=!1,(d=n.error)===null||d===void 0||d.call(n,l),o.error(l)},()=>{var l,d;a&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(d=n.finalize)===null||d===void 0||d.call(n)}))}):Wt}var O0="https://g.co/ng/security#xss",ce=class extends Error{constructor(e,i){super(Tf(e,i)),this.code=e}};function Tf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function zs(t){return{toString:t}.toString()}var kl="__parameters__";function iD(t){return function(...i){if(t){let n=t(...i);for(let r in n)this[r]=n[r]}}}function N0(t,e,i){return zs(()=>{let n=iD(e);function r(...o){if(this instanceof r)return n.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,d,u){let c=l.hasOwnProperty(kl)?l[kl]:Object.defineProperty(l,kl,{value:[]})[kl];for(;c.length<=u;)c.push(null);return(c[u]=c[u]||[]).push(s),l}}return i&&(r.prototype=Object.create(i.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Ft=globalThis;function Je(t){for(let e in t)if(t[e]===Je)return e;throw Error("Could not find renamed property on target object.")}function rD(t,e){for(let i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i])}function Zt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Zt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let i=e.indexOf(`
`);return i===-1?e:e.substring(0,i)}function _h(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var oD=Je({__forward_ref__:Je});function Gs(t){return t.__forward_ref__=Gs,t.toString=function(){return Zt(this())},t}function qt(t){return B0(t)?t():t}function B0(t){return typeof t=="function"&&t.hasOwnProperty(oD)&&t.__forward_ref__===Gs}function fe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ke(t){return{providers:t.providers||[],imports:t.imports||[]}}function fd(t){return Kv(t,j0)||Kv(t,H0)}function V0(t){return fd(t)!==null}function Kv(t,e){return t.hasOwnProperty(e)?t[e]:null}function sD(t){let e=t&&(t[j0]||t[H0]);return e||null}function $v(t){return t&&(t.hasOwnProperty(Xv)||t.hasOwnProperty(aD))?t[Xv]:null}var j0=Je({\u0275prov:Je}),Xv=Je({\u0275inj:Je}),H0=Je({ngInjectableDef:Je}),aD=Je({ngInjectorDef:Je}),ve=class{constructor(e,i){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof i=="number"?this.__NG_ELEMENT_ID__=i:i!==void 0&&(this.\u0275prov=fe({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function U0(t){return t&&!!t.\u0275providers}var lD=Je({\u0275cmp:Je}),dD=Je({\u0275dir:Je}),cD=Je({\u0275pipe:Je}),uD=Je({\u0275mod:Je}),ql=Je({\u0275fac:Je}),Ts=Je({__NG_ELEMENT_ID__:Je}),Jv=Je({__NG_ENV_ID__:Je});function Ws(t){return typeof t=="string"?t:t==null?"":String(t)}function hD(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ws(t)}function fD(t,e){let i=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ce(-200,t)}function Mf(t,e){throw new ce(-201,!1)}var He=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(He||{}),Ch;function z0(){return Ch}function En(t){let e=Ch;return Ch=t,e}function G0(t,e,i){let n=fd(t);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(i&He.Optional)return null;if(e!==void 0)return e;Mf(t,"Injector")}var pD={},Ps=pD,Eh="__NG_DI_FLAG__",Zl="ngTempTokenPath",gD="ngTokenPath",mD=/\n/gm,bD="\u0275",e0="__source",bo;function vD(){return bo}function ji(t){let e=bo;return bo=t,e}function yD(t,e=He.Default){if(bo===void 0)throw new ce(-203,!1);return bo===null?G0(t,void 0,e):bo.get(t,e&He.Optional?null:void 0,e)}function se(t,e=He.Default){return(z0()||yD)(qt(t),e)}function oe(t,e=He.Default){return se(t,pd(e))}function pd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Sh(t){let e=[];for(let i=0;i<t.length;i++){let n=qt(t[i]);if(Array.isArray(n)){if(n.length===0)throw new ce(900,!1);let r,o=He.Default;for(let s=0;s<n.length;s++){let a=n[s],l=AD(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}e.push(se(r,o))}else e.push(se(n))}return e}function W0(t,e){return t[Eh]=e,t.prototype[Eh]=e,t}function AD(t){return t[Eh]}function wD(t,e,i,n){let r=t[Zl];throw e[e0]&&r.unshift(e[e0]),t.message=xD(`
`+t.message,r,i,n),t[gD]=r,t[Zl]=null,t}function xD(t,e,i,n=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==bD?t.slice(2):t;let r=Zt(e);if(Array.isArray(e))r=e.map(Zt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Zt(a)))}r=`{${o.join(", ")}}`}return`${i}${n?"("+n+")":""}[${r}]: ${t.replace(mD,`
  `)}`}var gd=W0(N0("Optional"),8);var Pf=W0(N0("SkipSelf"),4);function Ao(t,e){let i=t.hasOwnProperty(ql);return i?t[ql]:null}function _D(t,e,i){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],o=e[n];if(i&&(r=i(r),o=i(o)),o!==r)return!1}return!0}function CD(t){return t.flat(Number.POSITIVE_INFINITY)}function Ff(t,e){t.forEach(i=>Array.isArray(i)?Ff(i,e):e(i))}function Q0(t,e,i){e>=t.length?t.push(i):t.splice(e,0,i)}function Yl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ED(t,e){let i=[];for(let n=0;n<t;n++)i.push(e);return i}function SD(t,e,i,n){let r=t.length;if(r==e)t.push(i,n);else if(r===1)t.push(n,t[0]),t[0]=i;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=i,t[e+1]=n}}function kf(t,e,i){let n=Qs(t,e);return n>=0?t[n|1]=i:(n=~n,SD(t,n,e,i)),n}function dh(t,e){let i=Qs(t,e);if(i>=0)return t[i|1]}function Qs(t,e){return DD(t,e,1)}function DD(t,e,i){let n=0,r=t.length>>i;for(;r!==n;){let o=n+(r-n>>1),s=t[o<<i];if(e===s)return o<<i;s>e?r=o:n=o+1}return~(r<<i)}var wo={},nn=[],xo=new ve(""),q0=new ve("",-1),Z0=new ve(""),Kl=class{get(e,i=Ps){if(i===Ps){let n=new Error(`NullInjectorError: No provider for ${Zt(e)}!`);throw n.name="NullInjectorError",n}return i}},Y0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Y0||{}),Xn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Xn||{}),Se=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Se||{});function ID(t,e,i){let n=t.length;for(;;){let r=t.indexOf(e,i);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===n||t.charCodeAt(r+o)<=32)return r}i=r+1}}function Dh(t,e,i){let n=0;for(;n<i.length;){let r=i[n];if(typeof r=="number"){if(r!==0)break;n++;let o=i[n++],s=i[n++],a=i[n++];t.setAttribute(e,s,a,o)}else{let o=r,s=i[++n];TD(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),n++}}return n}function K0(t){return t===3||t===4||t===6}function TD(t){return t.charCodeAt(0)===64}function Fs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let i=-1;for(let n=0;n<e.length;n++){let r=e[n];typeof r=="number"?i=r:i===0||(i===-1||i===2?t0(t,i,r,null,e[++n]):t0(t,i,r,null,null))}}return t}function t0(t,e,i,n,r){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===i){if(n===null){r!==null&&(t[o+1]=r);return}else if(n===t[o+1]){t[o+2]=r;return}}o++,n!==null&&o++,r!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,i),n!==null&&t.splice(o++,0,n),r!==null&&t.splice(o++,0,r)}var $0="ng-template";function MD(t,e,i,n){let r=0;if(n){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&ID(e[r+1].toLowerCase(),i,0)!==-1)return!0}else if(Rf(t))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===i)return!0}return!1}function Rf(t){return t.type===4&&t.value!==$0}function PD(t,e,i){let n=t.type===4&&!i?$0:t.value;return e===n}function FD(t,e,i){let n=4,r=t.attrs,o=r!==null?LD(r):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Ln(n)&&!Ln(l))return!1;if(s&&Ln(l))continue;s=!1,n=l|n&1;continue}if(!s)if(n&4){if(n=2|n&1,l!==""&&!PD(t,l,i)||l===""&&e.length===1){if(Ln(n))return!1;s=!0}}else if(n&8){if(r===null||!MD(t,r,l,i)){if(Ln(n))return!1;s=!0}}else{let d=e[++a],u=kD(l,r,Rf(t),i);if(u===-1){if(Ln(n))return!1;s=!0;continue}if(d!==""){let c;if(u>o?c="":c=r[u+1].toLowerCase(),n&2&&d!==c){if(Ln(n))return!1;s=!0}}}}return Ln(n)||s}function Ln(t){return(t&1)===0}function kD(t,e,i,n){if(e===null)return-1;let r=0;if(n||!i){let o=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return OD(e,t)}function X0(t,e,i=!1){for(let n=0;n<e.length;n++)if(FD(t,e[n],i))return!0;return!1}function RD(t){let e=t.attrs;if(e!=null){let i=e.indexOf(5);if(!(i&1))return e[i+1]}return null}function LD(t){for(let e=0;e<t.length;e++){let i=t[e];if(K0(i))return e}return t.length}function OD(t,e){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){let n=t[i];if(typeof n=="number")return-1;if(n===e)return i;i++}return-1}function ND(t,e){e:for(let i=0;i<e.length;i++){let n=e[i];if(t.length===n.length){for(let r=0;r<t.length;r++)if(t[r]!==n[r])continue e;return!0}}return!1}function n0(t,e){return t?":not("+e.trim()+")":e}function BD(t){let e=t[0],i=1,n=2,r="",o=!1;for(;i<t.length;){let s=t[i];if(typeof s=="string")if(n&2){let a=t[++i];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else n&8?r+="."+s:n&4&&(r+=" "+s);else r!==""&&!Ln(s)&&(e+=n0(o,r),r=""),n=s,o=o||!Ln(n);i++}return r!==""&&(e+=n0(o,r)),e}function VD(t){return t.map(BD).join(",")}function jD(t){let e=[],i=[],n=1,r=2;for(;n<t.length;){let o=t[n];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++n]):r===8&&i.push(o);else{if(!Ln(r))break;r=o}n++}return{attrs:e,classes:i}}function lt(t){return zs(()=>{let e=iy(t),i=Ze(le({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Y0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Xn.Emulated,styles:t.styles||nn,_:null,schemas:t.schemas||null,tView:null,id:""});ry(i);let n=t.dependencies;return i.directiveDefs=r0(n,!1),i.pipeDefs=r0(n,!0),i.id=zD(i),i})}function HD(t){return Ui(t)||J0(t)}function UD(t){return t!==null}function Re(t){return zs(()=>({type:t.type,bootstrap:t.bootstrap||nn,declarations:t.declarations||nn,imports:t.imports||nn,exports:t.exports||nn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function i0(t,e){if(t==null)return wo;let i={};for(let n in t)if(t.hasOwnProperty(n)){let r=t[n],o,s,a=Se.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(i[o]=a!==Se.None?[n,a]:n,e[o]=s):i[o]=n}return i}function Xe(t){return zs(()=>{let e=iy(t);return ry(e),e})}function Ui(t){return t[lD]||null}function J0(t){return t[dD]||null}function ey(t){return t[cD]||null}function ty(t){let e=Ui(t)||J0(t)||ey(t);return e!==null?e.standalone:!1}function ny(t,e){let i=t[uD]||null;if(!i&&e===!0)throw new Error(`Type ${Zt(t)} does not have '\u0275mod' property.`);return i}function iy(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||wo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||nn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:i0(t.inputs,e),outputs:i0(t.outputs),debugInfo:null}}function ry(t){t.features?.forEach(e=>e(t))}function r0(t,e){if(!t)return null;let i=e?ey:HD;return()=>(typeof t=="function"?t():t).map(n=>i(n)).filter(UD)}function zD(t){let e=0,i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of i)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function GD(...t){return{\u0275providers:oy(!0,t),\u0275fromNgModule:!0}}function oy(t,...e){let i=[],n=new Set,r,o=s=>{i.push(s)};return Ff(e,s=>{let a=s;Ih(a,o,[],n)&&(r||=[],r.push(a))}),r!==void 0&&sy(r,o),i}function sy(t,e){for(let i=0;i<t.length;i++){let{ngModule:n,providers:r}=t[i];Lf(r,o=>{e(o,n)})}}function Ih(t,e,i,n){if(t=qt(t),!t)return!1;let r=null,o=$v(t),s=!o&&Ui(t);if(!o&&!s){let l=t.ngModule;if(o=$v(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=n.has(r);if(s){if(a)return!1;if(n.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of l)Ih(d,e,i,n)}}else if(o){if(o.imports!=null&&!a){n.add(r);let d;try{Ff(o.imports,u=>{Ih(u,e,i,n)&&(d||=[],d.push(u))})}finally{}d!==void 0&&sy(d,e)}if(!a){let d=Ao(r)||(()=>new r);e({provide:r,useFactory:d,deps:nn},r),e({provide:Z0,useValue:r,multi:!0},r),e({provide:xo,useValue:()=>se(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let d=t;Lf(l,u=>{e(u,d)})}}else return!1;return r!==t&&t.providers!==void 0}function Lf(t,e){for(let i of t)U0(i)&&(i=i.\u0275providers),Array.isArray(i)?Lf(i,e):e(i)}var WD=Je({provide:String,useValue:Je});function ay(t){return t!==null&&typeof t=="object"&&WD in t}function QD(t){return!!(t&&t.useExisting)}function qD(t){return!!(t&&t.useFactory)}function _o(t){return typeof t=="function"}function ZD(t){return!!t.useClass}var md=new ve(""),jl={},YD={},ch;function Of(){return ch===void 0&&(ch=new Kl),ch}var Yt=class{},ks=class extends Yt{get destroyed(){return this._destroyed}constructor(e,i,n,r){super(),this.parent=i,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mh(e,s=>this.processProvider(s)),this.records.set(q0,fo(void 0,this)),r.has("environment")&&this.records.set(Yt,fo(void 0,this));let o=this.records.get(md);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Z0,nn,He.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ge(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let i=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of i)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ge(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let i=ji(this),n=En(void 0),r;try{return e()}finally{ji(i),En(n)}}get(e,i=Ps,n=He.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Jv))return e[Jv](this);n=pd(n);let r,o=ji(this),s=En(void 0);try{if(!(n&He.SkipSelf)){let l=this.records.get(e);if(l===void 0){let d=eI(e)&&fd(e);d&&this.injectableDefInScope(d)?l=fo(Th(e),jl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=n&He.Self?Of():this.parent;return i=n&He.Optional&&i===Ps?null:i,a.get(e,i)}catch(a){if(a.name==="NullInjectorError"){if((a[Zl]=a[Zl]||[]).unshift(Zt(e)),o)throw a;return wD(a,e,"R3InjectorError",this.source)}else throw a}finally{En(s),ji(o)}}resolveInjectorInitializers(){let e=Ge(null),i=ji(this),n=En(void 0),r;try{let o=this.get(xo,nn,He.Self);for(let s of o)s()}finally{ji(i),En(n),Ge(e)}}toString(){let e=[],i=this.records;for(let n of i.keys())e.push(Zt(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ce(205,!1)}processProvider(e){e=qt(e);let i=_o(e)?e:qt(e&&e.provide),n=$D(e);if(!_o(e)&&e.multi===!0){let r=this.records.get(i);r||(r=fo(void 0,jl,!0),r.factory=()=>Sh(r.multi),this.records.set(i,r)),i=e,r.multi.push(e)}this.records.set(i,n)}hydrate(e,i){let n=Ge(null);try{return i.value===jl&&(i.value=YD,i.value=i.factory()),typeof i.value=="object"&&i.value&&JD(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{Ge(n)}}injectableDefInScope(e){if(!e.providedIn)return!1;let i=qt(e.providedIn);return typeof i=="string"?i==="any"||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(e){let i=this._onDestroyHooks.indexOf(e);i!==-1&&this._onDestroyHooks.splice(i,1)}};function Th(t){let e=fd(t),i=e!==null?e.factory:Ao(t);if(i!==null)return i;if(t instanceof ve)throw new ce(204,!1);if(t instanceof Function)return KD(t);throw new ce(204,!1)}function KD(t){if(t.length>0)throw new ce(204,!1);let i=sD(t);return i!==null?()=>i.factory(t):()=>new t}function $D(t){if(ay(t))return fo(void 0,t.useValue);{let e=ly(t);return fo(e,jl)}}function ly(t,e,i){let n;if(_o(t)){let r=qt(t);return Ao(r)||Th(r)}else if(ay(t))n=()=>qt(t.useValue);else if(qD(t))n=()=>t.useFactory(...Sh(t.deps||[]));else if(QD(t))n=()=>se(qt(t.useExisting));else{let r=qt(t&&(t.useClass||t.provide));if(XD(t))n=()=>new r(...Sh(t.deps));else return Ao(r)||Th(r)}return n}function fo(t,e,i=!1){return{factory:t,value:e,multi:i?[]:void 0}}function XD(t){return!!t.deps}function JD(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function eI(t){return typeof t=="function"||typeof t=="object"&&t instanceof ve}function Mh(t,e){for(let i of t)Array.isArray(i)?Mh(i,e):i&&U0(i)?Mh(i.\u0275providers,e):e(i)}function bi(t,e){t instanceof ks&&t.assertNotDestroyed();let i,n=ji(t),r=En(void 0);try{return e()}finally{ji(n),En(r)}}function dy(){return z0()!==void 0||vD()!=null}function cy(t){if(!dy())throw new ce(-203,!1)}function tI(t){let e=Ft.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function nI(t){return typeof t=="function"}var vi=0,Pe=1,De=2,kt=3,Nn=4,fn=5,Co=6,Rs=7,Vt=8,Eo=9,Bn=10,wt=11,Ls=12,o0=13,Po=14,Sn=15,qs=16,po=17,fi=18,bd=19,uy=20,Hi=21,Hl=22,wr=23,rn=25,hy=1;var xr=7,$l=8,So=9,jt=10,Nf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Nf||{});function vo(t){return Array.isArray(t)&&typeof t[hy]=="object"}function yi(t){return Array.isArray(t)&&t[hy]===!0}function Bf(t){return(t.flags&4)!==0}function vd(t){return t.componentOffset>-1}function yd(t){return(t.flags&1)===1}function zi(t){return!!t.template}function iI(t){return(t[De]&512)!==0}var Ph=class{constructor(e,i,n){this.previousValue=e,this.currentValue=i,this.firstChange=n}isFirstChange(){return this.firstChange}};function fy(t,e,i,n){e!==null?e.applyValueToInputSignal(e,n):t[i]=n}function pn(){return py}function py(t){return t.type.prototype.ngOnChanges&&(t.setInput=oI),rI}pn.ngInherit=!0;function rI(){let t=my(this),e=t?.current;if(e){let i=t.previous;if(i===wo)t.previous=e;else for(let n in e)i[n]=e[n];t.current=null,this.ngOnChanges(e)}}function oI(t,e,i,n,r){let o=this.declaredInputs[n],s=my(t)||sI(t,{previous:wo,current:null}),a=s.current||(s.current={}),l=s.previous,d=l[o];a[o]=new Ph(d&&d.currentValue,i,l===wo),fy(t,e,r,i)}var gy="__ngSimpleChanges__";function my(t){return t[gy]||null}function sI(t,e){return t[gy]=e}var s0=null;var Kn=function(t,e,i){s0?.(t,e,i)},aI="svg",lI="math",dI=!1;function cI(){return dI}function Jn(t){for(;Array.isArray(t);)t=t[vi];return t}function by(t,e){return Jn(e[t])}function Dn(t,e){return Jn(e[t.index])}function Vf(t,e){return t.data[e]}function uI(t,e){return t[e]}function Ir(t,e){let i=e[t];return vo(i)?i:i[vi]}function hI(t){return(t[De]&4)===4}function jf(t){return(t[De]&128)===128}function fI(t){return yi(t[kt])}function Do(t,e){return e==null?null:t[e]}function vy(t){t[po]=0}function pI(t){t[De]&1024||(t[De]|=1024,jf(t)&&Os(t))}function gI(t,e){for(;t>0;)e=e[Po],t--;return e}function Hf(t){return!!(t[De]&9216||t[wr]?.dirty)}function Fh(t){t[Bn].changeDetectionScheduler?.notify(1),Hf(t)?Os(t):t[De]&64&&(cI()?(t[De]|=1024,Os(t)):t[Bn].changeDetectionScheduler?.notify())}function Os(t){t[Bn].changeDetectionScheduler?.notify();let e=Ns(t);for(;e!==null&&!(e[De]&8192||(e[De]|=8192,!jf(e)));)e=Ns(e)}function yy(t,e){if((t[De]&256)===256)throw new ce(911,!1);t[Hi]===null&&(t[Hi]=[]),t[Hi].push(e)}function mI(t,e){if(t[Hi]===null)return;let i=t[Hi].indexOf(e);i!==-1&&t[Hi].splice(i,1)}function Ns(t){let e=t[kt];return yi(e)?e[kt]:e}var Ve={lFrame:Iy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function bI(){return Ve.lFrame.elementDepthCount}function vI(){Ve.lFrame.elementDepthCount++}function yI(){Ve.lFrame.elementDepthCount--}function Ay(){return Ve.bindingsEnabled}function wy(){return Ve.skipHydrationRootTNode!==null}function AI(t){return Ve.skipHydrationRootTNode===t}function wI(){Ve.skipHydrationRootTNode=null}function We(){return Ve.lFrame.lView}function Et(){return Ve.lFrame.tView}function pt(t){return Ve.lFrame.contextLView=t,t[Vt]}function gt(t){return Ve.lFrame.contextLView=null,t}function on(){let t=xy();for(;t!==null&&t.type===64;)t=t.parent;return t}function xy(){return Ve.lFrame.currentTNode}function xI(){let t=Ve.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Tr(t,e){let i=Ve.lFrame;i.currentTNode=t,i.isParent=e}function Uf(){return Ve.lFrame.isParent}function zf(){Ve.lFrame.isParent=!1}function _I(){return Ve.lFrame.contextLView}function _y(){let t=Ve.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function CI(t){return Ve.lFrame.bindingIndex=t}function Zs(){return Ve.lFrame.bindingIndex++}function Cy(t){let e=Ve.lFrame,i=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,i}function EI(){return Ve.lFrame.inI18n}function SI(t,e){let i=Ve.lFrame;i.bindingIndex=i.bindingRootIndex=t,kh(e)}function DI(){return Ve.lFrame.currentDirectiveIndex}function kh(t){Ve.lFrame.currentDirectiveIndex=t}function II(t){let e=Ve.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Ey(){return Ve.lFrame.currentQueryIndex}function Gf(t){Ve.lFrame.currentQueryIndex=t}function TI(t){let e=t[Pe];return e.type===2?e.declTNode:e.type===1?t[fn]:null}function Sy(t,e,i){if(i&He.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(i&He.Host);)if(r=TI(o),r===null||(o=o[Po],r.type&10))break;if(r===null)return!1;e=r,t=o}let n=Ve.lFrame=Dy();return n.currentTNode=e,n.lView=t,!0}function Wf(t){let e=Dy(),i=t[Pe];Ve.lFrame=e,e.currentTNode=i.firstChild,e.lView=t,e.tView=i,e.contextLView=t,e.bindingIndex=i.bindingStartIndex,e.inI18n=!1}function Dy(){let t=Ve.lFrame,e=t===null?null:t.child;return e===null?Iy(t):e}function Iy(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Ty(){let t=Ve.lFrame;return Ve.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var My=Ty;function Qf(){let t=Ty();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function MI(t){return(Ve.lFrame.contextLView=gI(t,Ve.lFrame.contextLView))[Vt]}function qi(){return Ve.lFrame.selectedIndex}function _r(t){Ve.lFrame.selectedIndex=t}function Py(){let t=Ve.lFrame;return Vf(t.tView,t.selectedIndex)}function PI(){return Ve.lFrame.currentNamespace}var Fy=!0;function Ad(){return Fy}function wd(t){Fy=t}function FI(t,e,i){let{ngOnChanges:n,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(n){let s=py(e);(i.preOrderHooks??=[]).push(t,s),(i.preOrderCheckHooks??=[]).push(t,s)}r&&(i.preOrderHooks??=[]).push(0-t,r),o&&((i.preOrderHooks??=[]).push(t,o),(i.preOrderCheckHooks??=[]).push(t,o))}function xd(t,e){for(let i=e.directiveStart,n=e.directiveEnd;i<n;i++){let o=t.data[i].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-i,s),a&&((t.contentHooks??=[]).push(i,a),(t.contentCheckHooks??=[]).push(i,a)),l&&(t.viewHooks??=[]).push(-i,l),d&&((t.viewHooks??=[]).push(i,d),(t.viewCheckHooks??=[]).push(i,d)),u!=null&&(t.destroyHooks??=[]).push(i,u)}}function Ul(t,e,i){ky(t,e,3,i)}function zl(t,e,i,n){(t[De]&3)===i&&ky(t,e,i,n)}function uh(t,e){let i=t[De];(i&3)===e&&(i&=16383,i+=1,t[De]=i)}function ky(t,e,i,n){let r=n!==void 0?t[po]&65535:0,o=n??-1,s=e.length-1,a=0;for(let l=r;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],n!=null&&a>=n)break}else e[l]<0&&(t[po]+=65536),(a<o||o==-1)&&(kI(t,i,e,l),t[po]=(t[po]&4294901760)+l+2),l++}function a0(t,e){Kn(4,t,e);let i=Ge(null);try{e.call(t)}finally{Ge(i),Kn(5,t,e)}}function kI(t,e,i,n){let r=i[n]<0,o=i[n+1],s=r?-i[n]:i[n],a=t[s];r?t[De]>>14<t[po]>>16&&(t[De]&3)===e&&(t[De]+=16384,a0(a,o)):a0(a,o)}var yo=-1,Cr=class{constructor(e,i,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=n}};function RI(t){return t instanceof Cr}function LI(t){return(t.flags&8)!==0}function OI(t){return(t.flags&16)!==0}function Ry(t){return t!==yo}function Xl(t){return t&32767}function NI(t){return t>>16}function Jl(t,e){let i=NI(t),n=e;for(;i>0;)n=n[Po],i--;return n}var Rh=!0;function l0(t){let e=Rh;return Rh=t,e}var BI=256,Ly=BI-1,Oy=5,VI=0,$n={};function jI(t,e,i){let n;typeof i=="string"?n=i.charCodeAt(0)||0:i.hasOwnProperty(Ts)&&(n=i[Ts]),n==null&&(n=i[Ts]=VI++);let r=n&Ly,o=1<<r;e.data[t+(r>>Oy)]|=o}function ed(t,e){let i=Ny(t,e);if(i!==-1)return i;let n=e[Pe];n.firstCreatePass&&(t.injectorIndex=e.length,hh(n.data,t),hh(e,null),hh(n.blueprint,null));let r=qf(t,e),o=t.injectorIndex;if(Ry(r)){let s=Xl(r),a=Jl(r,e),l=a[Pe].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|l[s+d]}return e[o+8]=r,o}function hh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ny(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function qf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let i=0,n=null,r=e;for(;r!==null;){if(n=Uy(r),n===null)return yo;if(i++,r=r[Po],n.injectorIndex!==-1)return n.injectorIndex|i<<16}return yo}function Lh(t,e,i){jI(t,e,i)}function HI(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let i=t.attrs;if(i){let n=i.length,r=0;for(;r<n;){let o=i[r];if(K0(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<n&&typeof i[r]=="string";)r++;else{if(o===e)return i[r+1];r=r+2}}}return null}function By(t,e,i){if(i&He.Optional||t!==void 0)return t;Mf(e,"NodeInjector")}function Vy(t,e,i,n){if(i&He.Optional&&n===void 0&&(n=null),!(i&(He.Self|He.Host))){let r=t[Eo],o=En(void 0);try{return r?r.get(e,n,i&He.Optional):G0(e,n,i&He.Optional)}finally{En(o)}}return By(n,e,i)}function jy(t,e,i,n=He.Default,r){if(t!==null){if(e[De]&2048&&!(n&He.Self)){let s=WI(t,e,i,n,$n);if(s!==$n)return s}let o=Hy(t,e,i,n,$n);if(o!==$n)return o}return Vy(e,i,n,r)}function Hy(t,e,i,n,r){let o=zI(i);if(typeof o=="function"){if(!Sy(e,t,n))return n&He.Host?By(r,i,n):Vy(e,i,n,r);try{let s;if(s=o(n),s==null&&!(n&He.Optional))Mf(i);else return s}finally{My()}}else if(typeof o=="number"){let s=null,a=Ny(t,e),l=yo,d=n&He.Host?e[Sn][fn]:null;for((a===-1||n&He.SkipSelf)&&(l=a===-1?qf(t,e):e[a+8],l===yo||!c0(n,!1)?a=-1:(s=e[Pe],a=Xl(l),e=Jl(l,e)));a!==-1;){let u=e[Pe];if(d0(o,a,u.data)){let c=UI(a,e,i,s,n,d);if(c!==$n)return c}l=e[a+8],l!==yo&&c0(n,e[Pe].data[a+8]===d)&&d0(o,a,e)?(s=u,a=Xl(l),e=Jl(l,e)):a=-1}}return r}function UI(t,e,i,n,r,o){let s=e[Pe],a=s.data[t+8],l=n==null?vd(a)&&Rh:n!=s&&(a.type&3)!==0,d=r&He.Host&&o===a,u=Gl(a,s,i,l,d);return u!==null?Er(e,s,u,a):$n}function Gl(t,e,i,n,r){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,d=t.directiveEnd,u=o>>20,c=n?a:a+u,h=r?a+u:d;for(let g=c;g<h;g++){let p=s[g];if(g<l&&i===p||g>=l&&p.type===i)return g}if(r){let g=s[l];if(g&&zi(g)&&g.type===i)return l}return null}function Er(t,e,i,n){let r=t[i],o=e.data;if(RI(r)){let s=r;s.resolving&&fD(hD(o[i]));let a=l0(s.canSeeViewProviders);s.resolving=!0;let l,d=s.injectImpl?En(s.injectImpl):null,u=Sy(t,n,He.Default);try{r=t[i]=s.factory(void 0,o,t,n),e.firstCreatePass&&i>=n.directiveStart&&FI(i,o[i],e)}finally{d!==null&&En(d),l0(a),s.resolving=!1,My()}}return r}function zI(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ts)?t[Ts]:void 0;return typeof e=="number"?e>=0?e&Ly:GI:e}function d0(t,e,i){let n=1<<t;return!!(i[e+(t>>Oy)]&n)}function c0(t,e){return!(t&He.Self)&&!(t&He.Host&&e)}var Ar=class{constructor(e,i){this._tNode=e,this._lView=i}get(e,i,n){return jy(this._tNode,this._lView,e,pd(n),i)}};function GI(){return new Ar(on(),We())}function Ys(t){return zs(()=>{let e=t.prototype.constructor,i=e[ql]||Oh(e),n=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==n;){let o=r[ql]||Oh(r);if(o&&o!==i)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Oh(t){return B0(t)?()=>{let e=Oh(qt(t));return e&&e()}:Ao(t)}function WI(t,e,i,n,r){let o=t,s=e;for(;o!==null&&s!==null&&s[De]&2048&&!(s[De]&512);){let a=Hy(o,s,i,n|He.Self,$n);if(a!==$n)return a;let l=o.parent;if(!l){let d=s[uy];if(d){let u=d.get(i,$n,n);if(u!==$n)return u}l=Uy(s),s=s[Po]}o=l}return r}function Uy(t){let e=t[Pe],i=e.type;return i===2?e.declTNode:i===1?t[fn]:null}function Ks(t){return HI(on(),t)}function u0(t,e=null,i=null,n){let r=zy(t,e,i,n);return r.resolveInjectorInitializers(),r}function zy(t,e=null,i=null,n,r=new Set){let o=[i||nn,GD(t)];return n=n||(typeof t=="object"?void 0:Zt(t)),new ks(o,e||Of(),n||null,r)}var gn=(()=>{let e=class e{static create(n,r){if(Array.isArray(n))return u0({name:""},r,n,"");{let o=n.name??"";return u0({name:o},n.parent,n.providers,o)}}};e.THROW_IF_NOT_FOUND=Ps,e.NULL=new Kl,e.\u0275prov=fe({token:e,providedIn:"any",factory:()=>se(q0)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var QI="ngOriginalError";function fh(t){return t[QI]}var Kt=class{constructor(){this._console=console}handleError(e){let i=this._findOriginalError(e);this._console.error("ERROR",e),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(e){let i=e&&fh(e);for(;i&&fh(i);)i=fh(i);return i||null}},Gy=new ve("",{providedIn:"root",factory:()=>oe(Kt).handleError.bind(void 0)}),_d=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=qI,e.__NG_ENV_ID__=n=>n;let t=e;return t})(),Nh=class extends _d{constructor(e){super(),this._lView=e}onDestroy(e){return yy(this._lView,e),()=>mI(this._lView,e)}};function qI(){return new Nh(We())}function ZI(){return Fo(on(),We())}function Fo(t,e){return new Ue(Dn(t,e))}var Ue=(()=>{let e=class e{constructor(n){this.nativeElement=n}};e.__NG_ELEMENT_ID__=ZI;let t=e;return t})();function YI(t){return t instanceof Ue?t.nativeElement:t}var Bh=class extends ze{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,dy()&&(this.destroyRef=oe(_d,{optional:!0})??void 0)}emit(e){let i=Ge(null);try{super.next(e)}finally{Ge(i)}}subscribe(e,i,n){let r=e,o=i||(()=>null),s=n;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=ph(o),r&&(r=ph(r)),s&&(s=ph(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof Ye&&e.add(a),a}};function ph(t){return e=>{setTimeout(t,void 0,e)}}var Be=Bh;function KI(){return this._results[Symbol.iterator]()}var Gi=class t{get changes(){return this._changes??=new Be}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let i=t.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=KI)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,i){return this._results.reduce(e,i)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,i){this.dirty=!1;let n=CD(e);(this._changesDetected=!_D(this._results,n,i))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Wy(t){return(t.flags&128)===128}var Qy=new Map,$I=0;function XI(){return $I++}function JI(t){Qy.set(t[bd],t)}function eT(t){Qy.delete(t[bd])}var h0="__ngContext__";function Wi(t,e){vo(e)?(t[h0]=e[bd],JI(e)):t[h0]=e}function qy(t){return Yy(t[Ls])}function Zy(t){return Yy(t[Nn])}function Yy(t){for(;t!==null&&!yi(t);)t=t[Nn];return t}var Vh;function Ky(t){Vh=t}function $y(){if(Vh!==void 0)return Vh;if(typeof document<"u")return document;throw new ce(210,!1)}var $s=new ve("",{providedIn:"root",factory:()=>tT}),tT="ng",Zf=new ve(""),Vn=new ve("",{providedIn:"platform",factory:()=>"unknown"});var In=new ve(""),ko=new ve("",{providedIn:"root",factory:()=>$y().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var nT="h",iT="b";var rT=()=>null;function Yf(t,e,i=!1){return rT(t,e,i)}var Xy=!1,oT=new ve("",{providedIn:"root",factory:()=>Xy});var Rl;function sT(){if(Rl===void 0&&(Rl=null,Ft.trustedTypes))try{Rl=Ft.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Rl}function Cd(t){return sT()?.createHTML(t)||t}var Ll;function Jy(){if(Ll===void 0&&(Ll=null,Ft.trustedTypes))try{Ll=Ft.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ll}function f0(t){return Jy()?.createHTML(t)||t}function p0(t){return Jy()?.createScriptURL(t)||t}var pi=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${O0})`}},jh=class extends pi{getTypeName(){return"HTML"}},Hh=class extends pi{getTypeName(){return"Style"}},Uh=class extends pi{getTypeName(){return"Script"}},zh=class extends pi{getTypeName(){return"URL"}},Gh=class extends pi{getTypeName(){return"ResourceURL"}};function Tn(t){return t instanceof pi?t.changingThisBreaksApplicationSecurity:t}function Ai(t,e){let i=aT(t);if(i!=null&&i!==e){if(i==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${i} (see ${O0})`)}return i===e}function aT(t){return t instanceof pi&&t.getTypeName()||null}function eA(t){return new jh(t)}function tA(t){return new Hh(t)}function nA(t){return new Uh(t)}function iA(t){return new zh(t)}function rA(t){return new Gh(t)}function lT(t){let e=new Qh(t);return dT()?new Wh(e):e}var Wh=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let i=new window.DOMParser().parseFromString(Cd(e),"text/html").body;return i===null?this.inertDocumentHelper.getInertBodyElement(e):(i.removeChild(i.firstChild),i)}catch{return null}}},Qh=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let i=this.inertDocument.createElement("template");return i.innerHTML=Cd(e),i}};function dT(){try{return!!new window.DOMParser().parseFromString(Cd(""),"text/html")}catch{return!1}}var cT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ed(t){return t=String(t),t.match(cT)?t:"unsafe:"+t}function wi(t){let e={};for(let i of t.split(","))e[i]=!0;return e}function Xs(...t){let e={};for(let i of t)for(let n in i)i.hasOwnProperty(n)&&(e[n]=!0);return e}var oA=wi("area,br,col,hr,img,wbr"),sA=wi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),aA=wi("rp,rt"),uT=Xs(aA,sA),hT=Xs(sA,wi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),fT=Xs(aA,wi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),g0=Xs(oA,hT,fT,uT),lA=wi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pT=wi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),gT=wi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),mT=Xs(lA,pT,gT),bT=wi("script,style,template"),qh=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let i=e.firstChild,n=!0,r=[];for(;i;){if(i.nodeType===Node.ELEMENT_NODE?n=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,n&&i.firstChild){r.push(i),i=AT(i);continue}for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let o=yT(i);if(o){i=o;break}i=r.pop()}}return this.buf.join("")}startElement(e){let i=m0(e).toLowerCase();if(!g0.hasOwnProperty(i))return this.sanitizedSomething=!0,!bT.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);let n=e.attributes;for(let r=0;r<n.length;r++){let o=n.item(r),s=o.name,a=s.toLowerCase();if(!mT.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;lA[a]&&(l=Ed(l)),this.buf.push(" ",s,'="',b0(l),'"')}return this.buf.push(">"),!0}endElement(e){let i=m0(e).toLowerCase();g0.hasOwnProperty(i)&&!oA.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(e){this.buf.push(b0(e))}};function vT(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function yT(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw dA(e);return e}function AT(t){let e=t.firstChild;if(e&&vT(t,e))throw dA(e);return e}function m0(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function dA(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var wT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xT=/([^\#-~ |!])/g;function b0(t){return t.replace(/&/g,"&amp;").replace(wT,function(e){let i=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+((i-55296)*1024+(n-56320)+65536)+";"}).replace(xT,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ol;function Kf(t,e){let i=null;try{Ol=Ol||lT(t);let n=e?String(e):"";i=Ol.getInertBodyElement(n);let r=5,o=n;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,n=o,o=i.innerHTML,i=Ol.getInertBodyElement(n)}while(n!==o);let a=new qh().sanitizeChildren(v0(i)||i);return Cd(a)}finally{if(i){let n=v0(i)||i;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function v0(t){return"content"in t&&_T(t)?t.content:null}function _T(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Rt=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Rt||{});function $f(t){let e=Xf();return e?f0(e.sanitize(Rt.HTML,t)||""):Ai(t,"HTML")?f0(Tn(t)):Kf($y(),Ws(t))}function cA(t){let e=Xf();return e?e.sanitize(Rt.URL,t)||"":Ai(t,"URL")?Tn(t):Ed(Ws(t))}function Sd(t){let e=Xf();if(e)return p0(e.sanitize(Rt.RESOURCE_URL,t)||"");if(Ai(t,"ResourceURL"))return p0(Tn(t));throw new ce(904,!1)}function Xf(){let t=We();return t&&t[Bn].sanitizer}var CT=/^>|^->|<!--|-->|--!>|<!-$/g,ET=/(<|>)/g,ST="\u200B$1\u200B";function DT(t){return t.replace(CT,e=>e.replace(ET,ST))}function uA(t){return t instanceof Function?t():t}function IT(t){return(t??oe(gn)).get(Vn)==="browser"}var gi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(gi||{}),TT;function Jf(t,e){return TT(t,e)}function go(t,e,i,n,r){if(n!=null){let o,s=!1;yi(n)?o=n:vo(n)&&(s=!0,n=n[vi]);let a=Jn(n);t===0&&i!==null?r==null?mA(e,i,a):td(e,i,a,r||null,!0):t===1&&i!==null?td(e,i,a,r||null,!0):t===2?WT(e,a,s):t===3&&e.destroyNode(a),o!=null&&qT(e,t,o,i,r)}}function MT(t,e){return t.createText(e)}function PT(t,e,i){t.setValue(e,i)}function FT(t,e){return t.createComment(DT(e))}function hA(t,e,i){return t.createElement(e,i)}function kT(t,e){fA(t,e),e[vi]=null,e[fn]=null}function RT(t,e,i,n,r,o){n[vi]=r,n[fn]=e,Td(t,n,i,1,r,o)}function fA(t,e){e[Bn].changeDetectionScheduler?.notify(1),Td(t,e,e[wt],2,null,null)}function LT(t){let e=t[Ls];if(!e)return gh(t[Pe],t);for(;e;){let i=null;if(vo(e))i=e[Ls];else{let n=e[jt];n&&(i=n)}if(!i){for(;e&&!e[Nn]&&e!==t;)vo(e)&&gh(e[Pe],e),e=e[kt];e===null&&(e=t),vo(e)&&gh(e[Pe],e),i=e&&e[Nn]}e=i}}function OT(t,e,i,n){let r=jt+n,o=i.length;n>0&&(i[r-1][Nn]=e),n<o-jt?(e[Nn]=i[r],Q0(i,jt+n,e)):(i.push(e),e[Nn]=null),e[kt]=i;let s=e[qs];s!==null&&i!==s&&NT(s,e);let a=e[fi];a!==null&&a.insertView(t),Fh(e),e[De]|=128}function NT(t,e){let i=t[So],r=e[kt][kt][Sn];e[Sn]!==r&&(t[De]|=Nf.HasTransplantedViews),i===null?t[So]=[e]:i.push(e)}function pA(t,e){let i=t[So],n=i.indexOf(e);i.splice(n,1)}function Bs(t,e){if(t.length<=jt)return;let i=jt+e,n=t[i];if(n){let r=n[qs];r!==null&&r!==t&&pA(r,n),e>0&&(t[i-1][Nn]=n[Nn]);let o=Yl(t,jt+e);kT(n[Pe],n);let s=o[fi];s!==null&&s.detachView(o[Pe]),n[kt]=null,n[Nn]=null,n[De]&=-129}return n}function Dd(t,e){if(!(e[De]&256)){let i=e[wt];i.destroyNode&&Td(t,e,i,3,null,null),LT(e)}}function gh(t,e){if(e[De]&256)return;let i=Ge(null);try{e[De]&=-129,e[De]|=256,e[wr]&&Gu(e[wr]),VT(t,e),BT(t,e),e[Pe].type===1&&e[wt].destroy();let n=e[qs];if(n!==null&&yi(e[kt])){n!==e[kt]&&pA(n,e);let r=e[fi];r!==null&&r.detachView(t)}eT(e)}finally{Ge(i)}}function BT(t,e){let i=t.cleanup,n=e[Rs];if(i!==null)for(let o=0;o<i.length-1;o+=2)if(typeof i[o]=="string"){let s=i[o+3];s>=0?n[s]():n[-s].unsubscribe(),o+=2}else{let s=n[i[o+1]];i[o].call(s)}n!==null&&(e[Rs]=null);let r=e[Hi];if(r!==null){e[Hi]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function VT(t,e){let i;if(t!=null&&(i=t.destroyHooks)!=null)for(let n=0;n<i.length;n+=2){let r=e[i[n]];if(!(r instanceof Cr)){let o=i[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Kn(4,a,l);try{l.call(a)}finally{Kn(5,a,l)}}else{Kn(4,r,o);try{o.call(r)}finally{Kn(5,r,o)}}}}}function gA(t,e,i){return jT(t,e.parent,i)}function jT(t,e,i){let n=e;for(;n!==null&&n.type&40;)e=n,n=e.parent;if(n===null)return i[vi];{let{componentOffset:r}=n;if(r>-1){let{encapsulation:o}=t.data[n.directiveStart+r];if(o===Xn.None||o===Xn.Emulated)return null}return Dn(n,i)}}function td(t,e,i,n,r){t.insertBefore(e,i,n,r)}function mA(t,e,i){t.appendChild(e,i)}function y0(t,e,i,n,r){n!==null?td(t,e,i,n,r):mA(t,e,i)}function HT(t,e,i,n){t.removeChild(e,i,n)}function ep(t,e){return t.parentNode(e)}function UT(t,e){return t.nextSibling(e)}function bA(t,e,i){return GT(t,e,i)}function zT(t,e,i){return t.type&40?Dn(t,i):null}var GT=zT,A0;function Id(t,e,i,n){let r=gA(t,n,e),o=e[wt],s=n.parent||e[fn],a=bA(s,n,e);if(r!=null)if(Array.isArray(i))for(let l=0;l<i.length;l++)y0(o,r,i[l],a,!1);else y0(o,r,i,a,!1);A0!==void 0&&A0(o,n,e,i,r)}function Wl(t,e){if(e!==null){let i=e.type;if(i&3)return Dn(e,t);if(i&4)return Zh(-1,t[e.index]);if(i&8){let n=e.child;if(n!==null)return Wl(t,n);{let r=t[e.index];return yi(r)?Zh(-1,r):Jn(r)}}else{if(i&32)return Jf(e,t)()||Jn(t[e.index]);{let n=vA(t,e);if(n!==null){if(Array.isArray(n))return n[0];let r=Ns(t[Sn]);return Wl(r,n)}else return Wl(t,e.next)}}}return null}function vA(t,e){if(e!==null){let n=t[Sn][fn],r=e.projection;return n.projection[r]}return null}function Zh(t,e){let i=jt+t+1;if(i<e.length){let n=e[i],r=n[Pe].firstChild;if(r!==null)return Wl(n,r)}return e[xr]}function WT(t,e,i){let n=ep(t,e);n&&HT(t,n,e,i)}function tp(t,e,i,n,r,o,s){for(;i!=null;){let a=n[i.index],l=i.type;if(s&&e===0&&(a&&Wi(Jn(a),n),i.flags|=2),(i.flags&32)!==32)if(l&8)tp(t,e,i.child,n,r,o,!1),go(e,t,r,a,o);else if(l&32){let d=Jf(i,n),u;for(;u=d();)go(e,t,r,u,o);go(e,t,r,a,o)}else l&16?yA(t,e,n,i,r,o):go(e,t,r,a,o);i=s?i.projectionNext:i.next}}function Td(t,e,i,n,r,o){tp(i,n,t.firstChild,e,r,o,!1)}function QT(t,e,i){let n=e[wt],r=gA(t,i,e),o=i.parent||e[fn],s=bA(o,i,e);yA(n,0,e,i,r,s)}function yA(t,e,i,n,r,o){let s=i[Sn],l=s[fn].projection[n.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++){let u=l[d];go(e,t,r,u,o)}else{let d=l,u=s[kt];Wy(n)&&(d.flags|=128),tp(t,e,d,u,r,o,!0)}}function qT(t,e,i,n,r){let o=i[xr],s=Jn(i);o!==s&&go(e,t,n,o,r);for(let a=jt;a<i.length;a++){let l=i[a];Td(l[Pe],l,t,e,n,o)}}function ZT(t,e,i,n,r){if(e)r?t.addClass(i,n):t.removeClass(i,n);else{let o=n.indexOf("-")===-1?void 0:gi.DashCase;r==null?t.removeStyle(i,n,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=gi.Important),t.setStyle(i,n,r,o))}}function YT(t,e,i){t.setAttribute(e,"style",i)}function AA(t,e,i){i===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",i)}function wA(t,e,i){let{mergedAttrs:n,classes:r,styles:o}=i;n!==null&&Dh(t,e,n),r!==null&&AA(t,e,r),o!==null&&YT(t,e,o)}var xi={};function dt(t=1){xA(Et(),We(),qi()+t,!1)}function xA(t,e,i,n){if(!n)if((e[De]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Ul(e,o,i)}else{let o=t.preOrderHooks;o!==null&&zl(e,o,0,i)}_r(i)}function ue(t,e=He.Default){let i=We();if(i===null)return se(t,e);let n=on();return jy(n,i,qt(t),e)}function Md(){let t="invalid";throw new Error(t)}function _A(t,e,i,n,r,o){let s=Ge(null);try{let a=null;r&Se.SignalBased&&(a=e[n][Ri]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&Se.HasDecoratorInputTransform&&(o=t.inputTransforms[n].call(e,o)),t.setInput!==null?t.setInput(e,a,o,i,n):fy(e,a,n,o)}finally{Ge(s)}}function KT(t,e){let i=t.hostBindingOpCodes;if(i!==null)try{for(let n=0;n<i.length;n++){let r=i[n];if(r<0)_r(~r);else{let o=r,s=i[++n],a=i[++n];SI(s,o);let l=e[o];a(2,l)}}}finally{_r(-1)}}function Pd(t,e,i,n,r,o,s,a,l,d,u){let c=e.blueprint.slice();return c[vi]=r,c[De]=n|4|128|8|64,(d!==null||t&&t[De]&2048)&&(c[De]|=2048),vy(c),c[kt]=c[Po]=t,c[Vt]=i,c[Bn]=s||t&&t[Bn],c[wt]=a||t&&t[wt],c[Eo]=l||t&&t[Eo]||null,c[fn]=o,c[bd]=XI(),c[Co]=u,c[uy]=d,c[Sn]=e.type==2?t[Sn]:c,c}function Ro(t,e,i,n,r){let o=t.data[e];if(o===null)o=$T(t,e,i,n,r),EI()&&(o.flags|=32);else if(o.type&64){o.type=i,o.value=n,o.attrs=r;let s=xI();o.injectorIndex=s===null?-1:s.injectorIndex}return Tr(o,!0),o}function $T(t,e,i,n,r){let o=xy(),s=Uf(),a=s?o:o&&o.parent,l=t.data[e]=iM(t,a,i,e,n,r);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function CA(t,e,i,n){if(i===0)return-1;let r=e.length;for(let o=0;o<i;o++)e.push(n),t.blueprint.push(n),t.data.push(null);return r}function EA(t,e,i,n,r){let o=qi(),s=n&2;try{_r(-1),s&&e.length>rn&&xA(t,e,rn,!1),Kn(s?2:0,r),i(n,r)}finally{_r(o),Kn(s?3:1,r)}}function np(t,e,i){if(Bf(e)){let n=Ge(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=i[s];a.contentQueries(1,l,s)}}}finally{Ge(n)}}}function ip(t,e,i){Ay()&&(cM(t,e,i,Dn(i,e)),(i.flags&64)===64&&IA(t,e,i))}function rp(t,e,i=Dn){let n=e.localNames;if(n!==null){let r=e.index+1;for(let o=0;o<n.length;o+=2){let s=n[o+1],a=s===-1?i(e,t):t[s];t[r++]=a}}}function SA(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=op(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function op(t,e,i,n,r,o,s,a,l,d,u){let c=rn+n,h=c+r,g=XT(c,h),p=typeof d=="function"?d():d;return g[Pe]={type:t,blueprint:g,template:i,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function XT(t,e){let i=[];for(let n=0;n<e;n++)i.push(n<t?null:xi);return i}function JT(t,e,i,n){let o=n.get(oT,Xy)||i===Xn.ShadowDom,s=t.selectRootElement(e,o);return eM(s),s}function eM(t){tM(t)}var tM=()=>null;function nM(t,e,i,n){let r=PA(e);r.push(i),t.firstCreatePass&&FA(t).push(n,r.length-1)}function iM(t,e,i,n,r,o){let s=e?e.injectorIndex:-1,a=0;return wy()&&(a|=128),{type:i,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function w0(t,e,i,n,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;n??={};let a,l=Se.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let d=o;if(r!==null){if(!r.hasOwnProperty(o))continue;d=r[o]}t===0?x0(n,i,d,a,l):x0(n,i,d,a)}return n}function x0(t,e,i,n,r){let o;t.hasOwnProperty(i)?(o=t[i]).push(e,n):o=t[i]=[e,n],r!==void 0&&o.push(r)}function rM(t,e,i){let n=e.directiveStart,r=e.directiveEnd,o=t.data,s=e.attrs,a=[],l=null,d=null;for(let u=n;u<r;u++){let c=o[u],h=i?i.get(c):null,g=h?h.inputs:null,p=h?h.outputs:null;l=w0(0,c.inputs,u,l,g),d=w0(1,c.outputs,u,d,p);let f=l!==null&&s!==null&&!Rf(e)?wM(l,u,s):null;a.push(f)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=d}function oM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function sM(t,e,i,n,r,o,s,a){let l=Dn(e,i),d=e.inputs,u;!a&&d!=null&&(u=d[n])?(ap(t,i,u,n,r),vd(e)&&aM(i,e.index)):e.type&3?(n=oM(n),r=s!=null?s(r,e.value||"",n):r,o.setProperty(l,n,r)):e.type&12}function aM(t,e){let i=Ir(e,t);i[De]&16||(i[De]|=64)}function sp(t,e,i,n){if(Ay()){let r=n===null?null:{"":-1},o=hM(t,i),s,a;o===null?s=a=null:[s,a]=o,s!==null&&DA(t,e,i,s,r,a),r&&fM(i,n,r)}i.mergedAttrs=Fs(i.mergedAttrs,i.attrs)}function DA(t,e,i,n,r,o){for(let d=0;d<n.length;d++)Lh(ed(i,e),t,n[d].type);gM(i,t.data.length,n.length);for(let d=0;d<n.length;d++){let u=n[d];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=CA(t,e,n.length,null);for(let d=0;d<n.length;d++){let u=n[d];i.mergedAttrs=Fs(i.mergedAttrs,u.hostAttrs),mM(t,i,e,l,u),pM(l,u,r),u.contentQueries!==null&&(i.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(i.flags|=64);let c=u.type.prototype;!s&&(c.ngOnChanges||c.ngOnInit||c.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),s=!0),!a&&(c.ngOnChanges||c.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),a=!0),l++}rM(t,i,o)}function lM(t,e,i,n,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;dM(s)!=a&&s.push(a),s.push(i,n,o)}}function dM(t){let e=t.length;for(;e>0;){let i=t[--e];if(typeof i=="number"&&i<0)return i}return 0}function cM(t,e,i,n){let r=i.directiveStart,o=i.directiveEnd;vd(i)&&bM(e,i,t.data[r+i.componentOffset]),t.firstCreatePass||ed(i,e),Wi(n,e);let s=i.initialInputs;for(let a=r;a<o;a++){let l=t.data[a],d=Er(e,t,a,i);if(Wi(d,e),s!==null&&AM(e,a-r,d,l,i,s),zi(l)){let u=Ir(i.index,e);u[Vt]=Er(e,t,a,i)}}}function IA(t,e,i){let n=i.directiveStart,r=i.directiveEnd,o=i.index,s=DI();try{_r(o);for(let a=n;a<r;a++){let l=t.data[a],d=e[a];kh(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&uM(l,d)}}finally{_r(-1),kh(s)}}function uM(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function hM(t,e){let i=t.directiveRegistry,n=null,r=null;if(i)for(let o=0;o<i.length;o++){let s=i[o];if(X0(e,s.selectors,!1))if(n||(n=[]),zi(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),n.unshift(...a,s);let l=a.length;Yh(t,e,l)}else n.unshift(s),Yh(t,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,n,r),n.push(s)}return n===null?null:[n,r]}function Yh(t,e,i){e.componentOffset=i,(t.components??=[]).push(e.index)}function fM(t,e,i){if(e){let n=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=i[e[r+1]];if(o==null)throw new ce(-301,!1);n.push(e[r],o)}}}function pM(t,e,i){if(i){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)i[e.exportAs[n]]=t;zi(e)&&(i[""]=t)}}function gM(t,e,i){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+i,t.providerIndexes=e}function mM(t,e,i,n,r){t.data[n]=r;let o=r.factory||(r.factory=Ao(r.type,!0)),s=new Cr(o,zi(r),ue);t.blueprint[n]=s,i[n]=s,lM(t,e,n,CA(t,i,r.hostVars,xi),r)}function bM(t,e,i){let n=Dn(e,t),r=SA(i),o=t[Bn].rendererFactory,s=16;i.signals?s=4096:i.onPush&&(s=64);let a=Fd(t,Pd(t,r,null,s,n,e,null,o.createRenderer(n,i),null,null,null));t[e.index]=a}function vM(t,e,i,n,r,o){let s=Dn(t,e);yM(e[wt],s,o,t.value,i,n,r)}function yM(t,e,i,n,r,o,s){if(o==null)t.removeAttribute(e,r,i);else{let a=s==null?Ws(o):s(o,n||"",r);t.setAttribute(e,r,a,i)}}function AM(t,e,i,n,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],d=s[a++],u=s[a++],c=s[a++];_A(n,i,l,d,u,c)}}function wM(t,e,i){let n=null,r=0;for(;r<i.length;){let o=i[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){n===null&&(n=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){n.push(o,s[a+1],s[a+2],i[r+1]);break}}r+=2}return n}function TA(t,e,i,n){return[t,!0,0,e,null,n,null,i,null,null]}function MA(t,e){let i=t.contentQueries;if(i!==null){let n=Ge(null);try{for(let r=0;r<i.length;r+=2){let o=i[r],s=i[r+1];if(s!==-1){let a=t.data[s];Gf(o),a.contentQueries(2,e[s],s)}}}finally{Ge(n)}}}function Fd(t,e){return t[Ls]?t[o0][Nn]=e:t[Ls]=e,t[o0]=e,e}function Kh(t,e,i){Gf(0);let n=Ge(null);try{e(t,i)}finally{Ge(n)}}function PA(t){return t[Rs]||(t[Rs]=[])}function FA(t){return t.cleanup||(t.cleanup=[])}function kA(t,e){let i=t[Eo],n=i?i.get(Kt,null):null;n&&n.handleError(e)}function ap(t,e,i,n,r){for(let o=0;o<i.length;){let s=i[o++],a=i[o++],l=i[o++],d=e[s],u=t.data[s];_A(u,d,n,a,l,r)}}function xM(t,e,i){let n=by(e,t);PT(t[wt],n,i)}function _M(t,e){let i=Ir(e,t),n=i[Pe];CM(n,i);let r=i[vi];r!==null&&i[Co]===null&&(i[Co]=Yf(r,i[Eo])),lp(n,i,i[Vt])}function CM(t,e){for(let i=e.length;i<t.blueprint.length;i++)e.push(t.blueprint[i])}function lp(t,e,i){Wf(e);try{let n=t.viewQuery;n!==null&&Kh(1,n,i);let r=t.template;r!==null&&EA(t,e,r,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),e[fi]?.finishViewCreation(t),t.staticContentQueries&&MA(t,e),t.staticViewQueries&&Kh(2,t.viewQuery,i);let o=t.components;o!==null&&EM(e,o)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{e[De]&=-5,Qf()}}function EM(t,e){for(let i=0;i<e.length;i++)_M(t,e[i])}function kd(t,e,i,n){let r=Ge(null);try{let o=e.tView,a=t[De]&4096?4096:16,l=Pd(t,o,i,a,null,e,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),d=t[e.index];l[qs]=d;let u=t[fi];return u!==null&&(l[fi]=u.createEmbeddedView(o)),lp(o,l,i),l}finally{Ge(r)}}function RA(t,e){let i=jt+e;if(i<t.length)return t[i]}function Vs(t,e){return!e||e.firstChild===null||Wy(t)}function Rd(t,e,i,n=!0){let r=e[Pe];if(OT(r,e,t,i),n){let s=Zh(i,t),a=e[wt],l=ep(a,t[xr]);l!==null&&RT(r,t[fn],a,e,l,s)}let o=e[Co];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function LA(t,e){let i=Bs(t,e);return i!==void 0&&Dd(i[Pe],i),i}function nd(t,e,i,n,r=!1){for(;i!==null;){let o=e[i.index];o!==null&&n.push(Jn(o)),yi(o)&&SM(o,n);let s=i.type;if(s&8)nd(t,e,i.child,n);else if(s&32){let a=Jf(i,e),l;for(;l=a();)n.push(l)}else if(s&16){let a=vA(e,i);if(Array.isArray(a))n.push(...a);else{let l=Ns(e[Sn]);nd(l[Pe],l,a,n,!0)}}i=r?i.projectionNext:i.next}return n}function SM(t,e){for(let i=jt;i<t.length;i++){let n=t[i],r=n[Pe].firstChild;r!==null&&nd(n[Pe],n,r,e)}t[xr]!==t[vi]&&e.push(t[xr])}var OA=[];function DM(t){return t[wr]??IM(t)}function IM(t){let e=OA.pop()??Object.create(MM);return e.lView=t,e}function TM(t){t.lView[wr]!==t&&(t.lView=null,OA.push(t))}var MM=Ze(le({},il),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Os(t.lView)},consumerOnSignalRead(){this.lView[wr]=this}}),NA=100;function BA(t,e=!0,i=0){let n=t[Bn],r=n.rendererFactory,o=!1;o||r.begin?.();try{PM(t,i)}catch(s){throw e&&kA(t,s),s}finally{o||(r.end?.(),n.inlineEffectRunner?.flush())}}function PM(t,e){$h(t,e);let i=0;for(;Hf(t);){if(i===NA)throw new ce(103,!1);i++,$h(t,1)}}function FM(t,e,i,n){let r=e[De];if((r&256)===256)return;let o=!1;!o&&e[Bn].inlineEffectRunner?.flush(),Wf(e);let s=null,a=null;!o&&kM(t)&&(a=DM(e),s=Uu(a));try{vy(e),CI(t.bindingStartIndex),i!==null&&EA(t,e,i,2,n);let l=(r&3)===3;if(!o)if(l){let c=t.preOrderCheckHooks;c!==null&&Ul(e,c,null)}else{let c=t.preOrderHooks;c!==null&&zl(e,c,0,null),uh(e,0)}if(RM(e),VA(e,0),t.contentQueries!==null&&MA(t,e),!o)if(l){let c=t.contentCheckHooks;c!==null&&Ul(e,c)}else{let c=t.contentHooks;c!==null&&zl(e,c,1),uh(e,1)}KT(t,e);let d=t.components;d!==null&&HA(e,d,0);let u=t.viewQuery;if(u!==null&&Kh(2,u,n),!o)if(l){let c=t.viewCheckHooks;c!==null&&Ul(e,c)}else{let c=t.viewHooks;c!==null&&zl(e,c,2),uh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Hl]){for(let c of e[Hl])c();e[Hl]=null}o||(e[De]&=-73)}catch(l){throw Os(e),l}finally{a!==null&&(zu(a,s),TM(a)),Qf()}}function kM(t){return t.type!==2}function VA(t,e){for(let i=qy(t);i!==null;i=Zy(i))for(let n=jt;n<i.length;n++){let r=i[n];jA(r,e)}}function RM(t){for(let e=qy(t);e!==null;e=Zy(e)){if(!(e[De]&Nf.HasTransplantedViews))continue;let i=e[So];for(let n=0;n<i.length;n++){let r=i[n],o=r[kt];pI(r)}}}function LM(t,e,i){let n=Ir(e,t);jA(n,i)}function jA(t,e){jf(t)&&$h(t,e)}function $h(t,e){let n=t[Pe],r=t[De],o=t[wr],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&rl(o)),o&&(o.dirty=!1),t[De]&=-9217,s)FM(n,t,n.template,t[Vt]);else if(r&8192){VA(t,1);let a=n.components;a!==null&&HA(t,a,1)}}function HA(t,e,i){for(let n=0;n<e.length;n++)LM(t,e[n],i)}function dp(t){for(t[Bn].changeDetectionScheduler?.notify();t;){t[De]|=64;let e=Ns(t);if(iI(t)&&!e)return t;t=e}return null}var Sr=class{get rootNodes(){let e=this._lView,i=e[Pe];return nd(i,e,i.firstChild,[])}constructor(e,i,n=!0){this._lView=e,this._cdRefInjectingView=i,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Vt]}set context(e){this._lView[Vt]=e}get destroyed(){return(this._lView[De]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[kt];if(yi(e)){let i=e[$l],n=i?i.indexOf(this):-1;n>-1&&(Bs(e,n),Yl(i,n))}this._attachedToViewContainer=!1}Dd(this._lView[Pe],this._lView)}onDestroy(e){yy(this._lView,e)}markForCheck(){dp(this._cdRefInjectingView||this._lView)}detach(){this._lView[De]&=-129}reattach(){Fh(this._lView),this._lView[De]|=128}detectChanges(){this._lView[De]|=1024,BA(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,fA(this._lView[Pe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ce(902,!1);this._appRef=e,Fh(this._lView)}},Ht=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=BM;let t=e;return t})(),OM=Ht,NM=class extends OM{constructor(e,i,n){super(),this._declarationLView=e,this._declarationTContainer=i,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,i){return this.createEmbeddedViewImpl(e,i)}createEmbeddedViewImpl(e,i,n){let r=kd(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:i,dehydratedView:n});return new Sr(r)}};function BM(){return cp(on(),We())}function cp(t,e){return t.type&4?new NM(e,t,Fo(t,e)):null}var zq=new RegExp(`^(\\d+)*(${iT}|${nT})*(.*)`);var VM=()=>null;function js(t,e){return VM(t,e)}var Io=class{},Xh=class{},id=class{};function jM(t){let e=Error(`No component factory found for ${Zt(t)}.`);return e[HM]=t,e}var HM="ngComponent";var Jh=class{resolveComponentFactory(e){throw jM(e)}},Zi=(()=>{let e=class e{};e.NULL=new Jh;let t=e;return t})(),mi=class{};var UM=(()=>{let e=class e{};e.\u0275prov=fe({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),mh={};var _0=new Set;function Yi(t){_0.has(t)||(_0.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function C0(...t){}function zM(){let t=typeof Ft.requestAnimationFrame=="function",e=Ft[t?"requestAnimationFrame":"setTimeout"],i=Ft[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&i){let n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);let r=i[Zone.__symbol__("OriginalDelegate")];r&&(i=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:i}}var Ce=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Be(!1),this.onMicrotaskEmpty=new Be(!1),this.onStable=new Be(!1),this.onError=new Be(!1),typeof Zone>"u")throw new ce(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&i,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=zM().nativeRequestAnimationFrame,QM(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ce(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ce(909,!1)}run(e,i,n){return this._inner.run(e,i,n)}runTask(e,i,n,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,GM,C0,C0);try{return o.runTask(s,i,n)}finally{o.cancelTask(s)}}runGuarded(e,i,n){return this._inner.runGuarded(e,i,n)}runOutsideAngular(e){return this._outer.run(e)}},GM={};function up(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function WM(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ft,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ef(t),t.isCheckStableRunning=!0,up(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ef(t))}function QM(t){let e=()=>{WM(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,n,r,o,s,a)=>{if(qM(a))return i.invokeTask(r,o,s,a);try{return E0(t),i.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),S0(t)}},onInvoke:(i,n,r,o,s,a,l)=>{try{return E0(t),i.invoke(r,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),S0(t)}},onHasTask:(i,n,r,o)=>{i.hasTask(r,o),n===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,ef(t),up(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,n,r,o)=>(i.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function ef(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function E0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function S0(t){t._nesting--,up(t)}var tf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Be,this.onMicrotaskEmpty=new Be,this.onStable=new Be,this.onError=new Be}run(e,i,n){return e.apply(i,n)}runGuarded(e,i,n){return e.apply(i,n)}runOutsideAngular(e){return e()}runTask(e,i,n,r){return e.apply(i,n)}};function qM(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function ZM(t="zone.js",e){return t==="noop"?new tf:t==="zone.js"?new Ce(e):t}var mo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(mo||{}),YM={destroy(){}};function Ld(t,e){!e&&cy(Ld);let i=e?.injector??oe(gn);if(!IT(i))return YM;Yi("NgAfterNextRender");let n=i.get(hp),r=n.handler??=new rf,o=e?.phase??mo.MixedReadWrite,s=()=>{r.unregister(l),a()},a=i.get(_d).onDestroy(s),l=bi(i,()=>new nf(o,()=>{s(),t()}));return r.register(l),{destroy:s}}var nf=class{constructor(e,i){this.phase=e,this.callbackFn=i,this.zone=oe(Ce),this.errorHandler=oe(Kt,{optional:!0}),oe(Io,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},rf=class{constructor(){this.executingCallbacks=!1,this.buckets={[mo.EarlyRead]:new Set,[mo.Write]:new Set,[mo.MixedReadWrite]:new Set,[mo.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let i of e)i.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},hp=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=fe({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function rd(t,e,i){let n=i?t.styles:null,r=i?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=_h(r,a);else if(o==2){let l=a,d=e[++s];n=_h(n,l+": "+d+";")}}i?t.styles=n:t.stylesWithoutHost=n,i?t.classes=r:t.classesWithoutHost=r}var od=class extends Zi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let i=Ui(e);return new To(i,this.ngModule)}};function D0(t){let e=[];for(let i in t){if(!t.hasOwnProperty(i))continue;let n=t[i];n!==void 0&&e.push({propName:Array.isArray(n)?n[0]:n,templateName:i})}return e}function KM(t){let e=t.toLowerCase();return e==="svg"?aI:e==="math"?lI:null}var of=class{constructor(e,i){this.injector=e,this.parentInjector=i}get(e,i,n){n=pd(n);let r=this.injector.get(e,mh,n);return r!==mh||i===mh?r:this.parentInjector.get(e,i,n)}},To=class extends id{get inputs(){let e=this.componentDef,i=e.inputTransforms,n=D0(e.inputs);if(i!==null)for(let r of n)i.hasOwnProperty(r.propName)&&(r.transform=i[r.propName]);return n}get outputs(){return D0(this.componentDef.outputs)}constructor(e,i){super(),this.componentDef=e,this.ngModule=i,this.componentType=e.type,this.selector=VD(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!i}create(e,i,n,r){let o=Ge(null);try{r=r||this.ngModule;let s=r instanceof Yt?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new of(e,s):e,l=a.get(mi,null);if(l===null)throw new ce(407,!1);let d=a.get(UM,null),u=a.get(hp,null),c=a.get(Io,null),h={rendererFactory:l,sanitizer:d,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:c},g=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",f=n?JT(g,n,this.componentDef.encapsulation,a):hA(g,p,KM(p)),v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let m=null;f!==null&&(m=Yf(f,a,!0));let x=op(0,null,null,1,0,null,null,null,null,null,null),b=Pd(null,x,null,v,null,null,h,g,a,null,m);Wf(b);let A,_;try{let S=this.componentDef,D,F=null;S.findHostDirectiveDefs?(D=[],F=new Map,S.findHostDirectiveDefs(S,D,F),D.push(S)):D=[S];let k=$M(b,f),U=XM(k,f,S,D,b,h,g);_=Vf(x,rn),f&&tP(g,S,f,n),i!==void 0&&nP(_,this.ngContentSelectors,i),A=eP(U,S,D,F,b,[iP]),lp(x,b,null)}finally{Qf()}return new sf(this.componentType,A,Fo(_,b),b,_)}finally{Ge(o)}}},sf=class extends Xh{constructor(e,i,n,r,o){super(),this.location=n,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Sr(r,void 0,!1),this.componentType=e}setInput(e,i){let n=this._tNode.inputs,r;if(n!==null&&(r=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),i))return;let o=this._rootLView;ap(o[Pe],o,r,e,i),this.previousInputValues.set(e,i);let s=Ir(this._tNode.index,o);dp(s)}}get injector(){return new Ar(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function $M(t,e){let i=t[Pe],n=rn;return t[n]=e,Ro(i,n,2,"#host",null)}function XM(t,e,i,n,r,o,s){let a=r[Pe];JM(n,t,e,s);let l=null;e!==null&&(l=Yf(e,r[Eo]));let d=o.rendererFactory.createRenderer(e,i),u=16;i.signals?u=4096:i.onPush&&(u=64);let c=Pd(r,SA(i),null,u,r[t.index],t,o,d,null,null,l);return a.firstCreatePass&&Yh(a,t,n.length-1),Fd(r,c),r[t.index]=c}function JM(t,e,i,n){for(let r of t)e.mergedAttrs=Fs(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(rd(e,e.mergedAttrs,!0),i!==null&&wA(n,i,e))}function eP(t,e,i,n,r,o){let s=on(),a=r[Pe],l=Dn(s,r);DA(a,r,s,i,null,n);for(let u=0;u<i.length;u++){let c=s.directiveStart+u,h=Er(r,a,c,s);Wi(h,r)}IA(a,r,s),l&&Wi(l,r);let d=Er(r,a,s.directiveStart+s.componentOffset,s);if(t[Vt]=r[Vt]=d,o!==null)for(let u of o)u(d,e);return np(a,s,r),d}function tP(t,e,i,n){if(n)Dh(t,i,["ng-version","17.3.12"]);else{let{attrs:r,classes:o}=jD(e.selectors[0]);r&&Dh(t,i,r),o&&o.length>0&&AA(t,i,o.join(" "))}}function nP(t,e,i){let n=t.projection=[];for(let r=0;r<e.length;r++){let o=i[r];n.push(o!=null?Array.from(o):null)}}function iP(){let t=on();xd(We()[Pe],t)}var $t=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=rP;let t=e;return t})();function rP(){let t=on();return zA(t,We())}var oP=$t,UA=class extends oP{constructor(e,i,n){super(),this._lContainer=e,this._hostTNode=i,this._hostLView=n}get element(){return Fo(this._hostTNode,this._hostLView)}get injector(){return new Ar(this._hostTNode,this._hostLView)}get parentInjector(){let e=qf(this._hostTNode,this._hostLView);if(Ry(e)){let i=Jl(e,this._hostLView),n=Xl(e),r=i[Pe].data[n+8];return new Ar(r,i)}else return new Ar(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let i=I0(this._lContainer);return i!==null&&i[e]||null}get length(){return this._lContainer.length-jt}createEmbeddedView(e,i,n){let r,o;typeof n=="number"?r=n:n!=null&&(r=n.index,o=n.injector);let s=js(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(i||{},o,s);return this.insertImpl(a,r,Vs(this._hostTNode,s)),a}createComponent(e,i,n,r,o){let s=e&&!nI(e),a;if(s)a=i;else{let p=i||{};a=p.index,n=p.injector,r=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?e:new To(Ui(e)),d=n||this.parentInjector;if(!o&&l.ngModule==null){let f=(s?d:this.parentInjector).get(Yt,null);f&&(o=f)}let u=Ui(l.componentType??{}),c=js(this._lContainer,u?.id??null),h=c?.firstChild??null,g=l.create(d,r,h,o);return this.insertImpl(g.hostView,a,Vs(this._hostTNode,c)),g}insert(e,i){return this.insertImpl(e,i,!0)}insertImpl(e,i,n){let r=e._lView;if(fI(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[kt],d=new UA(l,l[fn],l[kt]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(i),s=this._lContainer;return Rd(s,r,o,n),e.attachToViewContainerRef(),Q0(bh(s),o,e),e}move(e,i){return this.insert(e,i)}indexOf(e){let i=I0(this._lContainer);return i!==null?i.indexOf(e):-1}remove(e){let i=this._adjustIndex(e,-1),n=Bs(this._lContainer,i);n&&(Yl(bh(this._lContainer),i),Dd(n[Pe],n))}detach(e){let i=this._adjustIndex(e,-1),n=Bs(this._lContainer,i);return n&&Yl(bh(this._lContainer),i)!=null?new Sr(n):null}_adjustIndex(e,i=0){return e??this.length+i}};function I0(t){return t[$l]}function bh(t){return t[$l]||(t[$l]=[])}function zA(t,e){let i,n=e[t.index];return yi(n)?i=n:(i=TA(n,e,null,t),e[t.index]=i,Fd(e,i)),aP(i,e,t,n),new UA(i,t,e)}function sP(t,e){let i=t[wt],n=i.createComment(""),r=Dn(e,t),o=ep(i,r);return td(i,o,n,UT(i,r),!1),n}var aP=cP,lP=()=>!1;function dP(t,e,i){return lP(t,e,i)}function cP(t,e,i,n){if(t[xr])return;let r;i.type&8?r=Jn(n):r=sP(e,i),t[xr]=r}var af=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},lf=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let i=e.queries;if(i!==null){let n=e.contentQueries!==null?e.contentQueries[0]:i.length,r=[];for(let o=0;o<n;o++){let s=i.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let i=0;i<this.queries.length;i++)fp(e,i).matches!==null&&this.queries[i].setDirty()}},sd=class{constructor(e,i,n=null){this.flags=i,this.read=n,typeof e=="string"?this.predicate=vP(e):this.predicate=e}},df=class t{constructor(e=[]){this.queries=e}elementStart(e,i){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,i)}elementEnd(e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(e)}embeddedTView(e){let i=null;for(let n=0;n<this.length;n++){let r=i!==null?i.length:0,o=this.getByIndex(n).embeddedTView(e,r);o&&(o.indexInDeclarationView=n,i!==null?i.push(o):i=[o])}return i!==null?new t(i):null}template(e,i){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,i)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},cf=class t{constructor(e,i=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(e,i){this.isApplyingToNode(i)&&this.matchTNode(e,i)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,i){this.elementStart(e,i)}embeddedTView(e,i){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,i),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let i=this._declarationNodeIndex,n=e.parent;for(;n!==null&&n.type&8&&n.index!==i;)n=n.parent;return i===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(e,i){let n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){let o=n[r];this.matchTNodeWithReadOption(e,i,uP(i,o)),this.matchTNodeWithReadOption(e,i,Gl(i,e,o,!1,!1))}else n===Ht?i.type&4&&this.matchTNodeWithReadOption(e,i,-1):this.matchTNodeWithReadOption(e,i,Gl(i,e,n,!1,!1))}matchTNodeWithReadOption(e,i,n){if(n!==null){let r=this.metadata.read;if(r!==null)if(r===Ue||r===$t||r===Ht&&i.type&4)this.addMatch(i.index,-2);else{let o=Gl(i,e,r,!1,!1);o!==null&&this.addMatch(i.index,o)}else this.addMatch(i.index,n)}}addMatch(e,i){this.matches===null?this.matches=[e,i]:this.matches.push(e,i)}};function uP(t,e){let i=t.localNames;if(i!==null){for(let n=0;n<i.length;n+=2)if(i[n]===e)return i[n+1]}return null}function hP(t,e){return t.type&11?Fo(t,e):t.type&4?cp(t,e):null}function fP(t,e,i,n){return i===-1?hP(e,t):i===-2?pP(t,e,n):Er(t,t[Pe],i,e)}function pP(t,e,i){if(i===Ue)return Fo(e,t);if(i===Ht)return cp(e,t);if(i===$t)return zA(e,t)}function GA(t,e,i,n){let r=e[fi].queries[n];if(r.matches===null){let o=t.data,s=i.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let d=s[l];if(d<0)a.push(null);else{let u=o[d];a.push(fP(e,u,s[l+1],i.metadata.read))}}r.matches=a}return r.matches}function uf(t,e,i,n){let r=t.queries.getByIndex(i),o=r.matches;if(o!==null){let s=GA(t,e,r,i);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)n.push(s[a/2]);else{let d=o[a+1],u=e[-l];for(let c=jt;c<u.length;c++){let h=u[c];h[qs]===h[kt]&&uf(h[Pe],h,d,n)}if(u[So]!==null){let c=u[So];for(let h=0;h<c.length;h++){let g=c[h];uf(g[Pe],g,d,n)}}}}}return n}function gP(t,e){return t[fi].queries[e].queryList}function WA(t,e,i){let n=new Gi((i&4)===4);return nM(t,e,n,n.destroy),(e[fi]??=new lf).queries.push(new af(n))-1}function mP(t,e,i){let n=Et();return n.firstCreatePass&&(QA(n,new sd(t,e,i),-1),(e&2)===2&&(n.staticViewQueries=!0)),WA(n,We(),e)}function bP(t,e,i,n){let r=Et();if(r.firstCreatePass){let o=on();QA(r,new sd(e,i,n),o.index),yP(r,t),(i&2)===2&&(r.staticContentQueries=!0)}return WA(r,We(),i)}function vP(t){return t.split(",").map(e=>e.trim())}function QA(t,e,i){t.queries===null&&(t.queries=new df),t.queries.track(new cf(e,i))}function yP(t,e){let i=t.contentQueries||(t.contentQueries=[]),n=i.length?i[i.length-1]:-1;e!==n&&i.push(t.queries.length-1,e)}function fp(t,e){return t.queries.getByIndex(e)}function AP(t,e){let i=t[Pe],n=fp(i,e);return n.crossesNgTemplate?uf(i,t,e,[]):GA(i,t,n,e)}function pp(t){return typeof t=="function"&&t[Ri]!==void 0}function qA(t,e){Yi("NgSignals");let i=yv(t),n=i[Ri];return e?.equal&&(n.equal=e.equal),i.set=r=>Wu(n,r),i.update=r=>Av(n,r),i.asReadonly=wP.bind(i),i}function wP(){let t=this[Ri];if(t.readonlyFn===void 0){let e=()=>this();e[Ri]=t,t.readonlyFn=e}return t.readonlyFn}function xP(t){let e=[],i=new Map;function n(r){let o=i.get(r);if(!o){let s=t(r);i.set(r,o=s.then(SP))}return o}return ad.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(n(r.templateUrl).then(d=>{r.template=d}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let d=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((c,h)=>{a.push(""),s.push(n(c).then(g=>{a[d+h]=g,u.splice(u.indexOf(c),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(n(r.styleUrl).then(d=>{a.push(d),r.styleUrl=void 0}));let l=Promise.all(s).then(()=>DP(o));e.push(l)}),CP(),Promise.all(e).then(()=>{})}var ad=new Map,_P=new Set;function CP(){let t=ad;return ad=new Map,t}function EP(){return ad.size===0}function SP(t){return typeof t=="string"?t:t.text()}function DP(t){_P.delete(t)}function IP(t){return Object.getPrototypeOf(t.prototype).constructor}function mn(t){let e=IP(t.type),i=!0,n=[t];for(;e;){let r;if(zi(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ce(903,!1);r=e.\u0275dir}if(r){if(i){n.push(r);let s=t;s.inputs=Nl(t.inputs),s.inputTransforms=Nl(t.inputTransforms),s.declaredInputs=Nl(t.declaredInputs),s.outputs=Nl(t.outputs);let a=r.hostBindings;a&&kP(t,a);let l=r.viewQuery,d=r.contentQueries;if(l&&PP(t,l),d&&FP(t,d),TP(t,r),rD(t.outputs,r.outputs),zi(r)&&r.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===mn&&(i=!1)}}e=Object.getPrototypeOf(e)}MP(n)}function TP(t,e){for(let i in e.inputs){if(!e.inputs.hasOwnProperty(i)||t.inputs.hasOwnProperty(i))continue;let n=e.inputs[i];if(n!==void 0&&(t.inputs[i]=n,t.declaredInputs[i]=e.declaredInputs[i],e.inputTransforms!==null)){let r=Array.isArray(n)?n[0]:n;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function MP(t){let e=0,i=null;for(let n=t.length-1;n>=0;n--){let r=t[n];r.hostVars=e+=r.hostVars,r.hostAttrs=Fs(r.hostAttrs,i=Fs(i,r.hostAttrs))}}function Nl(t){return t===wo?{}:t===nn?[]:t}function PP(t,e){let i=t.viewQuery;i?t.viewQuery=(n,r)=>{e(n,r),i(n,r)}:t.viewQuery=e}function FP(t,e){let i=t.contentQueries;i?t.contentQueries=(n,r,o)=>{e(n,r,o),i(n,r,o)}:t.contentQueries=e}function kP(t,e){let i=t.hostBindings;i?t.hostBindings=(n,r)=>{e(n,r),i(n,r)}:t.hostBindings=e}function St(t){let e=t.inputConfig,i={};for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];Array.isArray(r)&&r[3]&&(i[n]=r[3])}t.inputTransforms=i}var Qi=class{},Hs=class{};var ld=class extends Qi{constructor(e,i,n){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new od(this);let r=ny(e);this._bootstrapComponents=uA(r.bootstrap),this._r3Injector=zy(e,i,[{provide:Qi,useValue:this},{provide:Zi,useValue:this.componentFactoryResolver},...n],Zt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},dd=class extends Hs{constructor(e){super(),this.moduleType=e}create(e){return new ld(this.moduleType,e,[])}};function RP(t,e,i){return new ld(t,e,i)}var hf=class extends Qi{constructor(e){super(),this.componentFactoryResolver=new od(this),this.instance=null;let i=new ks([...e.providers,{provide:Qi,useValue:this},{provide:Zi,useValue:this.componentFactoryResolver}],e.parent||Of(),e.debugName,new Set(["environment"]));this.injector=i,e.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Od(t,e,i=null){return new hf({providers:t,parent:e,debugName:i,runEnvironmentInitializers:!0}).injector}var Js=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new vt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ZA(t,e,i){return t[e]=i}function ei(t,e,i){let n=t[e];return Object.is(n,i)?!1:(t[e]=i,!0)}function LP(t,e,i,n){let r=ei(t,e,i);return ei(t,e+1,n)||r}function OP(t){return(t.flags&32)===32}function NP(t,e,i,n,r,o,s,a,l){let d=e.consts,u=Ro(e,t,4,s||null,Do(d,a));sp(e,i,u,Do(d,l)),xd(e,u);let c=u.tView=op(2,u,n,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,u),c.queries=e.queries.embeddedTView(u)),u}function Ut(t,e,i,n,r,o,s,a){let l=We(),d=Et(),u=t+rn,c=d.firstCreatePass?NP(u,d,l,e,i,n,r,o,s):d.data[u];Tr(c,!1);let h=BP(d,l,c,t);Ad()&&Id(d,l,h,c),Wi(h,l);let g=TA(h,l,h,c);return l[u]=g,Fd(l,g),dP(g,c,l),yd(c)&&ip(d,l,c),s!=null&&rp(l,c,a),Ut}var BP=VP;function VP(t,e,i,n){return wd(!0),e[wt].createComment("")}function sn(t,e,i,n){let r=We(),o=Zs();if(ei(r,o,e)){let s=Et(),a=Py();vM(a,r,t,e,i,n)}return sn}function jP(t,e,i,n){return ei(t,Zs(),i)?e+Ws(i)+n:xi}function Bl(t,e){return t<<17|e<<2}function Dr(t){return t>>17&32767}function HP(t){return(t&2)==2}function UP(t,e){return t&131071|e<<17}function ff(t){return t|2}function Mo(t){return(t&131068)>>2}function vh(t,e){return t&-131069|e<<2}function zP(t){return(t&1)===1}function pf(t){return t|1}function GP(t,e,i,n,r,o){let s=o?e.classBindings:e.styleBindings,a=Dr(s),l=Mo(s);t[n]=i;let d=!1,u;if(Array.isArray(i)){let c=i;u=c[1],(u===null||Qs(c,u)>0)&&(d=!0)}else u=i;if(r)if(l!==0){let h=Dr(t[a+1]);t[n+1]=Bl(h,a),h!==0&&(t[h+1]=vh(t[h+1],n)),t[a+1]=UP(t[a+1],n)}else t[n+1]=Bl(a,0),a!==0&&(t[a+1]=vh(t[a+1],n)),a=n;else t[n+1]=Bl(l,0),a===0?a=n:t[l+1]=vh(t[l+1],n),l=n;d&&(t[n+1]=ff(t[n+1])),T0(t,u,n,!0),T0(t,u,n,!1),WP(e,u,t,n,o),s=Bl(a,l),o?e.classBindings=s:e.styleBindings=s}function WP(t,e,i,n,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Qs(o,e)>=0&&(i[n+1]=pf(i[n+1]))}function T0(t,e,i,n){let r=t[i+1],o=e===null,s=n?Dr(r):Mo(r),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],d=t[s+1];QP(l,e)&&(a=!0,t[s+1]=n?pf(d):ff(d)),s=n?Dr(d):Mo(d)}a&&(t[i+1]=n?ff(r):pf(r))}function QP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Qs(t,e)>=0:!1}var On={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qP(t){return t.substring(On.key,On.keyEnd)}function ZP(t){return YP(t),YA(t,KA(t,0,On.textEnd))}function YA(t,e){let i=On.textEnd;return i===e?-1:(e=On.keyEnd=KP(t,On.key=e,i),KA(t,e,i))}function YP(t){On.key=0,On.keyEnd=0,On.value=0,On.valueEnd=0,On.textEnd=t.length}function KA(t,e,i){for(;e<i&&t.charCodeAt(e)<=32;)e++;return e}function KP(t,e,i){for(;e<i&&t.charCodeAt(e)>32;)e++;return e}function et(t,e,i){let n=We(),r=Zs();if(ei(n,r,e)){let o=Et(),s=Py();sM(o,s,n,t,e,n[wt],i,!1)}return et}function gf(t,e,i,n,r){let o=e.inputs,s=r?"class":"style";ap(t,i,o[s],s,n)}function Ki(t,e,i){return $A(t,e,i,!1),Ki}function it(t,e){return $A(t,e,null,!0),it}function jn(t){XP(rF,$P,t,!0)}function $P(t,e){for(let i=ZP(e);i>=0;i=YA(e,i))kf(t,qP(e),!0)}function $A(t,e,i,n){let r=We(),o=Et(),s=Cy(2);if(o.firstUpdatePass&&JA(o,t,s,n),e!==xi&&ei(r,s,e)){let a=o.data[qi()];ew(o,a,r,r[wt],t,r[s+1]=sF(e,i),n,s)}}function XP(t,e,i,n){let r=Et(),o=Cy(2);r.firstUpdatePass&&JA(r,null,o,n);let s=We();if(i!==xi&&ei(s,o,i)){let a=r.data[qi()];if(tw(a,n)&&!XA(r,o)){let l=n?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(i=_h(l,i||"")),gf(r,a,s,i,n)}else oF(r,a,s,s[wt],s[o+1],s[o+1]=iF(t,e,i),n,o)}}function XA(t,e){return e>=t.expandoStartIndex}function JA(t,e,i,n){let r=t.data;if(r[i+1]===null){let o=r[qi()],s=XA(t,i);tw(o,n)&&e===null&&!s&&(e=!1),e=JP(r,o,e,n),GP(r,o,e,i,s,n)}}function JP(t,e,i,n){let r=II(t),o=n?e.residualClasses:e.residualStyles;if(r===null)(n?e.classBindings:e.styleBindings)===0&&(i=yh(null,t,e,i,n),i=Us(i,e.attrs,n),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(i=yh(r,t,e,i,n),o===null){let l=eF(t,e,n);l!==void 0&&Array.isArray(l)&&(l=yh(null,t,e,l[1],n),l=Us(l,e.attrs,n),tF(t,e,n,l))}else o=nF(t,e,n)}return o!==void 0&&(n?e.residualClasses=o:e.residualStyles=o),i}function eF(t,e,i){let n=i?e.classBindings:e.styleBindings;if(Mo(n)!==0)return t[Dr(n)]}function tF(t,e,i,n){let r=i?e.classBindings:e.styleBindings;t[Dr(r)]=n}function nF(t,e,i){let n,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;n=Us(n,s,i)}return Us(n,e.attrs,i)}function yh(t,e,i,n,r){let o=null,s=i.directiveEnd,a=i.directiveStylingLast;for(a===-1?a=i.directiveStart:a++;a<s&&(o=e[a],n=Us(n,o.hostAttrs,r),o!==t);)a++;return t!==null&&(i.directiveStylingLast=a),n}function Us(t,e,i){let n=i?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===n&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),kf(t,s,i?!0:e[++o]))}return t===void 0?null:t}function iF(t,e,i){if(i==null||i==="")return nn;let n=[],r=Tn(i);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(n,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&t(n,o,r[o]);else typeof r=="string"&&e(n,r);return n}function rF(t,e,i){let n=String(e);n!==""&&!n.includes(" ")&&kf(t,n,i)}function oF(t,e,i,n,r,o,s,a){r===xi&&(r=nn);let l=0,d=0,u=0<r.length?r[0]:null,c=0<o.length?o[0]:null;for(;u!==null||c!==null;){let h=l<r.length?r[l+1]:void 0,g=d<o.length?o[d+1]:void 0,p=null,f;u===c?(l+=2,d+=2,h!==g&&(p=c,f=g)):c===null||u!==null&&u<c?(l+=2,p=u):(d+=2,p=c,f=g),p!==null&&ew(t,e,i,n,p,f,s,a),u=l<r.length?r[l]:null,c=d<o.length?o[d]:null}}function ew(t,e,i,n,r,o,s,a){if(!(e.type&3))return;let l=t.data,d=l[a+1],u=zP(d)?M0(l,e,i,r,Mo(d),s):void 0;if(!cd(u)){cd(o)||HP(d)&&(o=M0(l,null,i,r,a,s));let c=by(qi(),i);ZT(n,s,c,r,o)}}function M0(t,e,i,n,r,o){let s=e===null,a;for(;r>0;){let l=t[r],d=Array.isArray(l),u=d?l[1]:l,c=u===null,h=i[r+1];h===xi&&(h=c?nn:void 0);let g=c?dh(h,n):u===n?h:void 0;if(d&&!cd(g)&&(g=dh(l,n)),cd(g)&&(a=g,s))return a;let p=t[r+1];r=s?Dr(p):Mo(p)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=dh(l,n))}return a}function cd(t){return t!==void 0}function sF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Zt(Tn(t)))),t}function tw(t,e){return(t.flags&(e?8:16))!==0}var mf=class{destroy(e){}updateValue(e,i){}swap(e,i){let n=Math.min(e,i),r=Math.max(e,i),o=this.detach(r);if(r-n>1){let s=this.detach(n);this.attach(n,o),this.attach(r,s)}else this.attach(n,o)}move(e,i){this.attach(i,this.detach(e))}};function Ah(t,e,i,n,r){return t===i&&Object.is(e,n)?1:Object.is(r(t,e),r(i,n))?-1:0}function aF(t,e,i){let n,r,o=0,s=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;o<=s&&o<=a;){let l=t.at(o),d=e[o],u=Ah(o,l,o,d,i);if(u!==0){u<0&&t.updateValue(o,d),o++;continue}let c=t.at(s),h=e[a],g=Ah(s,c,a,h,i);if(g!==0){g<0&&t.updateValue(s,h),s--,a--;continue}let p=i(o,l),f=i(s,c),v=i(o,d);if(Object.is(v,f)){let m=i(a,h);Object.is(m,p)?(t.swap(o,s),t.updateValue(s,h),a--,s--):t.move(s,o),t.updateValue(o,d),o++;continue}if(n??=new ud,r??=F0(t,o,s,i),bf(t,n,o,v))t.updateValue(o,d),o++,s++;else if(r.has(v))n.set(p,t.detach(o)),s--;else{let m=t.create(o,e[o]);t.attach(o,m),o++,s++}}for(;o<=a;)P0(t,n,i,o,e[o]),o++}else if(e!=null){let a=e[Symbol.iterator](),l=a.next();for(;!l.done&&o<=s;){let d=t.at(o),u=l.value,c=Ah(o,d,o,u,i);if(c!==0)c<0&&t.updateValue(o,u),o++,l=a.next();else{n??=new ud,r??=F0(t,o,s,i);let h=i(o,u);if(bf(t,n,o,h))t.updateValue(o,u),o++,s++,l=a.next();else if(!r.has(h))t.attach(o,t.create(o,u)),o++,s++,l=a.next();else{let g=i(o,d);n.set(g,t.detach(o)),s--}}}for(;!l.done;)P0(t,n,i,t.length,l.value),l=a.next()}for(;o<=s;)t.destroy(t.detach(s--));n?.forEach(a=>{t.destroy(a)})}function bf(t,e,i,n){return e!==void 0&&e.has(n)?(t.attach(i,e.get(n)),e.delete(n),!0):!1}function P0(t,e,i,n,r){if(bf(t,e,n,i(n,r)))t.updateValue(n,r);else{let o=t.create(n,r);t.attach(n,o)}}function F0(t,e,i,n){let r=new Set;for(let o=e;o<=i;o++)r.add(n(o,t.at(o)));return r}var ud=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let i=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(i)?(this.kvMap.set(e,this._vMap.get(i)),this._vMap.delete(i)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,i){if(this.kvMap.has(e)){let n=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(n);)n=r.get(n);r.set(n,i)}else this.kvMap.set(e,i)}forEach(e){for(let[i,n]of this.kvMap)if(e(n,i),this._vMap!==void 0){let r=this._vMap;for(;r.has(n);)n=r.get(n),e(n,i)}}};function Nd(t,e,i){Yi("NgControlFlow");let n=We(),r=Zs(),o=wf(n,rn+t),s=0;if(ei(n,r,e)){let a=Ge(null);try{if(LA(o,s),e!==-1){let l=xf(n[Pe],rn+e),d=js(o,l.tView.ssrId),u=kd(n,l,i,{dehydratedView:d});Rd(o,u,s,Vs(l,d))}}finally{Ge(a)}}else{let a=RA(o,s);a!==void 0&&(a[Vt]=i)}}var vf=class{constructor(e,i,n){this.lContainer=e,this.$implicit=i,this.$index=n}get $count(){return this.lContainer.length-jt}};function gp(t,e){return e}var yf=class{constructor(e,i,n){this.hasEmptyBlock=e,this.trackByFn=i,this.liveCollection=n}};function mp(t,e,i,n,r,o,s,a,l,d,u,c,h){Yi("NgControlFlow");let g=l!==void 0,p=We(),f=a?s.bind(p[Sn][Vt]):s,v=new yf(g,f);p[rn+t]=v,Ut(t+1,e,i,n,r,o),g&&Ut(t+2,l,d,u,c,h)}var Af=class extends mf{constructor(e,i,n){super(),this.lContainer=e,this.hostLView=i,this.templateTNode=n,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-jt}at(e){return this.getLView(e)[Vt].$implicit}attach(e,i){let n=i[Co];this.needsIndexUpdate||=e!==this.length,Rd(this.lContainer,i,e,Vs(this.templateTNode,n))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,lF(this.lContainer,e)}create(e,i){let n=js(this.lContainer,this.templateTNode.tView.ssrId);return kd(this.hostLView,this.templateTNode,new vf(this.lContainer,i,e),{dehydratedView:n})}destroy(e){Dd(e[Pe],e)}updateValue(e,i){this.getLView(e)[Vt].$implicit=i}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Vt].$index=e}getLView(e){return dF(this.lContainer,e)}};function bp(t){let e=Ge(null),i=qi();try{let n=We(),r=n[Pe],o=n[i];if(o.liveCollection===void 0){let a=i+1,l=wf(n,a),d=xf(r,a);o.liveCollection=new Af(l,n,d)}else o.liveCollection.reset();let s=o.liveCollection;if(aF(s,t,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){let a=Zs(),l=s.length===0;if(ei(n,a,l)){let d=i+2,u=wf(n,d);if(l){let c=xf(r,d),h=js(u,c.tView.ssrId),g=kd(n,c,void 0,{dehydratedView:h});Rd(u,g,0,Vs(c,h))}else LA(u,0)}}}finally{Ge(e)}}function wf(t,e){return t[e]}function lF(t,e){return Bs(t,e)}function dF(t,e){return RA(t,e)}function xf(t,e){return Vf(t,e)}function cF(t,e,i,n,r,o){let s=e.consts,a=Do(s,r),l=Ro(e,t,2,n,a);return sp(e,i,l,Do(s,o)),l.attrs!==null&&rd(l,l.attrs,!1),l.mergedAttrs!==null&&rd(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function pe(t,e,i,n){let r=We(),o=Et(),s=rn+t,a=r[wt],l=o.firstCreatePass?cF(s,o,r,e,i,n):o.data[s],d=uF(o,r,l,a,e,t);r[s]=d;let u=yd(l);return Tr(l,!0),wA(a,d,l),!OP(l)&&Ad()&&Id(o,r,d,l),bI()===0&&Wi(d,r),vI(),u&&(ip(o,r,l),np(o,l,r)),n!==null&&rp(r,l),pe}function he(){let t=on();Uf()?zf():(t=t.parent,Tr(t,!1));let e=t;AI(e)&&wI(),yI();let i=Et();return i.firstCreatePass&&(xd(i,t),Bf(t)&&i.queries.elementEnd(t)),e.classesWithoutHost!=null&&LI(e)&&gf(i,e,We(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&OI(e)&&gf(i,e,We(),e.stylesWithoutHost,!1),he}function xe(t,e,i,n){return pe(t,e,i,n),he(),xe}var uF=(t,e,i,n,r,o)=>(wd(!0),hA(n,r,PI()));function hF(t,e,i,n,r){let o=e.consts,s=Do(o,n),a=Ro(e,t,8,"ng-container",s);s!==null&&rd(a,s,!0);let l=Do(o,r);return sp(e,i,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function Bd(t,e,i){let n=We(),r=Et(),o=t+rn,s=r.firstCreatePass?hF(o,r,n,e,i):r.data[o];Tr(s,!0);let a=fF(r,n,s,t);return n[o]=a,Ad()&&Id(r,n,a,s),Wi(a,n),yd(s)&&(ip(r,n,s),np(r,s,n)),i!=null&&rp(n,s),Bd}function Vd(){let t=on(),e=Et();return Uf()?zf():(t=t.parent,Tr(t,!1)),e.firstCreatePass&&(xd(e,t),Bf(t)&&e.queries.elementEnd(t)),Vd}var fF=(t,e,i,n)=>(wd(!0),FT(e[wt],""));function ti(){return We()}var hd="en-US";var pF=hd;function gF(t){typeof t=="string"&&(pF=t.toLowerCase().replace(/_/g,"-"))}function Lt(t,e,i,n){let r=We(),o=Et(),s=on();return bF(o,r,r[wt],s,t,e,n),Lt}function mF(t,e,i,n){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===i&&r[o+1]===n){let a=e[Rs],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function bF(t,e,i,n,r,o,s){let a=yd(n),d=t.firstCreatePass&&FA(t),u=e[Vt],c=PA(e),h=!0;if(n.type&3||s){let f=Dn(n,e),v=s?s(f):f,m=c.length,x=s?A=>s(Jn(A[n.index])):n.index,b=null;if(!s&&a&&(b=mF(t,e,r,n.index)),b!==null){let A=b.__ngLastListenerFn__||b;A.__ngNextListenerFn__=o,b.__ngLastListenerFn__=o,h=!1}else{o=R0(n,e,u,o,!1);let A=i.listen(v,r,o);c.push(o,A),d&&d.push(r,x,m,m+1)}}else o=R0(n,e,u,o,!1);let g=n.outputs,p;if(h&&g!==null&&(p=g[r])){let f=p.length;if(f)for(let v=0;v<f;v+=2){let m=p[v],x=p[v+1],_=e[m][x].subscribe(o),S=c.length;c.push(o,_),d&&d.push(r,n.index,S,-(S+1))}}}function k0(t,e,i,n){let r=Ge(null);try{return Kn(6,e,i),i(n)!==!1}catch(o){return kA(t,o),!1}finally{Kn(7,e,i),Ge(r)}}function R0(t,e,i,n,r){return function o(s){if(s===Function)return n;let a=t.componentOffset>-1?Ir(t.index,e):e;dp(a);let l=k0(e,i,n,s),d=o.__ngNextListenerFn__;for(;d;)l=k0(e,i,d,s)&&l,d=d.__ngNextListenerFn__;return r&&l===!1&&s.preventDefault(),l}}function mt(t=1){return MI(t)}function vF(t,e){let i=null,n=RD(t);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){i=r;continue}if(n===null?X0(t,o,!0):ND(n,o))return r}return i}function bn(t){let e=We()[Sn][fn];if(!e.projection){let i=t?t.length:1,n=e.projection=ED(i,null),r=n.slice(),o=e.child;for(;o!==null;){let s=t?vF(o,t):0;s!==null&&(r[s]?r[s].projectionNext=o:n[s]=o,r[s]=o),o=o.next}}}function zt(t,e=0,i){let n=We(),r=Et(),o=Ro(r,rn+t,16,null,i||null);o.projection===null&&(o.projection=e),zf(),(!n[Co]||wy())&&(o.flags&32)!==32&&QT(r,n,o)}function $i(t,e,i,n){bP(t,e,i,n)}function Gt(t,e,i){mP(t,e,i)}function ct(t){let e=We(),i=Et(),n=Ey();Gf(n+1);let r=fp(i,n);if(t.dirty&&hI(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=AP(e,n);t.reset(o,YI),t.notifyOnChanges()}return!0}return!1}function ut(){return gP(We(),Ey())}function jd(t){let e=_I();return uI(e,rn+t)}function ye(t,e=""){let i=We(),n=Et(),r=t+rn,o=n.firstCreatePass?Ro(n,r,1,e,null):n.data[r],s=yF(n,i,o,e,t);i[r]=s,Ad()&&Id(n,i,s,o),Tr(o,!1)}var yF=(t,e,i,n,r)=>(wd(!0),MT(e[wt],n));function Hd(t){return Ud("",t,""),Hd}function Ud(t,e,i){let n=We(),r=jP(n,t,e,i);return r!==xi&&xM(n,qi(),r),Ud}function AF(t,e,i){let n=Et();if(n.firstCreatePass){let r=zi(t);_f(i,n.data,n.blueprint,r,!0),_f(e,n.data,n.blueprint,r,!1)}}function _f(t,e,i,n,r){if(t=qt(t),Array.isArray(t))for(let o=0;o<t.length;o++)_f(t[o],e,i,n,r);else{let o=Et(),s=We(),a=on(),l=_o(t)?t:qt(t.provide),d=ly(t),u=a.providerIndexes&1048575,c=a.directiveStart,h=a.providerIndexes>>20;if(_o(t)||!t.multi){let g=new Cr(d,r,ue),p=xh(l,e,r?u:u+h,c);p===-1?(Lh(ed(a,s),o,l),wh(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(g),s.push(g)):(i[p]=g,s[p]=g)}else{let g=xh(l,e,u+h,c),p=xh(l,e,u,u+h),f=g>=0&&i[g],v=p>=0&&i[p];if(r&&!v||!r&&!f){Lh(ed(a,s),o,l);let m=_F(r?xF:wF,i.length,r,n,d);!r&&v&&(i[p].providerFactory=m),wh(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(m),s.push(m)}else{let m=nw(i[r?p:g],d,!r&&n);wh(o,t,g>-1?g:p,m)}!r&&n&&v&&i[p].componentProviders++}}}function wh(t,e,i,n){let r=_o(e),o=ZD(e);if(r||o){let l=(o?qt(e.useClass):e).prototype.ngOnDestroy;if(l){let d=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let u=d.indexOf(i);u===-1?d.push(i,[n,l]):d[u+1].push(n,l)}else d.push(i,l)}}}function nw(t,e,i){return i&&t.componentProviders++,t.multi.push(e)-1}function xh(t,e,i,n){for(let r=i;r<n;r++)if(e[r]===t)return r;return-1}function wF(t,e,i,n){return Cf(this.multi,[])}function xF(t,e,i,n){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Er(i,i[Pe],this.providerFactory.index,n);o=a.slice(0,s),Cf(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Cf(r,o);return o}function Cf(t,e){for(let i=0;i<t.length;i++){let n=t[i];e.push(n())}return e}function _F(t,e,i,n,r){let o=new Cr(t,i,ue);return o.multi=[],o.index=e,o.componentProviders=0,nw(o,r,n&&!i),o}function ni(t,e=[]){return i=>{i.providersResolver=(n,r)=>AF(n,r?r(t):t,e)}}var CF=(()=>{let e=class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=oy(!1,n.type),o=r.length>0?Od([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=fe({token:e,providedIn:"environment",factory:()=>new e(se(Yt))});let t=e;return t})();function Xt(t){Yi("NgStandalone"),t.getStandaloneInjector=e=>e.get(CF).getOrCreateStandaloneInjector(t)}function iw(t,e,i,n){return EF(We(),_y(),t,e,i,n)}function rw(t,e,i,n,r){return SF(We(),_y(),t,e,i,n,r)}function ow(t,e){let i=t[e];return i===xi?void 0:i}function EF(t,e,i,n,r,o){let s=e+i;return ei(t,s,r)?ZA(t,s+1,o?n.call(o,r):n(r)):ow(t,s+1)}function SF(t,e,i,n,r,o,s){let a=e+i;return LP(t,a,r,o)?ZA(t,a+2,s?n.call(s,r,o):n(r,o)):ow(t,a+2)}var Vl=null;function DF(t){Vl!==null&&(t.defaultEncapsulation!==Vl.defaultEncapsulation||t.preserveWhitespaces!==Vl.preserveWhitespaces)||(Vl=t)}var zd=(()=>{let e=class e{log(n){console.log(n)}warn(n){console.warn(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var vp=new ve(""),ea=new ve(""),Gd=(()=>{let e=class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,yp||(IF(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),n()},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}};e.\u0275fac=function(r){return new(r||e)(se(Ce),se(Wd),se(ea))},e.\u0275prov=fe({token:e,factory:e.\u0275fac});let t=e;return t})(),Wd=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return yp?.findTestabilityInTree(this,n,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function IF(t){yp=t}var yp;function Lo(t){return!!t&&typeof t.then=="function"}function sw(t){return!!t&&typeof t.subscribe=="function"}var Qd=new ve(""),aw=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=oe(Qd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let s=o();if(Lo(s))n.push(s);else if(sw(s)){let a=new Promise((l,d)=>{s.subscribe({complete:l,error:d})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ap=new ve("");function TF(){vv(()=>{throw new ce(600,!1)})}function MF(t){return t.isBoundToModule}function PF(t,e,i){try{let n=i();return Lo(n)?n.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}function lw(t,e){return Array.isArray(e)?e.reduce(lw,t):le(le({},t),e)}var Oo=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=oe(Gy),this.afterRenderEffectManager=oe(hp),this.externalTestViews=new Set,this.beforeRender=new ze,this.afterTick=new ze,this.componentTypes=[],this.components=[],this.isStable=oe(Js).hasPendingTasks.pipe(_e(n=>!n)),this._injector=oe(Yt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let o=n instanceof id;if(!this._injector.get(aw).done){let g=!o&&ty(n),p=!1;throw new ce(405,p)}let a;o?a=n:a=this._injector.get(Zi).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=MF(a)?void 0:this._injector.get(Qi),d=r||a.selector,u=a.create(gn.NULL,[],d,l),c=u.location.nativeElement,h=u.injector.get(vp,null);return h?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),Ql(this.components,u),h?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new ce(101,!1);let r=Ge(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,Ge(r)}}detectChangesInAttachedViews(n){let r=0,o=this.afterRenderEffectManager;for(;;){if(r===NA)throw new ce(103,!1);if(n){let s=r===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:l}of this._views)FF(a,s,l)}if(r++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Ef(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Ef(s))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ql(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Ap,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ql(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ce(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ql(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}function FF(t,e,i){!e&&!Ef(t)||kF(t,i,e)}function Ef(t){return Hf(t)}function kF(t,e,i){let n;i?(n=0,t[De]|=1024):t[De]&64?n=0:n=1,BA(t,e,n)}var Sf=class{constructor(e,i){this.ngModuleFactory=e,this.componentFactories=i}},qd=(()=>{let e=class e{compileModuleSync(n){return new dd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=ny(n),s=uA(o.declarations).reduce((a,l)=>{let d=Ui(l);return d&&a.push(new To(d)),a},[]);return new Sf(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),RF=new ve("");function LF(t,e,i){let n=new dd(i);return Promise.resolve(n)}function L0(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var OF=(()=>{let e=class e{constructor(){this.zone=oe(Ce),this.applicationRef=oe(Oo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function NF(t){return[{provide:Ce,useFactory:t},{provide:xo,multi:!0,useFactory:()=>{let e=oe(OF,{optional:!0});return()=>e.initialize()}},{provide:xo,multi:!0,useFactory:()=>{let e=oe(jF);return()=>{e.initialize()}}},{provide:Gy,useFactory:BF}]}function BF(){let t=oe(Ce),e=oe(Kt);return i=>t.runOutsideAngular(()=>e.handleError(i))}function VF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var jF=(()=>{let e=class e{constructor(){this.subscription=new Ye,this.initialized=!1,this.zone=oe(Ce),this.pendingTasks=oe(Js)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function HF(){return typeof $localize<"u"&&$localize.locale||hd}var Zd=new ve("",{providedIn:"root",factory:()=>oe(Zd,He.Optional|He.SkipSelf)||HF()});var dw=new ve(""),cw=(()=>{let e=class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){let o=ZM(r?.ngZone,VF({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{let s=RP(n.moduleType,this.injector,NF(()=>o)),a=s.injector.get(Kt,null);return o.runOutsideAngular(()=>{let l=o.onError.subscribe({next:d=>{a.handleError(d)}});s.onDestroy(()=>{Ql(this._modules,s),l.unsubscribe()})}),PF(a,o,()=>{let l=s.injector.get(aw);return l.runInitializers(),l.donePromise.then(()=>{let d=s.injector.get(Zd,hd);return gF(d||hd),this._moduleDoBootstrap(s),s})})})}bootstrapModule(n,r=[]){let o=lw({},r);return LF(this.injector,o,n).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(n){let r=n.injector.get(Oo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(r);else throw new ce(-403,!1);this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ce(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let n=this._injector.get(dw,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(se(gn))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Ms=null,uw=new ve("");function UF(t){if(Ms&&!Ms.get(uw,!1))throw new ce(400,!1);TF(),Ms=t;let e=t.get(cw);return WF(t),e}function wp(t,e,i=[]){let n=`Platform: ${e}`,r=new ve(n);return(o=[])=>{let s=hw();if(!s||s.injector.get(uw,!1)){let a=[...i,...o,{provide:r,useValue:!0}];t?t(a):UF(zF(a,n))}return GF(r)}}function zF(t=[],e){return gn.create({name:e,providers:[{provide:md,useValue:"platform"},{provide:dw,useValue:new Set([()=>Ms=null])},...t]})}function GF(t){let e=hw();if(!e)throw new ce(401,!1);return e}function hw(){return Ms?.get(cw)??null}function WF(t){t.get(Zf,null)?.forEach(i=>i())}var Jt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=QF;let t=e;return t})();function QF(t){return qF(on(),We(),(t&16)===16)}function qF(t,e,i){if(vd(t)&&!i){let n=Ir(t.index,e);return new Sr(n,n)}else if(t.type&47){let n=e[Sn];return new Sr(n,e)}return null}var fw=wp(null,"core",[]),pw=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(se(Oo))},e.\u0275mod=Re({type:e}),e.\u0275inj=ke({});let t=e;return t})();function tt(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function No(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}var ZF=new ve("",{providedIn:"root",factory:()=>oe(YF)}),YF=(()=>{let e=class e{};e.\u0275prov=fe({token:e,providedIn:"root",factory:()=>new Df});let t=e;return t})(),Df=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=oe(Js),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let i=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(i),this.taskId=null})}}enqueue(e){let i=e.creationZone;this.queues.has(i)||this.queues.set(i,new Set);let n=this.queues.get(i);n.has(e)||(this.queuedEffectCount++,n.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,i]of this.queues)e===null?this.flushQueue(i):e.run(()=>this.flushQueue(i))}flushQueue(e){for(let i of e)e.delete(i),this.queuedEffectCount--,i.run()}},If=class{constructor(e,i,n,r,o,s){this.scheduler=e,this.effectFn=i,this.creationZone=n,this.injector=o,this.watcher=xv(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(i){this.injector.get(Kt,null,{optional:!0})?.handleError(i)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function Bo(t,e){Yi("NgSignals"),!e?.injector&&cy(Bo);let i=e?.injector??oe(gn),n=e?.manualCleanup!==!0?i.get(_d):null,r=new If(i.get(ZF),t,typeof Zone>"u"?null:Zone.current,n,i,e?.allowSignalWrites??!1),o=i.get(Jt,null,{optional:!0});return!o||!(o._lView[De]&8)?r.watcher.notify():(o._lView[Hl]??=[]).push(r.watcher.notify),r}function gw(t){let e=Ui(t);if(!e)return null;let i=new To(e);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var yw=null;function Mr(){return yw}function Aw(t){yw??=t}var Yd=class{};var je=new ve(""),Ep=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:()=>oe(XF),providedIn:"platform"});let t=e;return t})(),ww=new ve(""),XF=(()=>{let e=class e extends Ep{constructor(){super(),this._doc=oe(je),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Mr().getBaseHref(this._doc)}onPopState(n){let r=Mr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Mr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Sp(t,e){if(t.length==0)return e;if(e.length==0)return t;let i=0;return t.endsWith("/")&&i++,e.startsWith("/")&&i++,i==2?t+e.substring(1):i==1?t+e:t+"/"+e}function mw(t){let e=t.match(/#|\?|$/),i=e&&e.index||t.length,n=i-(t[i-1]==="/"?1:0);return t.slice(0,n)+t.slice(i)}function _i(t){return t&&t[0]!=="?"?"?"+t:t}var Pr=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:()=>oe(Dp),providedIn:"root"});let t=e;return t})(),xw=new ve(""),Dp=(()=>{let e=class e extends Pr{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??oe(je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Sp(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+_i(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,s){let a=this.prepareExternalUrl(o+_i(s));this._platformLocation.pushState(n,r,a)}replaceState(n,r,o,s){let a=this.prepareExternalUrl(o+_i(s));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(r){return new(r||e)(se(Ep),se(xw,8))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_w=(()=>{let e=class e extends Pr{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Sp(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,s){let a=this.prepareExternalUrl(o+_i(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,r,a)}replaceState(n,r,o,s){let a=this.prepareExternalUrl(o+_i(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(r){return new(r||e)(se(Ep),se(xw,8))},e.\u0275prov=fe({token:e,factory:e.\u0275fac});let t=e;return t})(),Vo=(()=>{let e=class e{constructor(n){this._subject=new Be,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=tk(mw(bw(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+_i(r))}normalize(n){return e.stripTrailingSlash(ek(this._basePath,bw(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+_i(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+_i(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}};e.normalizeQueryParams=_i,e.joinWithSlash=Sp,e.stripTrailingSlash=mw,e.\u0275fac=function(r){return new(r||e)(se(Pr))},e.\u0275prov=fe({token:e,factory:()=>JF(),providedIn:"root"});let t=e;return t})();function JF(){return new Vo(se(Pr))}function ek(t,e){if(!t||!e.startsWith(t))return e;let i=e.substring(t.length);return i===""||["/",";","?","#"].includes(i[0])?i:e}function bw(t){return t.replace(/\/index.html$/,"")}function tk(t){if(new RegExp("^(https?:)?//").test(t)){let[,i]=t.split(/\/\/[^\/]+/);return i}return t}function Cw(t,e){e=encodeURIComponent(e);for(let i of t.split(";")){let n=i.indexOf("="),[r,o]=n==-1?[i,""]:[i.slice(0,n),i.slice(n+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var Ew=(()=>{let e=class e{constructor(n,r){this._viewContainer=n,this._context=new xp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){vw("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){vw("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}};e.\u0275fac=function(r){return new(r||e)(ue($t),ue(Ht))},e.\u0275dir=Xe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),xp=class{constructor(){this.$implicit=null,this.ngIf=null}};function vw(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Zt(e)}'.`)}var jo=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=ke({});let t=e;return t})(),Ip="browser",nk="server";function Jd(t){return t===Ip}function Tp(t){return t===nk}var Sw=(()=>{let e=class e{};e.\u0275prov=fe({token:e,providedIn:"root",factory:()=>Jd(oe(Vn))?new _p(oe(je),window):new Cp});let t=e;return t})(),_p=class{constructor(e,i){this.document=e,this.window=i,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let i=ik(this.document,e);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let i=e.getBoundingClientRect(),n=i.left+this.window.pageXOffset,r=i.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])}};function ik(t,e){let i=t.getElementById(e)||t.getElementsByName(e)[0];if(i)return i;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=n.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=n.nextNode()}}return null}var Cp=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Kd=class{};var Pp=class{};var Ho=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let r=i.slice(0,n),o=r.toLowerCase(),s=i.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let i=this.headers.get(e.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,i){return this.clone({name:e,value:i,op:"a"})}set(e,i){return this.clone({name:e,value:i,op:"s"})}delete(e,i){return this.clone({name:e,value:i,op:"d"})}maybeSetNormalizedName(e,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(i=>{this.headers.set(i,e.headers.get(i)),this.normalizedNames.set(i,e.normalizedNames.get(i))})}clone(e){let i=new t;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([e]),i}applyUpdate(e){let i=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,i);let r=(e.op==="a"?this.headers.get(i):void 0)||[];r.push(...n),this.headers.set(i,r);break;case"d":let o=e.value;if(!o)this.headers.delete(i),this.normalizedNames.delete(i);else{let s=this.headers.get(i);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,s)}break}}setHeaderEntries(e,i){let n=(Array.isArray(i)?i:[i]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>e(this.normalizedNames.get(i),this.headers.get(i)))}};var Fp=class{encodeKey(e){return Dw(e)}encodeValue(e){return Dw(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function ok(t,e){let i=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=i.get(s)||[];l.push(a),i.set(s,l)}),i}var sk=/%(\d[a-f0-9])/gi,ak={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Dw(t){return encodeURIComponent(t).replace(sk,(e,i)=>ak[i]??e)}function ec(t){return`${t}`}var Xi=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Fp,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=ok(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(i=>{let n=e.fromObject[i],r=Array.isArray(n)?n.map(ec):[ec(n)];this.map.set(i,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let i=this.map.get(e);return i?i[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,i){return this.clone({param:e,value:i,op:"a"})}appendAll(e){let i=[];return Object.keys(e).forEach(n=>{let r=e[n];Array.isArray(r)?r.forEach(o=>{i.push({param:n,value:o,op:"a"})}):i.push({param:n,value:r,op:"a"})}),this.clone(i)}set(e,i){return this.clone({param:e,value:i,op:"s"})}delete(e,i){return this.clone({param:e,value:i,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let i=this.encoder.encodeKey(e);return this.map.get(e).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let i=new t({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(e),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let i=(e.op==="a"?this.map.get(e.param):void 0)||[];i.push(ec(e.value)),this.map.set(e.param,i);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],r=n.indexOf(ec(e.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var kp=class{constructor(){this.map=new Map}set(e,i){return this.map.set(e,i),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function lk(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Iw(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Tw(t){return typeof Blob<"u"&&t instanceof Blob}function Mw(t){return typeof FormData<"u"&&t instanceof FormData}function dk(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var ta=class t{constructor(e,i,n,r){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(lk(this.method)||r?(this.body=n!==void 0?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ho,this.context??=new kp,!this.params)this.params=new Xi,this.urlWithParams=i;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=i;else{let a=i.indexOf("?"),l=a===-1?"?":a<i.length-1?"&":"";this.urlWithParams=i+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Iw(this.body)||Tw(this.body)||Mw(this.body)||dk(this.body)?this.body:this.body instanceof Xi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Mw(this.body)?null:Tw(this.body)?this.body.type||null:Iw(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Xi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let i=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,d=e.headers||this.headers,u=e.params||this.params,c=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((h,g)=>h.set(g,e.setHeaders[g]),d)),e.setParams&&(u=Object.keys(e.setParams).reduce((h,g)=>h.set(g,e.setParams[g]),u)),new t(i,n,s,{params:u,headers:d,context:c,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},Pw=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Pw||{}),Rp=class{constructor(e,i=Fw.Ok,n="OK"){this.headers=e.headers||new Ho,this.status=e.status!==void 0?e.status:i,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var Lp=class t extends Rp{constructor(e={}){super(e),this.type=Pw.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var Fw=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Fw||{});function Mp(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var kw=(()=>{let e=class e{constructor(n){this.handler=n}request(n,r,o={}){let s;if(n instanceof ta)s=n;else{let d;o.headers instanceof Ho?d=o.headers:d=new Ho(o.headers);let u;o.params&&(o.params instanceof Xi?u=o.params:u=new Xi({fromObject:o.params})),s=new ta(n,r,o.body!==void 0?o.body:null,{headers:d,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=Ae(s).pipe(hi(d=>this.handler.handle(d)));if(n instanceof ta||o.observe==="events")return a;let l=a.pipe(ot(d=>d instanceof Lp));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(_e(d=>{if(d.body!==null&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return l.pipe(_e(d=>{if(d.body!==null&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return l.pipe(_e(d=>{if(d.body!==null&&typeof d.body!="string")throw new Error("Response is not a string.");return d.body}));case"json":default:return l.pipe(_e(d=>d.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Xi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,Mp(o,r))}post(n,r,o={}){return this.request("POST",n,Mp(o,r))}put(n,r,o={}){return this.request("PUT",n,Mp(o,r))}};e.\u0275fac=function(r){return new(r||e)(se(Pp))},e.\u0275prov=fe({token:e,factory:e.\u0275fac});let t=e;return t})();var Bp=class extends Yd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Vp=class t extends Bp{static makeCurrent(){Aw(new t)}onAndCancel(e,i,n){return e.addEventListener(i,n),()=>{e.removeEventListener(i,n)}}dispatchEvent(e,i){e.dispatchEvent(i)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,i){return i=i||this.getDefaultDocument(),i.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,i){return i==="window"?window:i==="document"?e:i==="body"?e.body:null}getBaseHref(e){let i=hk();return i==null?null:fk(i)}resetBaseElement(){na=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Cw(document.cookie,e)}},na=null;function hk(){return na=na||document.querySelector("base"),na?na.getAttribute("href"):null}function fk(t){return new URL(t,document.baseURI).pathname}var jp=class{addToWindow(e){Ft.getAngularTestability=(n,r=!0)=>{let o=e.findTestabilityInTree(n,r);if(o==null)throw new ce(5103,!1);return o},Ft.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ft.getAllAngularRootElements=()=>e.getAllRootElements();let i=n=>{let r=Ft.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&n()};r.forEach(a=>{a.whenStable(s)})};Ft.frameworkStabilizers||(Ft.frameworkStabilizers=[]),Ft.frameworkStabilizers.push(i)}findTestabilityInTree(e,i,n){if(i==null)return null;let r=e.getTestability(i);return r??(n?Mr().isShadowRoot(i)?this.findTestabilityInTree(e,i.host,!0):this.findTestabilityInTree(e,i.parentElement,!0):null)}},pk=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac});let t=e;return t})(),Hp=new ve(""),Ow=(()=>{let e=class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new ce(5101,!1);return this._eventNameToPlugin.set(n,r),r}};e.\u0275fac=function(r){return new(r||e)(se(Hp),se(Ce))},e.\u0275prov=fe({token:e,factory:e.\u0275fac});let t=e;return t})(),tc=class{constructor(e){this._doc=e}},Op="ng-app-id",Nw=(()=>{let e=class e{constructor(n,r,o,s={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Tp(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Op}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){let o=this.styleRef;if(o.has(n)){let s=o.get(n);return s.usage+=r,s.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===n)return o.delete(r),s.removeAttribute(Op),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Op,this.appId),n.appendChild(a),a}}addStyleToHost(n,r){let o=this.getStyleElement(n,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(se(je),se($s),se(ko,8),se(Vn))},e.\u0275prov=fe({token:e,factory:e.\u0275fac});let t=e;return t})(),Np={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zp=/%COMP%/g,Bw="%COMP%",gk=`_nghost-${Bw}`,mk=`_ngcontent-${Bw}`,bk=!0,vk=new ve("",{providedIn:"root",factory:()=>bk});function yk(t){return mk.replace(zp,t)}function Ak(t){return gk.replace(zp,t)}function Vw(t,e){return e.map(i=>i.replace(zp,t))}var nc=(()=>{let e=class e{constructor(n,r,o,s,a,l,d,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=d,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Tp(l),this.defaultRenderer=new ia(n,a,d,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Xn.ShadowDom&&(r=Ze(le({},r),{encapsulation:Xn.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof ic?o.applyToHost(n):o instanceof ra&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,l=this.ngZone,d=this.eventManager,u=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case Xn.Emulated:s=new ic(d,u,r,this.appId,c,a,l,h);break;case Xn.ShadowDom:return new Up(d,u,n,r,a,l,this.nonce,h);default:s=new ra(d,u,r,c,a,l,h);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(se(Ow),se(Nw),se($s),se(vk),se(je),se(Vn),se(Ce),se(ko))},e.\u0275prov=fe({token:e,factory:e.\u0275fac});let t=e;return t})(),ia=class{constructor(e,i,n,r){this.eventManager=e,this.doc=i,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,i){return i?this.doc.createElementNS(Np[i]||i,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,i){(Rw(e)?e.content:e).appendChild(i)}insertBefore(e,i,n){e&&(Rw(e)?e.content:e).insertBefore(i,n)}removeChild(e,i){e&&e.removeChild(i)}selectRootElement(e,i){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new ce(-5104,!1);return i||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,i,n,r){if(r){i=r+":"+i;let o=Np[r];o?e.setAttributeNS(o,i,n):e.setAttribute(i,n)}else e.setAttribute(i,n)}removeAttribute(e,i,n){if(n){let r=Np[n];r?e.removeAttributeNS(r,i):e.removeAttribute(`${n}:${i}`)}else e.removeAttribute(i)}addClass(e,i){e.classList.add(i)}removeClass(e,i){e.classList.remove(i)}setStyle(e,i,n,r){r&(gi.DashCase|gi.Important)?e.style.setProperty(i,n,r&gi.Important?"important":""):e.style[i]=n}removeStyle(e,i,n){n&gi.DashCase?e.style.removeProperty(i):e.style[i]=""}setProperty(e,i,n){e!=null&&(e[i]=n)}setValue(e,i){e.nodeValue=i}listen(e,i,n){if(typeof e=="string"&&(e=Mr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${i}`);return this.eventManager.addEventListener(e,i,this.decoratePreventDefault(n))}decoratePreventDefault(e){return i=>{if(i==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(i)):e(i))===!1&&i.preventDefault()}}};function Rw(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Up=class extends ia{constructor(e,i,n,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=Vw(r.id,r.styles);for(let u of d){let c=document.createElement("style");a&&c.setAttribute("nonce",a),c.textContent=u,this.shadowRoot.appendChild(c)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,i){return super.appendChild(this.nodeOrShadowRoot(e),i)}insertBefore(e,i,n){return super.insertBefore(this.nodeOrShadowRoot(e),i,n)}removeChild(e,i){return super.removeChild(this.nodeOrShadowRoot(e),i)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ra=class extends ia{constructor(e,i,n,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=l?Vw(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ic=class extends ra{constructor(e,i,n,r,o,s,a,l){let d=r+"-"+n.id;super(e,i,n,o,s,a,l,d),this.contentAttr=yk(d),this.hostAttr=Ak(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,i){let n=super.createElement(e,i);return super.setAttribute(n,this.contentAttr,""),n}},wk=(()=>{let e=class e extends tc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(se(je))},e.\u0275prov=fe({token:e,factory:e.\u0275fac});let t=e;return t})(),Lw=["alt","control","meta","shift"],xk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_k={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Ck=(()=>{let e=class e extends tc{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Mr().onAndCancel(n,s.domEventName,a))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),Lw.forEach(u=>{let c=r.indexOf(u);c>-1&&(r.splice(c,1),a+=u+".")}),a+=s,r.length!=0||s.length===0)return null;let d={};return d.domEventName=o,d.fullKey=a,d}static matchEventFullKeyCode(n,r){let o=xk[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(o=n.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Lw.forEach(a=>{if(a!==o){let l=_k[a];l(n)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(n,r,o){return s=>{e.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(r){return new(r||e)(se(je))},e.\u0275prov=fe({token:e,factory:e.\u0275fac});let t=e;return t})();function Ek(){Vp.makeCurrent()}function Sk(){return new Kt}function Dk(){return Ky(document),document}var Ik=[{provide:Vn,useValue:Ip},{provide:Zf,useValue:Ek,multi:!0},{provide:je,useFactory:Dk,deps:[]}],jw=wp(fw,"browser",Ik),Tk=new ve(""),Mk=[{provide:ea,useClass:jp,deps:[]},{provide:vp,useClass:Gd,deps:[Ce,Wd,ea]},{provide:Gd,useClass:Gd,deps:[Ce,Wd,ea]}],Pk=[{provide:md,useValue:"root"},{provide:Kt,useFactory:Sk,deps:[]},{provide:Hp,useClass:wk,multi:!0,deps:[je,Ce,Vn]},{provide:Hp,useClass:Ck,multi:!0,deps:[je]},nc,Nw,Ow,{provide:mi,useExisting:nc},{provide:Kd,useClass:pk,deps:[]},[]],rc=(()=>{let e=class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:$s,useValue:n.appId}]}}};e.\u0275fac=function(r){return new(r||e)(se(Tk,12))},e.\u0275mod=Re({type:e}),e.\u0275inj=ke({providers:[...Pk,...Mk],imports:[jo,pw]});let t=e;return t})();var Hw=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(r){return new(r||e)(se(je))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oa=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=se(Fk),o},providedIn:"root"});let t=e;return t})(),Fk=(()=>{let e=class e extends oa{constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case Rt.NONE:return r;case Rt.HTML:return Ai(r,"HTML")?Tn(r):Kf(this._doc,String(r)).toString();case Rt.STYLE:return Ai(r,"Style")?Tn(r):r;case Rt.SCRIPT:if(Ai(r,"Script"))return Tn(r);throw new ce(5200,!1);case Rt.URL:return Ai(r,"URL")?Tn(r):Ed(String(r));case Rt.RESOURCE_URL:if(Ai(r,"ResourceURL"))return Tn(r);throw new ce(5201,!1);default:throw new ce(5202,!1)}}bypassSecurityTrustHtml(n){return eA(n)}bypassSecurityTrustStyle(n){return tA(n)}bypassSecurityTrustScript(n){return nA(n)}bypassSecurityTrustUrl(n){return iA(n)}bypassSecurityTrustResourceUrl(n){return rA(n)}};e.\u0275fac=function(r){return new(r||e)(se(je))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Le=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Le||{}),ii="*";function Uw(t,e){return{type:Le.Trigger,name:t,definitions:e,options:{}}}function sc(t,e=null){return{type:Le.Animate,styles:e,timings:t}}function zw(t,e=null){return{type:Le.Sequence,steps:t,options:e}}function Ci(t){return{type:Le.Style,styles:t,offset:null}}function ac(t,e,i){return{type:Le.State,name:t,styles:e,options:i}}function lc(t,e,i=null){return{type:Le.Transition,expr:t,animation:e,options:i}}var Ji=class{constructor(e=0,i=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let i=e=="start"?this._onStartFns:this._onDoneFns;i.forEach(n=>n()),i.length=0}},sa=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let i=0,n=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++i==o&&this._onFinish()}),s.onDestroy(()=>{++n==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let i=e*this.totalTime;this.players.forEach(n=>{let r=n.totalTime?Math.min(1,i/n.totalTime):1;n.setPosition(r)})}getPosition(){let e=this.players.reduce((i,n)=>i===null||n.totalTime>i.totalTime?n:i,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let i=e=="start"?this._onStartFns:this._onDoneFns;i.forEach(n=>n()),i.length=0}},dc="!";function Gw(t){return new ce(3e3,!1)}function kk(){return new ce(3100,!1)}function Rk(){return new ce(3101,!1)}function Lk(t){return new ce(3001,!1)}function Ok(t){return new ce(3003,!1)}function Nk(t){return new ce(3004,!1)}function Bk(t,e){return new ce(3005,!1)}function Vk(){return new ce(3006,!1)}function jk(){return new ce(3007,!1)}function Hk(t,e){return new ce(3008,!1)}function Uk(t){return new ce(3002,!1)}function zk(t,e,i,n,r){return new ce(3010,!1)}function Gk(){return new ce(3011,!1)}function Wk(){return new ce(3012,!1)}function Qk(){return new ce(3200,!1)}function qk(){return new ce(3202,!1)}function Zk(){return new ce(3013,!1)}function Yk(t){return new ce(3014,!1)}function Kk(t){return new ce(3015,!1)}function $k(t){return new ce(3016,!1)}function Xk(t,e){return new ce(3404,!1)}function Jk(t){return new ce(3502,!1)}function eR(t){return new ce(3503,!1)}function tR(){return new ce(3300,!1)}function nR(t){return new ce(3504,!1)}function iR(t){return new ce(3301,!1)}function rR(t,e){return new ce(3302,!1)}function oR(t){return new ce(3303,!1)}function sR(t,e){return new ce(3400,!1)}function aR(t){return new ce(3401,!1)}function lR(t){return new ce(3402,!1)}function dR(t,e){return new ce(3505,!1)}function er(t){switch(t.length){case 0:return new Ji;case 1:return t[0];default:return new sa(t)}}function rx(t,e,i=new Map,n=new Map){let r=[],o=[],s=-1,a=null;if(e.forEach(l=>{let d=l.get("offset"),u=d==s,c=u&&a||new Map;l.forEach((h,g)=>{let p=g,f=h;if(g!=="offset")switch(p=t.normalizePropertyName(p,r),f){case dc:f=i.get(g);break;case ii:f=n.get(g);break;default:f=t.normalizeStyleValue(g,p,f,r);break}c.set(p,f)}),u||o.push(c),a=c,s=d}),r.length)throw Jk(r);return o}function hg(t,e,i,n){switch(e){case"start":t.onStart(()=>n(i&&Gp(i,"start",t)));break;case"done":t.onDone(()=>n(i&&Gp(i,"done",t)));break;case"destroy":t.onDestroy(()=>n(i&&Gp(i,"destroy",t)));break}}function Gp(t,e,i){let n=i.totalTime,r=!!i.disabled,o=fg(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n??t.totalTime,r),s=t._data;return s!=null&&(o._data=s),o}function fg(t,e,i,n,r="",o=0,s){return{element:t,triggerName:e,fromState:i,toState:n,phaseName:r,totalTime:o,disabled:!!s}}function yn(t,e,i){let n=t.get(e);return n||t.set(e,n=i),n}function Ww(t){let e=t.indexOf(":"),i=t.substring(1,e),n=t.slice(e+1);return[i,n]}var cR=typeof document>"u"?null:document.documentElement;function pg(t){let e=t.parentNode||t.host||null;return e===cR?null:e}function uR(t){return t.substring(1,6)=="ebkit"}var Fr=null,Qw=!1;function hR(t){Fr||(Fr=fR()||{},Qw=Fr.style?"WebkitAppearance"in Fr.style:!1);let e=!0;return Fr.style&&!uR(t)&&(e=t in Fr.style,!e&&Qw&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Fr.style)),e}function fR(){return typeof document<"u"?document.body:null}function ox(t,e){for(;e;){if(e===t)return!0;e=pg(e)}return!1}function sx(t,e,i){if(i)return Array.from(t.querySelectorAll(e));let n=t.querySelector(e);return n?[n]:[]}var gg=(()=>{let e=class e{validateStyleProperty(n){return hR(n)}matchesElement(n,r){return!1}containsElement(n,r){return ox(n,r)}getParentElement(n){return pg(n)}query(n,r,o){return sx(n,r,o)}computeStyle(n,r,o){return o||""}animate(n,r,o,s,a,l=[],d){return new Ji(o,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac});let t=e;return t})(),yg=class yg{};yg.NOOP=new gg;var Lr=yg,Or=class{};var pR=1e3,ax="{{",gR="}}",lx="ng-enter",Kp="ng-leave",cc="ng-trigger",gc=".ng-trigger",qw="ng-animating",$p=".ng-animating";function Ei(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Xp(parseFloat(e[1]),e[2])}function Xp(t,e){switch(e){case"s":return t*pR;default:return t}}function mc(t,e,i){return t.hasOwnProperty("duration")?t:mR(t,e,i)}function mR(t,e,i){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof t=="string"){let a=t.match(n);if(a===null)return e.push(Gw(t)),{duration:0,delay:0,easing:""};r=Xp(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=Xp(parseFloat(l),a[4]));let d=a[5];d&&(s=d)}else r=t;if(!i){let a=!1,l=e.length;r<0&&(e.push(kk()),a=!0),o<0&&(e.push(Rk()),a=!0),a&&e.splice(l,0,Gw(t))}return{duration:r,delay:o,easing:s}}function bR(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function ri(t,e,i){e.forEach((n,r)=>{let o=mg(r);i&&!i.has(r)&&i.set(r,t.style[o]),t.style[o]=n})}function Rr(t,e){e.forEach((i,n)=>{let r=mg(n);t.style[r]=""})}function aa(t){return Array.isArray(t)?t.length==1?t[0]:zw(t):t}function vR(t,e,i){let n=e.params||{},r=dx(t);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||i.push(Lk(o))})}var Jp=new RegExp(`${ax}\\s*(.+?)\\s*${gR}`,"g");function dx(t){let e=[];if(typeof t=="string"){let i;for(;i=Jp.exec(t);)e.push(i[1]);Jp.lastIndex=0}return e}function da(t,e,i){let n=`${t}`,r=n.replace(Jp,(o,s)=>{let a=e[s];return a==null&&(i.push(Ok(s)),a=""),a.toString()});return r==n?t:r}var yR=/-+([a-z0-9])/g;function mg(t){return t.replace(yR,(...e)=>e[1].toUpperCase())}function AR(t,e){return t===0||e===0}function wR(t,e,i){if(i.size&&e.length){let n=e[0],r=[];if(i.forEach((o,s)=>{n.has(s)||r.push(s),n.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,bg(t,a)))}}return e}function vn(t,e,i){switch(e.type){case Le.Trigger:return t.visitTrigger(e,i);case Le.State:return t.visitState(e,i);case Le.Transition:return t.visitTransition(e,i);case Le.Sequence:return t.visitSequence(e,i);case Le.Group:return t.visitGroup(e,i);case Le.Animate:return t.visitAnimate(e,i);case Le.Keyframes:return t.visitKeyframes(e,i);case Le.Style:return t.visitStyle(e,i);case Le.Reference:return t.visitReference(e,i);case Le.AnimateChild:return t.visitAnimateChild(e,i);case Le.AnimateRef:return t.visitAnimateRef(e,i);case Le.Query:return t.visitQuery(e,i);case Le.Stagger:return t.visitStagger(e,i);default:throw Nk(e.type)}}function bg(t,e){return window.getComputedStyle(t)[e]}var xR=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),bc=class extends Or{normalizePropertyName(e,i){return mg(e)}normalizeStyleValue(e,i,n,r){let o="",s=n.toString().trim();if(xR.has(i)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(Bk(e,n))}return s+o}};var vc="*";function _R(t,e){let i=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(n=>CR(n,i,e)):i.push(t),i}function CR(t,e,i){if(t[0]==":"){let l=ER(t,i);if(typeof l=="function"){e.push(l);return}t=l}let n=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return i.push(Kk(t)),e;let r=n[1],o=n[2],s=n[3];e.push(Zw(r,s));let a=r==vc&&s==vc;o[0]=="<"&&!a&&e.push(Zw(s,r))}function ER(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,n)=>parseFloat(n)>parseFloat(i);case":decrement":return(i,n)=>parseFloat(n)<parseFloat(i);default:return e.push($k(t)),"* => *"}}var uc=new Set(["true","1"]),hc=new Set(["false","0"]);function Zw(t,e){let i=uc.has(t)||hc.has(t),n=uc.has(e)||hc.has(e);return(r,o)=>{let s=t==vc||t==r,a=e==vc||e==o;return!s&&i&&typeof r=="boolean"&&(s=r?uc.has(t):hc.has(t)),!a&&n&&typeof o=="boolean"&&(a=o?uc.has(e):hc.has(e)),s&&a}}var cx=":self",SR=new RegExp(`s*${cx}s*,?`,"g");function ux(t,e,i,n){return new eg(t).build(e,i,n)}var Yw="",eg=class{constructor(e){this._driver=e}build(e,i,n){let r=new tg(i);return this._resetContextStyleTimingState(r),vn(this,aa(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=Yw,e.collectedStyles=new Map,e.collectedStyles.set(Yw,new Map),e.currentTime=0}visitTrigger(e,i){let n=i.queryCount=0,r=i.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&i.errors.push(Vk()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(i),a.type==Le.State){let l=a,d=l.name;d.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,i))}),l.name=d}else if(a.type==Le.Transition){let l=this.visitTransition(a,i);n+=l.queryCount,r+=l.depCount,s.push(l)}else i.errors.push(jk())}),{type:Le.Trigger,name:e.name,states:o,transitions:s,queryCount:n,depCount:r,options:null}}visitState(e,i){let n=this.visitStyle(e.styles,i),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){let o=new Set,s=r||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{dx(l).forEach(d=>{s.hasOwnProperty(d)||o.add(d)})})}),o.size&&i.errors.push(Hk(e.name,[...o.values()]))}return{type:Le.State,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,i){i.queryCount=0,i.depCount=0;let n=vn(this,aa(e.animation),i),r=_R(e.expr,i.errors);return{type:Le.Transition,matchers:r,animation:n,queryCount:i.queryCount,depCount:i.depCount,options:kr(e.options)}}visitSequence(e,i){return{type:Le.Sequence,steps:e.steps.map(n=>vn(this,n,i)),options:kr(e.options)}}visitGroup(e,i){let n=i.currentTime,r=0,o=e.steps.map(s=>{i.currentTime=n;let a=vn(this,s,i);return r=Math.max(r,i.currentTime),a});return i.currentTime=r,{type:Le.Group,steps:o,options:kr(e.options)}}visitAnimate(e,i){let n=MR(e.timings,i.errors);i.currentAnimateTimings=n;let r,o=e.styles?e.styles:Ci({});if(o.type==Le.Keyframes)r=this.visitKeyframes(o,i);else{let s=e.styles,a=!1;if(!s){a=!0;let d={};n.easing&&(d.easing=n.easing),s=Ci(d)}i.currentTime+=n.duration+n.delay;let l=this.visitStyle(s,i);l.isEmptyStep=a,r=l}return i.currentAnimateTimings=null,{type:Le.Animate,timings:n,style:r,options:null}}visitStyle(e,i){let n=this._makeStyleAst(e,i);return this._validateStyleAst(n,i),n}_makeStyleAst(e,i){let n=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===ii?n.push(a):i.errors.push(Uk(a)):n.push(new Map(Object.entries(a)));let o=!1,s=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(ax)>=0){o=!0;break}}}),{type:Le.Style,styles:n,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,i){let n=i.currentAnimateTimings,r=i.currentTime,o=i.currentTime;n&&o>0&&(o-=n.duration+n.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let d=i.collectedStyles.get(i.currentQuerySelector),u=d.get(l),c=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(i.errors.push(zk(l,u.startTime,u.endTime,o,r)),c=!1),o=u.startTime),c&&d.set(l,{startTime:o,endTime:r}),i.options&&vR(a,i.options,i.errors)})})}visitKeyframes(e,i){let n={type:Le.Keyframes,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push(Gk()),n;let r=1,o=0,s=[],a=!1,l=!1,d=0,u=e.steps.map(m=>{let x=this._makeStyleAst(m,i),b=x.offset!=null?x.offset:TR(x.styles),A=0;return b!=null&&(o++,A=x.offset=b),l=l||A<0||A>1,a=a||A<d,d=A,s.push(A),x});l&&i.errors.push(Wk()),a&&i.errors.push(Qk());let c=e.steps.length,h=0;o>0&&o<c?i.errors.push(qk()):o==0&&(h=r/(c-1));let g=c-1,p=i.currentTime,f=i.currentAnimateTimings,v=f.duration;return u.forEach((m,x)=>{let b=h>0?x==g?1:h*x:s[x],A=b*v;i.currentTime=p+f.delay+A,f.duration=A,this._validateStyleAst(m,i),m.offset=b,n.styles.push(m)}),n}visitReference(e,i){return{type:Le.Reference,animation:vn(this,aa(e.animation),i),options:kr(e.options)}}visitAnimateChild(e,i){return i.depCount++,{type:Le.AnimateChild,options:kr(e.options)}}visitAnimateRef(e,i){return{type:Le.AnimateRef,animation:this.visitReference(e.animation,i),options:kr(e.options)}}visitQuery(e,i){let n=i.currentQuerySelector,r=e.options||{};i.queryCount++,i.currentQuery=e;let[o,s]=DR(e.selector);i.currentQuerySelector=n.length?n+" "+o:o,yn(i.collectedStyles,i.currentQuerySelector,new Map);let a=vn(this,aa(e.animation),i);return i.currentQuery=null,i.currentQuerySelector=n,{type:Le.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:kr(e.options)}}visitStagger(e,i){i.currentQuery||i.errors.push(Zk());let n=e.timings==="full"?{duration:0,delay:0,easing:"full"}:mc(e.timings,i.errors,!0);return{type:Le.Stagger,animation:vn(this,aa(e.animation),i),timings:n,options:null}}};function DR(t){let e=!!t.split(/\s*,\s*/).find(i=>i==cx);return e&&(t=t.replace(SR,"")),t=t.replace(/@\*/g,gc).replace(/@\w+/g,i=>gc+"-"+i.slice(1)).replace(/:animating/g,$p),[t,e]}function IR(t){return t?le({},t):null}var tg=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function TR(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(i=>{if(i instanceof Map&&i.has("offset")){let n=i;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}return e}function MR(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=mc(t,e).duration;return Wp(o,0,"")}let i=t;if(i.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Wp(0,0,"");return o.dynamic=!0,o.strValue=i,o}let r=mc(i,e);return Wp(r.duration,r.delay,r.easing)}function kr(t){return t?(t=le({},t),t.params&&(t.params=IR(t.params))):t={},t}function Wp(t,e,i){return{duration:t,delay:e,easing:i}}function vg(t,e,i,n,r,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:i,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var ca=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,i){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...i)}has(e){return this._map.has(e)}clear(){this._map.clear()}},PR=1,FR=":enter",kR=new RegExp(FR,"g"),RR=":leave",LR=new RegExp(RR,"g");function hx(t,e,i,n,r,o=new Map,s=new Map,a,l,d=[]){return new ng().buildKeyframes(t,e,i,n,r,o,s,a,l,d)}var ng=class{buildKeyframes(e,i,n,r,o,s,a,l,d,u=[]){d=d||new ca;let c=new ig(e,i,d,r,o,u,[]);c.options=l;let h=l.delay?Ei(l.delay):0;c.currentTimeline.delayNextStep(h),c.currentTimeline.setStyles([s],null,c.errors,l),vn(this,n,c);let g=c.timelines.filter(p=>p.containsAnimation());if(g.length&&a.size){let p;for(let f=g.length-1;f>=0;f--){let v=g[f];if(v.element===i){p=v;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,c.errors,l)}return g.length?g.map(p=>p.buildKeyframes()):[vg(i,[],[],[],0,h,"",!1)]}visitTrigger(e,i){}visitState(e,i){}visitTransition(e,i){}visitAnimateChild(e,i){let n=i.subInstructions.get(i.element);if(n){let r=i.createSubContext(e.options),o=i.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);o!=s&&i.transformIntoNewTimeline(s)}i.previousNode=e}visitAnimateRef(e,i){let n=i.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],i,n),this.visitReference(e.animation,n),i.transformIntoNewTimeline(n.currentTimeline.currentTime),i.previousNode=e}_applyAnimationRefDelays(e,i,n){for(let r of e){let o=r?.delay;if(o){let s=typeof o=="number"?o:Ei(da(o,r?.params??{},i.errors));n.delayNextStep(s)}}}_visitSubInstructions(e,i,n){let o=i.currentTimeline.currentTime,s=n.duration!=null?Ei(n.duration):null,a=n.delay!=null?Ei(n.delay):null;return s!==0&&e.forEach(l=>{let d=i.appendInstructionToTimeline(l,s,a);o=Math.max(o,d.duration+d.delay)}),o}visitReference(e,i){i.updateOptions(e.options,!0),vn(this,e.animation,i),i.previousNode=e}visitSequence(e,i){let n=i.subContextCount,r=i,o=e.options;if(o&&(o.params||o.delay)&&(r=i.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==Le.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=yc);let s=Ei(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>vn(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),i.previousNode=e}visitGroup(e,i){let n=[],r=i.currentTimeline.currentTime,o=e.options&&e.options.delay?Ei(e.options.delay):0;e.steps.forEach(s=>{let a=i.createSubContext(e.options);o&&a.delayNextStep(o),vn(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(s=>i.currentTimeline.mergeTimelineCollectedStyles(s)),i.transformIntoNewTimeline(r),i.previousNode=e}_visitTiming(e,i){if(e.dynamic){let n=e.strValue,r=i.params?da(n,i.params,i.errors):n;return mc(r,i.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,i){let n=i.currentAnimateTimings=this._visitTiming(e.timings,i),r=i.currentTimeline;n.delay&&(i.incrementTime(n.delay),r.snapshotCurrentStyles());let o=e.style;o.type==Le.Keyframes?this.visitKeyframes(o,i):(i.incrementTime(n.duration),this.visitStyle(o,i),r.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=e}visitStyle(e,i){let n=i.currentTimeline,r=i.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(o):n.setStyles(e.styles,o,i.errors,i.options),i.previousNode=e}visitKeyframes(e,i){let n=i.currentAnimateTimings,r=i.currentTimeline.duration,o=n.duration,a=i.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(l=>{let d=l.offset||0;a.forwardTime(d*o),a.setStyles(l.styles,l.easing,i.errors,i.options),a.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(a),i.transformIntoNewTimeline(r+o),i.previousNode=e}visitQuery(e,i){let n=i.currentTimeline.currentTime,r=e.options||{},o=r.delay?Ei(r.delay):0;o&&(i.previousNode.type===Le.Style||n==0&&i.currentTimeline.hasCurrentStyleProperties())&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=yc);let s=n,a=i.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,i.errors);i.currentQueryTotal=a.length;let l=null;a.forEach((d,u)=>{i.currentQueryIndex=u;let c=i.createSubContext(e.options,d);o&&c.delayNextStep(o),d===i.element&&(l=c.currentTimeline),vn(this,e.animation,c),c.currentTimeline.applyStylesToKeyframe();let h=c.currentTimeline.currentTime;s=Math.max(s,h)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(s),l&&(i.currentTimeline.mergeTimelineCollectedStyles(l),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=e}visitStagger(e,i){let n=i.parentContext,r=i.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(i.currentQueryTotal-1),l=s*i.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break}let u=i.currentTimeline;l&&u.delayNextStep(l);let c=u.currentTime;vn(this,e.animation,i),i.previousNode=e,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}},yc={},ig=class t{constructor(e,i,n,r,o,s,a,l){this._driver=e,this.element=i,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Ac(this._driver,i,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,i){if(!e)return;let n=e,r=this.options;n.duration!=null&&(r.duration=Ei(n.duration)),n.delay!=null&&(r.delay=Ei(n.delay));let o=n.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!i||!s.hasOwnProperty(a))&&(s[a]=da(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let i=this.options.params;if(i){let n=e.params={};Object.keys(i).forEach(r=>{n[r]=i[r]})}}return e}createSubContext(e=null,i,n){let r=i||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=yc,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,i,n){let r={duration:i??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},o=new rg(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,i,n,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(kR,"."+this._enterClassName),e=e.replace(LR,"."+this._leaveClassName);let l=n!=1,d=this._driver.query(this.element,e,l);n!==0&&(d=n<0?d.slice(d.length+n,d.length):d.slice(0,n)),a.push(...d)}return!o&&a.length==0&&s.push(Yk(i)),a}},Ac=class t{constructor(e,i,n,r){this._driver=e,this.element=i,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let i=this._keyframes.size===1&&this._pendingStyles.size;this.duration||i?(this.forwardTime(this.currentTime+e),i&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,i){return this.applyStylesToKeyframe(),new t(this._driver,e,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=PR,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,i){this._localTimelineStyles.set(e,i),this._globalTimelineStyles.set(e,i),this._styleSummary.set(e,{time:this.currentTime,value:i})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[i,n]of this._globalTimelineStyles)this._backFill.set(i,n||ii),this._currentKeyframe.set(i,ii);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,i,n,r){i&&this._previousKeyframe.set("easing",i);let o=r&&r.params||{},s=OR(e,this._globalTimelineStyles);for(let[a,l]of s){let d=da(l,o,n);this._pendingStyles.set(a,d),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ii),this._updateStyle(a,d)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,i)=>{this._currentKeyframe.set(i,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,i)=>{this._currentKeyframe.has(i)||this._currentKeyframe.set(i,e)}))}snapshotCurrentStyles(){for(let[e,i]of this._localTimelineStyles)this._pendingStyles.set(e,i),this._updateStyle(e,i)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let i in this._currentKeyframe)e.push(i);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((i,n)=>{let r=this._styleSummary.get(n);(!r||i.time>r.time)&&this._updateStyle(n,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,i=new Set,n=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let d=new Map([...this._backFill,...a]);d.forEach((u,c)=>{u===dc?e.add(c):u===ii&&i.add(c)}),n||d.set("offset",l/this.duration),r.push(d)});let o=[...e.values()],s=[...i.values()];if(n){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return vg(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},rg=class extends Ac{constructor(e,i,n,r,o,s,a=!1){super(e,i,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:i,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&i){let o=[],s=n+i,a=i/s,l=new Map(e[0]);l.set("offset",0),o.push(l);let d=new Map(e[0]);d.set("offset",Kw(a)),o.push(d);let u=e.length-1;for(let c=1;c<=u;c++){let h=new Map(e[c]),g=h.get("offset"),p=i+g*n;h.set("offset",Kw(p/s)),o.push(h)}n=s,i=0,r="",e=o}return vg(this.element,e,this.preStyleProps,this.postStyleProps,n,i,r,!0)}};function Kw(t,e=3){let i=Math.pow(10,e-1);return Math.round(t*i)/i}function OR(t,e){let i=new Map,n;return t.forEach(r=>{if(r==="*"){n??=e.keys();for(let o of n)i.set(o,ii)}else for(let[o,s]of r)i.set(o,s)}),i}function $w(t,e,i,n,r,o,s,a,l,d,u,c,h){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:i,fromStyles:o,toState:n,toStyles:s,timelines:a,queriedElements:l,preStyleProps:d,postStyleProps:u,totalTime:c,errors:h}}var Qp={},wc=class{constructor(e,i,n){this._triggerName=e,this.ast=i,this._stateStyles=n}match(e,i,n,r){return NR(this.ast.matchers,e,i,n,r)}buildStyles(e,i,n){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(i,n):new Map}build(e,i,n,r,o,s,a,l,d,u){let c=[],h=this.ast.options&&this.ast.options.params||Qp,g=a&&a.params||Qp,p=this.buildStyles(n,g,c),f=l&&l.params||Qp,v=this.buildStyles(r,f,c),m=new Set,x=new Map,b=new Map,A=r==="void",_={params:fx(f,h),delay:this.ast.options?.delay},S=u?[]:hx(e,i,this.ast.animation,o,s,p,v,_,d,c),D=0;return S.forEach(F=>{D=Math.max(F.duration+F.delay,D)}),c.length?$w(i,this._triggerName,n,r,A,p,v,[],[],x,b,D,c):(S.forEach(F=>{let k=F.element,U=yn(x,k,new Set);F.preStyleProps.forEach(G=>U.add(G));let Q=yn(b,k,new Set);F.postStyleProps.forEach(G=>Q.add(G)),k!==i&&m.add(k)}),$w(i,this._triggerName,n,r,A,p,v,S,[...m.values()],x,b,D))}};function NR(t,e,i,n,r){return t.some(o=>o(e,i,n,r))}function fx(t,e){let i=le({},e);return Object.entries(t).forEach(([n,r])=>{r!=null&&(i[n]=r)}),i}var og=class{constructor(e,i,n){this.styles=e,this.defaultParams=i,this.normalizer=n}buildStyles(e,i){let n=new Map,r=fx(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=da(s,r,i));let l=this.normalizer.normalizePropertyName(a,i);s=this.normalizer.normalizeStyleValue(a,l,s,i),n.set(a,s)})}),n}};function BR(t,e,i){return new sg(t,e,i)}var sg=class{constructor(e,i,n){this.name=e,this.ast=i,this._normalizer=n,this.transitionFactories=[],this.states=new Map,i.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new og(r.style,o,n))}),Xw(this.states,"true","1"),Xw(this.states,"false","0"),i.transitions.forEach(r=>{this.transitionFactories.push(new wc(e,r,this.states))}),this.fallbackTransition=VR(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,i,n,r){return this.transitionFactories.find(s=>s.match(e,i,n,r))||null}matchStyles(e,i,n){return this.fallbackTransition.buildStyles(e,i,n)}};function VR(t,e,i){let n=[(s,a)=>!0],r={type:Le.Sequence,steps:[],options:null},o={type:Le.Transition,animation:r,matchers:n,options:null,queryCount:0,depCount:0};return new wc(t,o,e)}function Xw(t,e,i){t.has(e)?t.has(i)||t.set(i,t.get(e)):t.has(i)&&t.set(e,t.get(i))}var jR=new ca,ag=class{constructor(e,i,n){this.bodyNode=e,this._driver=i,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,i){let n=[],r=[],o=ux(this._driver,i,n,r);if(n.length)throw eR(n);r.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,i,n){let r=e.element,o=rx(this._normalizer,e.keyframes,i,n);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,i,n={}){let r=[],o=this._animations.get(e),s,a=new Map;if(o?(s=hx(this._driver,i,o,lx,Kp,new Map,new Map,n,jR,r),s.forEach(u=>{let c=yn(a,u.element,new Map);u.postStyleProps.forEach(h=>c.set(h,null))})):(r.push(tR()),s=[]),r.length)throw nR(r);a.forEach((u,c)=>{u.forEach((h,g)=>{u.set(g,this._driver.computeStyle(c,g,ii))})});let l=s.map(u=>{let c=a.get(u.element);return this._buildPlayer(u,new Map,c)}),d=er(l);return this._playersById.set(e,d),d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){let i=this._getPlayer(e);i.destroy(),this._playersById.delete(e);let n=this.players.indexOf(i);n>=0&&this.players.splice(n,1)}_getPlayer(e){let i=this._playersById.get(e);if(!i)throw iR(e);return i}listen(e,i,n,r){let o=fg(i,"","","");return hg(this._getPlayer(e),n,o,r),()=>{}}command(e,i,n,r){if(n=="register"){this.register(e,r[0]);return}if(n=="create"){let s=r[0]||{};this.create(e,i,s);return}let o=this._getPlayer(e);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},Jw="ng-animate-queued",HR=".ng-animate-queued",qp="ng-animate-disabled",UR=".ng-animate-disabled",zR="ng-star-inserted",GR=".ng-star-inserted",WR=[],px={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},QR={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hn="__ng_removed",ua=class{get params(){return this.options.params}constructor(e,i=""){this.namespaceId=i;let n=e&&e.hasOwnProperty("value"),r=n?e.value:e;if(this.value=ZR(r),n){let o=e,{value:s}=o,a=ju(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let i=e.params;if(i){let n=this.options.params;Object.keys(i).forEach(r=>{n[r]==null&&(n[r]=i[r])})}}},la="void",Zp=new ua(la),lg=class{constructor(e,i,n){this.id=e,this.hostElement=i,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Mn(i,this._hostClassName)}listen(e,i,n,r){if(!this._triggers.has(i))throw rR(n,i);if(n==null||n.length==0)throw oR(i);if(!YR(n))throw sR(n,i);let o=yn(this._elementListeners,e,[]),s={name:i,phase:n,callback:r};o.push(s);let a=yn(this._engine.statesByElement,e,new Map);return a.has(i)||(Mn(e,cc),Mn(e,cc+"-"+i),a.set(i,Zp)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(i)||a.delete(i)})}}register(e,i){return this._triggers.has(e)?!1:(this._triggers.set(e,i),!0)}_getTrigger(e){let i=this._triggers.get(e);if(!i)throw aR(e);return i}trigger(e,i,n,r=!0){let o=this._getTrigger(i),s=new ha(this.id,i,e),a=this._engine.statesByElement.get(e);a||(Mn(e,cc),Mn(e,cc+"-"+i),this._engine.statesByElement.set(e,a=new Map));let l=a.get(i),d=new ua(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&d.absorbOptions(l.options),a.set(i,d),l||(l=Zp),!(d.value===la)&&l.value===d.value){if(!XR(l.params,d.params)){let f=[],v=o.matchStyles(l.value,l.params,f),m=o.matchStyles(d.value,d.params,f);f.length?this._engine.reportError(f):this._engine.afterFlush(()=>{Rr(e,v),ri(e,m)})}return}let h=yn(this._engine.playersByElement,e,[]);h.forEach(f=>{f.namespaceId==this.id&&f.triggerName==i&&f.queued&&f.destroy()});let g=o.matchTransition(l.value,d.value,e,d.params),p=!1;if(!g){if(!r)return;g=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:g,fromState:l,toState:d,player:s,isFallbackTransition:p}),p||(Mn(e,Jw),s.onStart(()=>{Uo(e,Jw)})),s.onDone(()=>{let f=this.players.indexOf(s);f>=0&&this.players.splice(f,1);let v=this._engine.playersByElement.get(e);if(v){let m=v.indexOf(s);m>=0&&v.splice(m,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(i=>i.delete(e)),this._elementListeners.forEach((i,n)=>{this._elementListeners.set(n,i.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let i=this._engine.playersByElement.get(e);i&&(i.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,i){let n=this._engine.driver.query(e,gc,!0);n.forEach(r=>{if(r[Hn])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,i,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,i,n,r){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((l,d)=>{if(s.set(d,l.value),this._triggers.has(d)){let u=this.trigger(e,d,la,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,i,s),n&&er(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let i=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(i&&n){let r=new Set;i.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let l=this._triggers.get(s).fallbackTransition,d=n.get(s)||Zp,u=new ua(la),c=new ha(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:d,toState:u,player:c,isFallbackTransition:!0})})}}removeNode(e,i){let n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,i),this.triggerLeaveAnimation(e,i,!0))return;let r=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(n.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,i);else{let o=e[Hn];(!o||o===px)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,i))}}insertNode(e,i){Mn(e,this._hostClassName)}drainQueuedTransitions(e){let i=[];return this._queue.forEach(n=>{let r=n.player;if(r.destroyed)return;let o=n.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==n.triggerName){let l=fg(o,n.triggerName,n.fromState.value,n.toState.value);l._data=e,hg(n.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):i.push(n)}),this._queue=[],i.sort((n,r)=>{let o=n.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(e){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},dg=class{_onRemovalComplete(e,i){this.onRemovalComplete(e,i)}constructor(e,i,n,r){this.bodyNode=e,this.driver=i,this._normalizer=n,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(i=>{i.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,i){let n=new lg(e,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(n,i):(this.newHostElements.set(i,n),this.collectEnterElement(i)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,i){let n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,a=this.driver.getParentElement(i);for(;a;){let l=r.get(a);if(l){let d=n.indexOf(l);n.splice(d+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||n.unshift(e)}else n.push(e);return r.set(i,e),e}register(e,i){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,i)),n}registerTrigger(e,i,n){let r=this._namespaceLookup[e];r&&r.register(i,n)&&this.totalAnimations++}destroy(e,i){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(e);this.namespacesByHostElement.delete(n.hostElement);let r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(i),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let i=new Set,n=this.statesByElement.get(e);if(n){for(let r of n.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&i.add(o)}}return i}trigger(e,i,n,r){if(fc(i)){let o=this._fetchNamespace(e);if(o)return o.trigger(i,n,r),!0}return!1}insertNode(e,i,n,r){if(!fc(i))return;let o=i[Hn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(i);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(i,n)}r&&this.collectEnterElement(i)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,i){i?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Mn(e,qp)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Uo(e,qp))}removeNode(e,i,n){if(fc(i)){this.scheduler?.notify();let r=e?this._fetchNamespace(e):null;r?r.removeNode(i,n):this.markElementAsRemoved(e,i,!1,n);let o=this.namespacesByHostElement.get(i);o&&o.id!==e&&o.removeNode(i,n)}else this._onRemovalComplete(i,n)}markElementAsRemoved(e,i,n,r,o){this.collectedLeaveElements.push(i),i[Hn]={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,i,n,r,o){return fc(i)?this._fetchNamespace(e).listen(i,n,r,o):()=>{}}_buildInstruction(e,i,n,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,i,o)}destroyInnerAnimations(e){let i=this.driver.query(e,gc,!0);i.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(i=this.driver.query(e,$p,!0),i.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){let i=this.playersByElement.get(e);i&&i.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){let i=this.playersByQueriedElement.get(e);i&&i.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return er(this.players).onDone(()=>e());e()})}processLeaveNode(e){let i=e[Hn];if(i&&i.setForRemoval){if(e[Hn]=px,i.namespaceId){this.destroyInnerAnimations(e);let n=this._fetchNamespace(i.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}e.classList?.contains(qp)&&this.markElementAsDisabled(e,!1),this.driver.query(e,UR,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let r=this.collectedEnterElements[n];Mn(r,zR)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{i=this._flushAnimations(n,e)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let r=this.collectedLeaveElements[n];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],i.length?er(i).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(e){throw lR(e)}_flushAnimations(e,i){let n=new ca,r=[],o=new Map,s=[],a=new Map,l=new Map,d=new Map,u=new Set;this.disabledNodes.forEach(N=>{u.add(N);let I=this.driver.query(N,HR,!0);for(let y=0;y<I.length;y++)u.add(I[y])});let c=this.bodyNode,h=Array.from(this.statesByElement.keys()),g=nx(h,this.collectedEnterElements),p=new Map,f=0;g.forEach((N,I)=>{let y=lx+f++;p.set(I,y),N.forEach(w=>Mn(w,y))});let v=[],m=new Set,x=new Set;for(let N=0;N<this.collectedLeaveElements.length;N++){let I=this.collectedLeaveElements[N],y=I[Hn];y&&y.setForRemoval&&(v.push(I),m.add(I),y.hasAnimation?this.driver.query(I,GR,!0).forEach(w=>m.add(w)):x.add(I))}let b=new Map,A=nx(h,Array.from(m));A.forEach((N,I)=>{let y=Kp+f++;b.set(I,y),N.forEach(w=>Mn(w,y))}),e.push(()=>{g.forEach((N,I)=>{let y=p.get(I);N.forEach(w=>Uo(w,y))}),A.forEach((N,I)=>{let y=b.get(I);N.forEach(w=>Uo(w,y))}),v.forEach(N=>{this.processLeaveNode(N)})});let _=[],S=[];for(let N=this._namespaceList.length-1;N>=0;N--)this._namespaceList[N].drainQueuedTransitions(i).forEach(y=>{let w=y.player,C=y.element;if(_.push(w),this.collectedEnterElements.length){let T=C[Hn];if(T&&T.setForMove){if(T.previousTriggersValues&&T.previousTriggersValues.has(y.triggerName)){let P=T.previousTriggersValues.get(y.triggerName),O=this.statesByElement.get(y.element);if(O&&O.has(y.triggerName)){let j=O.get(y.triggerName);j.value=P,O.set(y.triggerName,j)}}w.destroy();return}}let M=!c||!this.driver.containsElement(c,C),R=b.get(C),L=p.get(C),V=this._buildInstruction(y,n,L,R,M);if(V.errors&&V.errors.length){S.push(V);return}if(M){w.onStart(()=>Rr(C,V.fromStyles)),w.onDestroy(()=>ri(C,V.toStyles)),r.push(w);return}if(y.isFallbackTransition){w.onStart(()=>Rr(C,V.fromStyles)),w.onDestroy(()=>ri(C,V.toStyles)),r.push(w);return}let B=[];V.timelines.forEach(T=>{T.stretchStartingKeyframe=!0,this.disabledNodes.has(T.element)||B.push(T)}),V.timelines=B,n.append(C,V.timelines);let E={instruction:V,player:w,element:C};s.push(E),V.queriedElements.forEach(T=>yn(a,T,[]).push(w)),V.preStyleProps.forEach((T,P)=>{if(T.size){let O=l.get(P);O||l.set(P,O=new Set),T.forEach((j,z)=>O.add(z))}}),V.postStyleProps.forEach((T,P)=>{let O=d.get(P);O||d.set(P,O=new Set),T.forEach((j,z)=>O.add(z))})});if(S.length){let N=[];S.forEach(I=>{N.push(dR(I.triggerName,I.errors))}),_.forEach(I=>I.destroy()),this.reportError(N)}let D=new Map,F=new Map;s.forEach(N=>{let I=N.element;n.has(I)&&(F.set(I,I),this._beforeAnimationBuild(N.player.namespaceId,N.instruction,D))}),r.forEach(N=>{let I=N.element;this._getPreviousPlayers(I,!1,N.namespaceId,N.triggerName,null).forEach(w=>{yn(D,I,[]).push(w),w.destroy()})});let k=v.filter(N=>ix(N,l,d)),U=new Map;tx(U,this.driver,x,d,ii).forEach(N=>{ix(N,l,d)&&k.push(N)});let G=new Map;g.forEach((N,I)=>{tx(G,this.driver,new Set(N),l,dc)}),k.forEach(N=>{let I=U.get(N),y=G.get(N);U.set(N,new Map([...I?.entries()??[],...y?.entries()??[]]))});let K=[],Y=[],H={};s.forEach(N=>{let{element:I,player:y,instruction:w}=N;if(n.has(I)){if(u.has(I)){y.onDestroy(()=>ri(I,w.toStyles)),y.disabled=!0,y.overrideTotalTime(w.totalTime),r.push(y);return}let C=H;if(F.size>1){let R=I,L=[];for(;R=R.parentNode;){let V=F.get(R);if(V){C=V;break}L.push(R)}L.forEach(V=>F.set(V,C))}let M=this._buildAnimation(y.namespaceId,w,D,o,G,U);if(y.setRealPlayer(M),C===H)K.push(y);else{let R=this.playersByElement.get(C);R&&R.length&&(y.parentPlayer=er(R)),r.push(y)}}else Rr(I,w.fromStyles),y.onDestroy(()=>ri(I,w.toStyles)),Y.push(y),u.has(I)&&r.push(y)}),Y.forEach(N=>{let I=o.get(N.element);if(I&&I.length){let y=er(I);N.setRealPlayer(y)}}),r.forEach(N=>{N.parentPlayer?N.syncPlayerEvents(N.parentPlayer):N.destroy()});for(let N=0;N<v.length;N++){let I=v[N],y=I[Hn];if(Uo(I,Kp),y&&y.hasAnimation)continue;let w=[];if(a.size){let M=a.get(I);M&&M.length&&w.push(...M);let R=this.driver.query(I,$p,!0);for(let L=0;L<R.length;L++){let V=a.get(R[L]);V&&V.length&&w.push(...V)}}let C=w.filter(M=>!M.destroyed);C.length?KR(this,I,C):this.processLeaveNode(I)}return v.length=0,K.forEach(N=>{this.players.push(N),N.onDone(()=>{N.destroy();let I=this.players.indexOf(N);this.players.splice(I,1)}),N.play()}),K}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,i,n,r,o){let s=[];if(i){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let l=!o||o==la;a.forEach(d=>{d.queued||!l&&d.triggerName!=r||s.push(d)})}}return(n||r)&&(s=s.filter(a=>!(n&&n!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,i,n){let r=i.triggerName,o=i.element,s=i.isRemovalTransition?void 0:e,a=i.isRemovalTransition?void 0:r;for(let l of i.timelines){let d=l.element,u=d!==o,c=yn(n,d,[]);this._getPreviousPlayers(d,u,s,a,i.toState).forEach(g=>{let p=g.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),g.destroy(),c.push(g)})}Rr(o,i.fromStyles)}_buildAnimation(e,i,n,r,o,s){let a=i.triggerName,l=i.element,d=[],u=new Set,c=new Set,h=i.timelines.map(p=>{let f=p.element;u.add(f);let v=f[Hn];if(v&&v.removedBeforeQueried)return new Ji(p.duration,p.delay);let m=f!==l,x=$R((n.get(f)||WR).map(D=>D.getRealPlayer())).filter(D=>{let F=D;return F.element?F.element===f:!1}),b=o.get(f),A=s.get(f),_=rx(this._normalizer,p.keyframes,b,A),S=this._buildPlayer(p,_,x);if(p.subTimeline&&r&&c.add(f),m){let D=new ha(e,a,f);D.setRealPlayer(S),d.push(D)}return S});d.forEach(p=>{yn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>qR(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Mn(p,qw));let g=er(h);return g.onDestroy(()=>{u.forEach(p=>Uo(p,qw)),ri(l,i.toStyles)}),c.forEach(p=>{yn(r,p,[]).push(g)}),g}_buildPlayer(e,i,n){return i.length>0?this.driver.animate(e.element,i,e.duration,e.delay,e.easing,n):new Ji(e.duration,e.delay)}},ha=class{constructor(e,i,n){this.namespaceId=e,this.triggerName=i,this.element=n,this._player=new Ji,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((i,n)=>{i.forEach(r=>hg(e,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let i=this._player;i.triggerCallback&&e.onStart(()=>i.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,i){yn(this._queuedCallbacks,e,[]).push(i)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let i=this._player;i.triggerCallback&&i.triggerCallback(e)}};function qR(t,e,i){let n=t.get(e);if(n){if(n.length){let r=n.indexOf(i);n.splice(r,1)}n.length==0&&t.delete(e)}return n}function ZR(t){return t??null}function fc(t){return t&&t.nodeType===1}function YR(t){return t=="start"||t=="done"}function ex(t,e){let i=t.style.display;return t.style.display=e??"none",i}function tx(t,e,i,n,r){let o=[];i.forEach(l=>o.push(ex(l)));let s=[];n.forEach((l,d)=>{let u=new Map;l.forEach(c=>{let h=e.computeStyle(d,c,r);u.set(c,h),(!h||h.length==0)&&(d[Hn]=QR,s.push(d))}),t.set(d,u)});let a=0;return i.forEach(l=>ex(l,o[a++])),s}function nx(t,e){let i=new Map;if(t.forEach(a=>i.set(a,[])),e.length==0)return i;let n=1,r=new Set(e),o=new Map;function s(a){if(!a)return n;let l=o.get(a);if(l)return l;let d=a.parentNode;return i.has(d)?l=d:r.has(d)?l=n:l=s(d),o.set(a,l),l}return e.forEach(a=>{let l=s(a);l!==n&&i.get(l).push(a)}),i}function Mn(t,e){t.classList?.add(e)}function Uo(t,e){t.classList?.remove(e)}function KR(t,e,i){er(i).onDone(()=>t.processLeaveNode(e))}function $R(t){let e=[];return gx(t,e),e}function gx(t,e){for(let i=0;i<t.length;i++){let n=t[i];n instanceof sa?gx(n.players,e):e.push(n)}}function XR(t,e){let i=Object.keys(t),n=Object.keys(e);if(i.length!=n.length)return!1;for(let r=0;r<i.length;r++){let o=i[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function ix(t,e,i){let n=i.get(t);if(!n)return!1;let r=e.get(t);return r?n.forEach(o=>r.add(o)):e.set(t,n),i.delete(t),!0}var Go=class{constructor(e,i,n,r){this._driver=i,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new dg(e.body,i,n,r),this._timelineEngine=new ag(e.body,i,n),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,i,n,r,o){let s=e+"-"+r,a=this._triggerCache[s];if(!a){let l=[],d=[],u=ux(this._driver,o,l,d);if(l.length)throw Xk(r,l);d.length&&void 0,a=BR(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(i,r,a)}register(e,i){this._transitionEngine.register(e,i)}destroy(e,i){this._transitionEngine.destroy(e,i)}onInsert(e,i,n,r){this._transitionEngine.insertNode(e,i,n,r)}onRemove(e,i,n){this._transitionEngine.removeNode(e,i,n)}disableAnimations(e,i){this._transitionEngine.markElementAsDisabled(e,i)}process(e,i,n,r){if(n.charAt(0)=="@"){let[o,s]=Ww(n),a=r;this._timelineEngine.command(o,i,s,a)}else this._transitionEngine.trigger(e,i,n,r)}listen(e,i,n,r,o){if(n.charAt(0)=="@"){let[s,a]=Ww(n);return this._timelineEngine.listen(s,i,a,o)}return this._transitionEngine.listen(e,i,n,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function JR(t,e){let i=null,n=null;return Array.isArray(e)&&e.length?(i=Yp(e[0]),e.length>1&&(n=Yp(e[e.length-1]))):e instanceof Map&&(i=Yp(e)),i||n?new cg(t,i,n):null}var zo=class zo{constructor(e,i,n){this._element=e,this._startStyles=i,this._endStyles=n,this._state=0;let r=zo.initialStylesByElement.get(e);r||zo.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&ri(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ri(this._element,this._initialStyles),this._endStyles&&(ri(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(zo.initialStylesByElement.delete(this._element),this._startStyles&&(Rr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Rr(this._element,this._endStyles),this._endStyles=null),ri(this._element,this._initialStyles),this._state=3)}};zo.initialStylesByElement=new WeakMap;var cg=zo;function Yp(t){let e=null;return t.forEach((i,n)=>{eL(n)&&(e=e||new Map,e.set(n,i))}),e}function eL(t){return t==="display"||t==="position"}var xc=class{constructor(e,i,n,r){this.element=e,this.keyframes=i,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let i=()=>this._onFinish();this.domPlayer.addEventListener("finish",i),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",i)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let i=[];return e.forEach(n=>{i.push(Object.fromEntries(n))}),i}_triggerWebAnimation(e,i,n){return e.animate(this._convertKeyframesToObject(i),n)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{r!=="offset"&&e.set(r,this._finished?n:bg(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let i=e==="start"?this._onStartFns:this._onDoneFns;i.forEach(n=>n()),i.length=0}},_c=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,i){return!1}containsElement(e,i){return ox(e,i)}getParentElement(e){return pg(e)}query(e,i,n){return sx(e,i,n)}computeStyle(e,i,n){return bg(e,i)}animate(e,i,n,r,o,s=[]){let a=r==0?"both":"forwards",l={duration:n,delay:r,fill:a};o&&(l.easing=o);let d=new Map,u=s.filter(g=>g instanceof xc);AR(n,r)&&u.forEach(g=>{g.currentSnapshot.forEach((p,f)=>d.set(f,p))});let c=bR(i).map(g=>new Map(g));c=wR(e,c,d);let h=JR(e,c);return new xc(e,c,l,h)}};var pc="@",mx="@.disabled",Cc=class{constructor(e,i,n,r){this.namespaceId=e,this.delegate=i,this.engine=n,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,i){return this.delegate.createElement(e,i)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,i){this.delegate.appendChild(e,i),this.engine.onInsert(this.namespaceId,i,e,!1)}insertBefore(e,i,n,r=!0){this.delegate.insertBefore(e,i,n),this.engine.onInsert(this.namespaceId,i,e,r)}removeChild(e,i,n){this.engine.onRemove(this.namespaceId,i,this.delegate)}selectRootElement(e,i){return this.delegate.selectRootElement(e,i)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,i,n,r){this.delegate.setAttribute(e,i,n,r)}removeAttribute(e,i,n){this.delegate.removeAttribute(e,i,n)}addClass(e,i){this.delegate.addClass(e,i)}removeClass(e,i){this.delegate.removeClass(e,i)}setStyle(e,i,n,r){this.delegate.setStyle(e,i,n,r)}removeStyle(e,i,n){this.delegate.removeStyle(e,i,n)}setProperty(e,i,n){i.charAt(0)==pc&&i==mx?this.disableAnimations(e,!!n):this.delegate.setProperty(e,i,n)}setValue(e,i){this.delegate.setValue(e,i)}listen(e,i,n){return this.delegate.listen(e,i,n)}disableAnimations(e,i){this.engine.disableAnimations(e,i)}},ug=class extends Cc{constructor(e,i,n,r,o){super(i,n,r,o),this.factory=e,this.namespaceId=i}setProperty(e,i,n){i.charAt(0)==pc?i.charAt(1)=="."&&i==mx?(n=n===void 0?!0:!!n,this.disableAnimations(e,n)):this.engine.process(this.namespaceId,e,i.slice(1),n):this.delegate.setProperty(e,i,n)}listen(e,i,n){if(i.charAt(0)==pc){let r=tL(e),o=i.slice(1),s="";return o.charAt(0)!=pc&&([o,s]=nL(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,n,a)})}return this.delegate.listen(e,i,n)}};function tL(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function nL(t){let e=t.indexOf("."),i=t.substring(0,e),n=t.slice(e+1);return[i,n]}var Ec=class{constructor(e,i,n){this.delegate=e,this.engine=i,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(r,o)=>{let s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(e,i){let n="",r=this.delegate.createRenderer(e,i);if(!e||!i?.data?.animation){let d=this._rendererCache,u=d.get(r);if(!u){let c=()=>d.delete(r);u=new Cc(n,r,this.engine,c),d.set(r,u)}return u}let o=i.id,s=i.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=d=>{Array.isArray(d)?d.forEach(a):this.engine.registerTrigger(o,s,e,d.name,d)};return i.data.animation.forEach(a),new ug(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,n){if(e>=0&&e<this._microtaskId){this._zone.run(()=>i(n));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([i,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var rL=(()=>{let e=class e extends Go{constructor(n,r,o){super(n,r,o,oe(Io,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(se(je),se(Lr),se(Or))},e.\u0275prov=fe({token:e,factory:e.\u0275fac});let t=e;return t})();function oL(){return new bc}function sL(t,e,i){return new Ec(t,e,i)}var vx=[{provide:Or,useFactory:oL},{provide:Go,useClass:rL},{provide:mi,useFactory:sL,deps:[nc,Go,Ce]}],bx=[{provide:Lr,useFactory:()=>new _c},{provide:In,useValue:"BrowserAnimations"},...vx],aL=[{provide:Lr,useClass:gg},{provide:In,useValue:"NoopAnimations"},...vx],yx=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:n.disableAnimations?aL:bx}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=ke({providers:bx,imports:[rc]});let t=e;return t})();var Oe="primary",Da=Symbol("RouteTitle"),Cg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function Yo(t){return new Cg(t)}function lL(t,e,i){let n=i.path.split("/");if(n.length>t.length||i.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let r={};for(let o=0;o<n.length;o++){let s=n[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:r}}function dL(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!oi(t[i],e[i]))return!1;return!0}function oi(t,e){let i=t?Eg(t):void 0,n=e?Eg(e):void 0;if(!i||!n||i.length!=n.length)return!1;let r;for(let o=0;o<i.length;o++)if(r=i[o],!Ix(t[r],e[r]))return!1;return!0}function Eg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Ix(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let i=[...t].sort(),n=[...e].sort();return i.every((r,o)=>n[o]===r)}else return t===e}function Tx(t){return t.length>0?t[t.length-1]:null}function rr(t){return Dl(t)?t:Lo(t)?rt(Promise.resolve(t)):Ae(t)}var cL={exact:Px,subset:Fx},Mx={exact:uL,subset:hL,ignored:()=>!0};function Ax(t,e,i){return cL[i.paths](t.root,e.root,i.matrixParams)&&Mx[i.queryParams](t.queryParams,e.queryParams)&&!(i.fragment==="exact"&&t.fragment!==e.fragment)}function uL(t,e){return oi(t,e)}function Px(t,e,i){if(!Br(t.segments,e.segments)||!Ic(t.segments,e.segments,i)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!Px(t.children[n],e.children[n],i))return!1;return!0}function hL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(i=>Ix(t[i],e[i]))}function Fx(t,e,i){return kx(t,e,e.segments,i)}function kx(t,e,i,n){if(t.segments.length>i.length){let r=t.segments.slice(0,i.length);return!(!Br(r,i)||e.hasChildren()||!Ic(r,i,n))}else if(t.segments.length===i.length){if(!Br(t.segments,i)||!Ic(t.segments,i,n))return!1;for(let r in e.children)if(!t.children[r]||!Fx(t.children[r],e.children[r],n))return!1;return!0}else{let r=i.slice(0,t.segments.length),o=i.slice(t.segments.length);return!Br(t.segments,r)||!Ic(t.segments,r,n)||!t.children[Oe]?!1:kx(t.children[Oe],e,o,n)}}function Ic(t,e,i){return e.every((n,r)=>Mx[i](t[r].parameters,n.parameters))}var tr=class{constructor(e=new Ke([],{}),i={},n=null){this.root=e,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Yo(this.queryParams),this._queryParamMap}toString(){return gL.serialize(this)}},Ke=class{constructor(e,i){this.segments=e,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tc(this)}},Nr=class{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap??=Yo(this.parameters),this._parameterMap}toString(){return Lx(this)}};function fL(t,e){return Br(t,e)&&t.every((i,n)=>oi(i.parameters,e[n].parameters))}function Br(t,e){return t.length!==e.length?!1:t.every((i,n)=>i.path===e[n].path)}function pL(t,e){let i=[];return Object.entries(t.children).forEach(([n,r])=>{n===Oe&&(i=i.concat(e(r,n)))}),Object.entries(t.children).forEach(([n,r])=>{n!==Oe&&(i=i.concat(e(r,n)))}),i}var Ia=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:()=>new ya,providedIn:"root"});let t=e;return t})(),ya=class{parse(e){let i=new Dg(e);return new tr(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){let i=`/${fa(e.root,!0)}`,n=vL(e.queryParams),r=typeof e.fragment=="string"?`#${mL(e.fragment)}`:"";return`${i}${n}${r}`}},gL=new ya;function Tc(t){return t.segments.map(e=>Lx(e)).join("/")}function fa(t,e){if(!t.hasChildren())return Tc(t);if(e){let i=t.children[Oe]?fa(t.children[Oe],!1):"",n=[];return Object.entries(t.children).forEach(([r,o])=>{r!==Oe&&n.push(`${r}:${fa(o,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=pL(t,(n,r)=>r===Oe?[fa(t.children[Oe],!1)]:[`${r}:${fa(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[Oe]!=null?`${Tc(t)}/${i[0]}`:`${Tc(t)}/(${i.join("//")})`}}function Rx(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sc(t){return Rx(t).replace(/%3B/gi,";")}function mL(t){return encodeURI(t)}function Sg(t){return Rx(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mc(t){return decodeURIComponent(t)}function wx(t){return Mc(t.replace(/\+/g,"%20"))}function Lx(t){return`${Sg(t.path)}${bL(t.parameters)}`}function bL(t){return Object.entries(t).map(([e,i])=>`;${Sg(e)}=${Sg(i)}`).join("")}function vL(t){let e=Object.entries(t).map(([i,n])=>Array.isArray(n)?n.map(r=>`${Sc(i)}=${Sc(r)}`).join("&"):`${Sc(i)}=${Sc(n)}`).filter(i=>i);return e.length?`?${e.join("&")}`:""}var yL=/^[^\/()?;#]+/;function Ag(t){let e=t.match(yL);return e?e[0]:""}var AL=/^[^\/()?;=#]+/;function wL(t){let e=t.match(AL);return e?e[0]:""}var xL=/^[^=?&#]+/;function _L(t){let e=t.match(xL);return e?e[0]:""}var CL=/^[^&#]+/;function EL(t){let e=t.match(CL);return e?e[0]:""}var Dg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ke([],{}):new Ke([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(n[Oe]=new Ke(e,i)),n}parseSegment(){let e=Ag(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ce(4009,!1);return this.capture(e),new Nr(Mc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let i=wL(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let r=Ag(this.remaining);r&&(n=r,this.capture(n))}e[Mc(i)]=Mc(n)}parseQueryParam(e){let i=_L(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let s=EL(this.remaining);s&&(n=s,this.capture(n))}let r=wx(i),o=wx(n);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Ag(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new ce(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Oe);let s=this.parseChildren();i[o]=Object.keys(s).length===1?s[Oe]:new Ke([],s),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ce(4011,!1)}};function Ox(t){return t.segments.length>0?new Ke([],{[Oe]:t}):t}function Nx(t){let e={};for(let[n,r]of Object.entries(t.children)){let o=Nx(r);if(n===Oe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[n]=o)}let i=new Ke(t.segments,e);return SL(i)}function SL(t){if(t.numberOfChildren===1&&t.children[Oe]){let e=t.children[Oe];return new Ke(t.segments.concat(e.segments),e.children)}return t}function Ko(t){return t instanceof tr}function DL(t,e,i=null,n=null){let r=Bx(t);return Vx(r,e,i,n)}function Bx(t){let e;function i(o){let s={};for(let l of o.children){let d=i(l);s[l.outlet]=d}let a=new Ke(o.url,s);return o===t&&(e=a),a}let n=i(t.root),r=Ox(n);return e??r}function Vx(t,e,i,n){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return wg(r,r,r,i,n);let o=IL(e);if(o.toRoot())return wg(r,r,new Ke([],{}),i,n);let s=TL(o,r,t),a=s.processChildren?ma(s.segmentGroup,s.index,o.commands):Hx(s.segmentGroup,s.index,o.commands);return wg(r,s.segmentGroup,a,i,n)}function Pc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Aa(t){return typeof t=="object"&&t!=null&&t.outlets}function wg(t,e,i,n,r){let o={};n&&Object.entries(n).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(u=>`${u}`):`${d}`});let s;t===e?s=i:s=jx(t,e,i);let a=Ox(Nx(s));return new tr(a,o,r)}function jx(t,e,i){let n={};return Object.entries(t.children).forEach(([r,o])=>{o===e?n[r]=i:n[r]=jx(o,e,i)}),new Ke(t.segments,n)}var Fc=class{constructor(e,i,n){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=n,e&&n.length>0&&Pc(n[0]))throw new ce(4003,!1);let r=n.find(Aa);if(r&&r!==Tx(n))throw new ce(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function IL(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Fc(!0,0,t);let e=0,i=!1,n=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,d])=>{a[l]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?i=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Fc(i,e,n)}var qo=class{constructor(e,i,n){this.segmentGroup=e,this.processChildren=i,this.index=n}};function TL(t,e,i){if(t.isAbsolute)return new qo(e,!0,0);if(!i)return new qo(e,!1,NaN);if(i.parent===null)return new qo(i,!0,0);let n=Pc(t.commands[0])?0:1,r=i.segments.length-1+n;return ML(i,r,t.numberOfDoubleDots)}function ML(t,e,i){let n=t,r=e,o=i;for(;o>r;){if(o-=r,n=n.parent,!n)throw new ce(4005,!1);r=n.segments.length}return new qo(n,!1,r-o)}function PL(t){return Aa(t[0])?t[0].outlets:{[Oe]:t}}function Hx(t,e,i){if(t??=new Ke([],{}),t.segments.length===0&&t.hasChildren())return ma(t,e,i);let n=FL(t,e,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let o=new Ke(t.segments.slice(0,n.pathIndex),{});return o.children[Oe]=new Ke(t.segments.slice(n.pathIndex),t.children),ma(o,0,r)}else return n.match&&r.length===0?new Ke(t.segments,{}):n.match&&!t.hasChildren()?Ig(t,e,i):n.match?ma(t,0,r):Ig(t,e,i)}function ma(t,e,i){if(i.length===0)return new Ke(t.segments,{});{let n=PL(i),r={};if(Object.keys(n).some(o=>o!==Oe)&&t.children[Oe]&&t.numberOfChildren===1&&t.children[Oe].segments.length===0){let o=ma(t.children[Oe],e,i);return new Ke(t.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=Hx(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{n[o]===void 0&&(r[o]=s)}),new Ke(t.segments,r)}}function FL(t,e,i){let n=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(n>=i.length)return o;let s=t.segments[r],a=i[n];if(Aa(a))break;let l=`${a}`,d=n<i.length-1?i[n+1]:null;if(r>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!_x(l,d,s))return o;n+=2}else{if(!_x(l,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function Ig(t,e,i){let n=t.segments.slice(0,e),r=0;for(;r<i.length;){let o=i[r];if(Aa(o)){let l=kL(o.outlets);return new Ke(n,l)}if(r===0&&Pc(i[0])){let l=t.segments[e];n.push(new Nr(l.path,xx(i[0]))),r++;continue}let s=Aa(o)?o.outlets[Oe]:`${o}`,a=r<i.length-1?i[r+1]:null;s&&a&&Pc(a)?(n.push(new Nr(s,xx(a))),r+=2):(n.push(new Nr(s,{})),r++)}return new Ke(n,{})}function kL(t){let e={};return Object.entries(t).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[i]=Ig(new Ke([],{}),0,n))}),e}function xx(t){let e={};return Object.entries(t).forEach(([i,n])=>e[i]=`${n}`),e}function _x(t,e,i){return t==i.path&&oi(e,i.parameters)}var ba="imperative",Dt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Dt||{}),Pn=class{constructor(e,i){this.id=e,this.url=i}},$o=class extends Pn{constructor(e,i,n="imperative",r=null){super(e,i),this.type=Dt.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Si=class extends Pn{constructor(e,i,n){super(e,i),this.urlAfterRedirects=n,this.type=Dt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},wn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(wn||{}),kc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(kc||{}),nr=class extends Pn{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=Dt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ir=class extends Pn{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=Dt.NavigationSkipped}},wa=class extends Pn{constructor(e,i,n,r){super(e,i),this.error=n,this.target=r,this.type=Dt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Rc=class extends Pn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=Dt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tg=class extends Pn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=Dt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mg=class extends Pn{constructor(e,i,n,r,o){super(e,i),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o,this.type=Dt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Pg=class extends Pn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=Dt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fg=class extends Pn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=Dt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kg=class{constructor(e){this.route=e,this.type=Dt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Rg=class{constructor(e){this.route=e,this.type=Dt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Lg=class{constructor(e){this.snapshot=e,this.type=Dt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Og=class{constructor(e){this.snapshot=e,this.type=Dt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ng=class{constructor(e){this.snapshot=e,this.type=Dt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bg=class{constructor(e){this.snapshot=e,this.type=Dt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lc=class{constructor(e,i,n){this.routerEvent=e,this.position=i,this.anchor=n,this.type=Dt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},xa=class{},_a=class{constructor(e){this.url=e}};var Vg=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ta,this.attachRef=null}},Ta=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Vg,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Oc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){let i=jg(e,this._root);return i?i.children.map(n=>n.value):[]}firstChild(e){let i=jg(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){let i=Hg(e,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Hg(e,this._root).map(i=>i.value)}};function jg(t,e){if(t===e.value)return e;for(let i of e.children){let n=jg(t,i);if(n)return n}return null}function Hg(t,e){if(t===e.value)return[e];for(let i of e.children){let n=Hg(t,i);if(n.length)return n.unshift(e),n}return[]}var An=class{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}};function Qo(t){let e={};return t&&t.children.forEach(i=>e[i.value.outlet]=i),e}var Nc=class extends Oc{constructor(e,i){super(e),this.snapshot=i,$g(this,e)}toString(){return this.snapshot.toString()}};function Ux(t){let e=RL(t),i=new vt([new Nr("",{})]),n=new vt({}),r=new vt({}),o=new vt({}),s=new vt(""),a=new Xo(i,n,o,s,r,Oe,t,e.root);return a.snapshot=e.root,new Nc(new An(a,[]),e)}function RL(t){let e={},i={},n={},r="",o=new Ca([],e,n,r,i,Oe,t,null,{});return new Bc("",new An(o,[]))}var Xo=class{constructor(e,i,n,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(_e(d=>d[Da]))??Ae(void 0),this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(_e(e=>Yo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(_e(e=>Yo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Kg(t,e,i="emptyOnly"){let n,{routeConfig:r}=t;return e!==null&&(i==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:le(le({},e.params),t.params),data:le(le({},e.data),t.data),resolve:le(le(le(le({},t.data),e.data),r?.data),t._resolvedData)}:n={params:le({},t.params),data:le({},t.data),resolve:le(le({},t.data),t._resolvedData??{})},r&&Gx(r)&&(n.resolve[Da]=r.title),n}var Ca=class{get title(){return this.data?.[Da]}constructor(e,i,n,r,o,s,a,l,d){this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Yo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Yo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${i}')`}},Bc=class extends Oc{constructor(e,i){super(i),this.url=e,$g(this,i)}toString(){return zx(this._root)}};function $g(t,e){e.value._routerState=t,e.children.forEach(i=>$g(t,i))}function zx(t){let e=t.children.length>0?` { ${t.children.map(zx).join(", ")} } `:"";return`${t.value}${e}`}function xg(t){if(t.snapshot){let e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,oi(e.queryParams,i.queryParams)||t.queryParamsSubject.next(i.queryParams),e.fragment!==i.fragment&&t.fragmentSubject.next(i.fragment),oi(e.params,i.params)||t.paramsSubject.next(i.params),dL(e.url,i.url)||t.urlSubject.next(i.url),oi(e.data,i.data)||t.dataSubject.next(i.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Ug(t,e){let i=oi(t.params,e.params)&&fL(t.url,e.url),n=!t.parent!=!e.parent;return i&&!n&&(!t.parent||Ug(t.parent,e.parent))}function Gx(t){return typeof t.title=="string"||t.title===null}var LL=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Oe,this.activateEvents=new Be,this.deactivateEvents=new Be,this.attachEvents=new Be,this.detachEvents=new Be,this.parentContexts=oe(Ta),this.location=oe($t),this.changeDetector=oe(Jt),this.environmentInjector=oe(Yt),this.inputBinder=oe(zc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ce(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ce(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ce(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new ce(4013,!1);this._activatedRoute=n;let o=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new zg(n,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:d,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Xe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[pn]});let t=e;return t})(),zg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,i,n){this.route=e,this.childContexts=i,this.parent=n}get(e,i){return e===Xo?this.route:e===Ta?this.childContexts:this.parent.get(e,i)}},zc=new ve(""),Cx=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,o=br([r.queryParams,r.params,r.data]).pipe(Bt(([s,a,l],d)=>(l=le(le(le({},s),a),l),d===0?Ae(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let a=gw(r.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(n,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac});let t=e;return t})();function OL(t,e,i){let n=Ea(t,e._root,i?i._root:void 0);return new Nc(n,e)}function Ea(t,e,i){if(i&&t.shouldReuseRoute(e.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=e.value;let r=NL(t,e,i);return new An(n,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ea(t,a)),s}}let n=BL(e.value),r=e.children.map(o=>Ea(t,o));return new An(n,r)}}function NL(t,e,i){return e.children.map(n=>{for(let r of i.children)if(t.shouldReuseRoute(n.value,r.value.snapshot))return Ea(t,n,r);return Ea(t,n)})}function BL(t){return new Xo(new vt(t.url),new vt(t.params),new vt(t.queryParams),new vt(t.fragment),new vt(t.data),t.outlet,t.component,t)}var Wx="ngNavigationCancelingError";function Qx(t,e){let{redirectTo:i,navigationBehaviorOptions:n}=Ko(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=qx(!1,wn.Redirect);return r.url=i,r.navigationBehaviorOptions=n,r}function qx(t,e){let i=new Error(`NavigationCancelingError: ${t||""}`);return i[Wx]=!0,i.cancellationCode=e,i}function VL(t){return Zx(t)&&Ko(t.url)}function Zx(t){return!!t&&t[Wx]}var jL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=lt({type:e,selectors:[["ng-component"]],standalone:!0,features:[Xt],decls:1,vars:0,template:function(r,o){r&1&&xe(0,"router-outlet")},dependencies:[LL],encapsulation:2});let t=e;return t})();function HL(t,e){return t.providers&&!t._injector&&(t._injector=Od(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Xg(t){let e=t.children&&t.children.map(Xg),i=e?Ze(le({},t),{children:e}):le({},t);return!i.component&&!i.loadComponent&&(e||i.loadChildren)&&i.outlet&&i.outlet!==Oe&&(i.component=jL),i}function si(t){return t.outlet||Oe}function UL(t,e){let i=t.filter(n=>si(n)===e);return i.push(...t.filter(n=>si(n)!==e)),i}function Ma(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let i=e.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var zL=(t,e,i,n)=>_e(r=>(new Gg(e,r.targetRouterState,r.currentRouterState,i,n).activate(t),r)),Gg=class{constructor(e,i,n,r,o){this.routeReuseStrategy=e,this.futureState=i,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,e),xg(this.futureState.root),this.activateChildRoutes(i,n,e)}deactivateChildRoutes(e,i,n){let r=Qo(i);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(e,i,n){let r=e.value,o=i?i.value:null;if(r===o)if(r.component){let s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(e,i,s.children)}else this.deactivateChildRoutes(e,i,n);else o&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(e,i){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,o=Qo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,o=Qo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,i,n){let r=Qo(i);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new Bg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Og(e.value.snapshot))}activateRoutes(e,i,n){let r=e.value,o=i?i.value:null;if(xg(r),r===o)if(r.component){let s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,i,s.children)}else this.activateChildRoutes(e,i,n);else if(r.component){let s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),xg(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Ma(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,n)}},Vc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Zo=class{constructor(e,i){this.component=e,this.route=i}};function GL(t,e,i){let n=t._root,r=e?e._root:null;return pa(n,r,i,[n.value])}function WL(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function es(t,e){let i=Symbol(),n=e.get(t,i);return n===i?typeof t=="function"&&!V0(t)?t:e.get(t):n}function pa(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Qo(e);return t.children.forEach(s=>{QL(s,o[s.value.outlet],i,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>va(a,i.getContext(s),r)),r}function QL(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=i?i.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=qL(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Vc(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?pa(t,e,a?a.children:null,n,r):pa(t,e,i,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Zo(a.outlet.component,s))}else s&&va(e,a,r),r.canActivateChecks.push(new Vc(n)),o.component?pa(t,null,a?a.children:null,n,r):pa(t,null,i,n,r);return r}function qL(t,e,i){if(typeof i=="function")return i(t,e);switch(i){case"pathParamsChange":return!Br(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Br(t.url,e.url)||!oi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ug(t,e)||!oi(t.queryParams,e.queryParams);case"paramsChange":default:return!Ug(t,e)}}function va(t,e,i){let n=Qo(t),r=t.value;Object.entries(n).forEach(([o,s])=>{r.component?e?va(s,e.children.getContext(o),i):va(s,null,i):va(s,e,i)}),r.component?e&&e.outlet&&e.outlet.isActivated?i.canDeactivateChecks.push(new Zo(e.outlet.component,r)):i.canDeactivateChecks.push(new Zo(null,r)):i.canDeactivateChecks.push(new Zo(null,r))}function Pa(t){return typeof t=="function"}function ZL(t){return typeof t=="boolean"}function YL(t){return t&&Pa(t.canLoad)}function KL(t){return t&&Pa(t.canActivate)}function $L(t){return t&&Pa(t.canActivateChild)}function XL(t){return t&&Pa(t.canDeactivate)}function JL(t){return t&&Pa(t.canMatch)}function Yx(t){return t instanceof ui||t?.name==="EmptyError"}var Dc=Symbol("INITIAL_VALUE");function Jo(){return Bt(t=>br(t.map(e=>e.pipe(Nt(1),Yn(Dc)))).pipe(_e(e=>{for(let i of e)if(i!==!0){if(i===Dc)return Dc;if(i===!1||i instanceof tr)return i}return!0}),ot(e=>e!==Dc),Nt(1)))}function eO(t,e){return ft(i=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=i;return s.length===0&&o.length===0?Ae(Ze(le({},i),{guardsResult:!0})):tO(s,n,r,t).pipe(ft(a=>a&&ZL(a)?nO(n,o,t,e):Ae(a)),_e(a=>Ze(le({},i),{guardsResult:a})))})}function tO(t,e,i,n){return rt(t).pipe(ft(r=>aO(r.component,r.route,i,e,n)),Zn(r=>r!==!0,!0))}function nO(t,e,i,n){return rt(e).pipe(hi(r=>Ni(rO(r.route.parent,n),iO(r.route,n),sO(t,r.path,i),oO(t,r.route,i))),Zn(r=>r!==!0,!0))}function iO(t,e){return t!==null&&e&&e(new Ng(t)),Ae(!0)}function rO(t,e){return t!==null&&e&&e(new Lg(t)),Ae(!0)}function oO(t,e,i){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return Ae(!0);let r=n.map(o=>Ml(()=>{let s=Ma(e)??i,a=es(o,s),l=KL(a)?a.canActivate(e,t):bi(s,()=>a(e,t));return rr(l).pipe(Zn())}));return Ae(r).pipe(Jo())}function sO(t,e,i){let n=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>WL(s)).filter(s=>s!==null).map(s=>Ml(()=>{let a=s.guards.map(l=>{let d=Ma(s.node)??i,u=es(l,d),c=$L(u)?u.canActivateChild(n,t):bi(d,()=>u(n,t));return rr(c).pipe(Zn())});return Ae(a).pipe(Jo())}));return Ae(o).pipe(Jo())}function aO(t,e,i,n,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Ae(!0);let s=o.map(a=>{let l=Ma(e)??r,d=es(a,l),u=XL(d)?d.canDeactivate(t,e,i,n):bi(l,()=>d(t,e,i,n));return rr(u).pipe(Zn())});return Ae(s).pipe(Jo())}function lO(t,e,i,n){let r=e.canLoad;if(r===void 0||r.length===0)return Ae(!0);let o=r.map(s=>{let a=es(s,t),l=YL(a)?a.canLoad(e,i):bi(t,()=>a(e,i));return rr(l)});return Ae(o).pipe(Jo(),Kx(n))}function Kx(t){return $u(st(e=>{if(Ko(e))throw Qx(t,e)}),_e(e=>e===!0))}function dO(t,e,i,n){let r=e.canMatch;if(!r||r.length===0)return Ae(!0);let o=r.map(s=>{let a=es(s,t),l=JL(a)?a.canMatch(e,i):bi(t,()=>a(e,i));return rr(l)});return Ae(o).pipe(Jo(),Kx(n))}var Sa=class{constructor(e){this.segmentGroup=e||null}},jc=class extends Error{constructor(e){super(),this.urlTree=e}};function Wo(t){return Li(new Sa(t))}function cO(t){return Li(new ce(4e3,!1))}function uO(t){return Li(qx(!1,wn.GuardRejected))}var Wg=class{constructor(e,i){this.urlSerializer=e,this.urlTree=i}lineralizeSegments(e,i){let n=[],r=i.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return Ae(n);if(r.numberOfChildren>1||!r.children[Oe])return cO(e.redirectTo);r=r.children[Oe]}}applyRedirectCommands(e,i,n){let r=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),e,n);if(i.startsWith("/"))throw new jc(r);return r}applyRedirectCreateUrlTree(e,i,n,r){let o=this.createSegmentGroup(e,i.root,n,r);return new tr(o,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){let n={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);n[r]=i[a]}else n[r]=o}),n}createSegmentGroup(e,i,n,r){let o=this.createSegments(e,i.segments,n,r),s={};return Object.entries(i.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,n,r)}),new Ke(o,s)}createSegments(e,i,n,r){return i.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,n))}findPosParam(e,i,n){let r=n[i.path.substring(1)];if(!r)throw new ce(4001,!1);return r}findOrReturn(e,i){let n=0;for(let r of i){if(r.path===e.path)return i.splice(n),r;n++}return e}},Qg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hO(t,e,i,n,r){let o=Jg(t,e,i);return o.matched?(n=HL(e,n),dO(n,e,i,r).pipe(_e(s=>s===!0?o:le({},Qg)))):Ae(o)}function Jg(t,e,i){if(e.path==="**")return fO(i);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||i.length>0)?le({},Qg):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(e.matcher||lL)(i,t,e);if(!r)return le({},Qg);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?le(le({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function fO(t){return{matched:!0,parameters:t.length>0?Tx(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Ex(t,e,i,n){return i.length>0&&mO(t,i,n)?{segmentGroup:new Ke(e,gO(n,new Ke(i,t.children))),slicedSegments:[]}:i.length===0&&bO(t,i,n)?{segmentGroup:new Ke(t.segments,pO(t,i,n,t.children)),slicedSegments:i}:{segmentGroup:new Ke(t.segments,t.children),slicedSegments:i}}function pO(t,e,i,n){let r={};for(let o of i)if(Gc(t,e,o)&&!n[si(o)]){let s=new Ke([],{});r[si(o)]=s}return le(le({},n),r)}function gO(t,e){let i={};i[Oe]=e;for(let n of t)if(n.path===""&&si(n)!==Oe){let r=new Ke([],{});i[si(n)]=r}return i}function mO(t,e,i){return i.some(n=>Gc(t,e,n)&&si(n)!==Oe)}function bO(t,e,i){return i.some(n=>Gc(t,e,n))}function Gc(t,e,i){return(t.hasChildren()||e.length>0)&&i.pathMatch==="full"?!1:i.path===""}function vO(t,e,i,n){return si(t)!==n&&(n===Oe||!Gc(e,i,t))?!1:Jg(e,t,i).matched}function yO(t,e,i){return e.length===0&&!t.children[i]}var qg=class{};function AO(t,e,i,n,r,o,s="emptyOnly"){return new Zg(t,e,i,n,r,s,o).recognize()}var wO=31,Zg=class{constructor(e,i,n,r,o,s,a){this.injector=e,this.configLoader=i,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Wg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ce(4002,`'${e.segmentGroup}'`)}recognize(){let e=Ex(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(_e(i=>{let n=new Ca([],Object.freeze({}),Object.freeze(le({},this.urlTree.queryParams)),this.urlTree.fragment,{},Oe,this.rootComponentType,null,{}),r=new An(n,i),o=new Bc("",r),s=DL(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Oe).pipe(qn(n=>{if(n instanceof jc)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Sa?this.noMatchError(n):n}))}inheritParamsAndData(e,i){let n=e.value,r=Kg(n,i,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(e,i,n,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,i,n):this.processSegment(e,i,n,n.segments,r,!0).pipe(_e(o=>o instanceof An?[o]:[]))}processChildren(e,i,n){let r=[];for(let o of Object.keys(n.children))o==="primary"?r.unshift(o):r.push(o);return rt(r).pipe(hi(o=>{let s=n.children[o],a=UL(i,o);return this.processSegmentGroup(e,a,s,o)}),sh((o,s)=>(o.push(...s),o)),Bi(null),oh(),ft(o=>{if(o===null)return Wo(n);let s=$x(o);return xO(s),Ae(s)}))}processSegment(e,i,n,r,o,s){return rt(i).pipe(hi(a=>this.processSegmentAgainstRoute(a._injector??e,i,a,n,r,o,s).pipe(qn(l=>{if(l instanceof Sa)return Ae(null);throw l}))),Zn(a=>!!a),qn(a=>{if(Yx(a))return yO(n,r,o)?Ae(new qg):Wo(n);throw a}))}processSegmentAgainstRoute(e,i,n,r,o,s,a){return vO(n,r,o,s)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,n,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,i,n,o,s):Wo(r):Wo(r)}expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:d,remainingSegments:u}=Jg(i,r,o);if(!a)return Wo(i);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>wO&&(this.allowRedirects=!1));let c=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,d);return this.applyRedirects.lineralizeSegments(r,c).pipe(ft(h=>this.processSegment(e,n,i,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,i,n,r,o){let s=hO(i,n,r,e,this.urlSerializer);return n.path==="**"&&(i.children={}),s.pipe(Bt(a=>a.matched?(e=n._injector??e,this.getChildConfig(e,n,r).pipe(Bt(({routes:l})=>{let d=n._loadedInjector??e,{consumedSegments:u,remainingSegments:c,parameters:h}=a,g=new Ca(u,h,Object.freeze(le({},this.urlTree.queryParams)),this.urlTree.fragment,CO(n),si(n),n.component??n._loadedComponent??null,n,EO(n)),{segmentGroup:p,slicedSegments:f}=Ex(i,u,c,l);if(f.length===0&&p.hasChildren())return this.processChildren(d,l,p).pipe(_e(m=>m===null?null:new An(g,m)));if(l.length===0&&f.length===0)return Ae(new An(g,[]));let v=si(n)===o;return this.processSegment(d,l,p,f,v?Oe:o,!0).pipe(_e(m=>new An(g,m instanceof An?[m]:[])))}))):Wo(i)))}getChildConfig(e,i,n){return i.children?Ae({routes:i.children,injector:e}):i.loadChildren?i._loadedRoutes!==void 0?Ae({routes:i._loadedRoutes,injector:i._loadedInjector}):lO(e,i,n,this.urlSerializer).pipe(ft(r=>r?this.configLoader.loadChildren(e,i).pipe(st(o=>{i._loadedRoutes=o.routes,i._loadedInjector=o.injector})):uO(i))):Ae({routes:[],injector:e})}};function xO(t){t.sort((e,i)=>e.value.outlet===Oe?-1:i.value.outlet===Oe?1:e.value.outlet.localeCompare(i.value.outlet))}function _O(t){let e=t.value.routeConfig;return e&&e.path===""}function $x(t){let e=[],i=new Set;for(let n of t){if(!_O(n)){e.push(n);continue}let r=e.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),i.add(r)):e.push(n)}for(let n of i){let r=$x(n.children);e.push(new An(n.value,r))}return e.filter(n=>!i.has(n))}function CO(t){return t.data||{}}function EO(t){return t.resolve||{}}function SO(t,e,i,n,r,o){return ft(s=>AO(t,e,i,n,s.extractedUrl,r,o).pipe(_e(({state:a,tree:l})=>Ze(le({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function DO(t,e){return ft(i=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=i;if(!r.length)return Ae(i);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of Xx(l))s.add(d);let a=0;return rt(s).pipe(hi(l=>o.has(l)?IO(l,n,t,e):(l.data=Kg(l,l.parent,t).resolve,Ae(void 0))),st(()=>a++),ho(1),ft(l=>a===s.size?Ae(i):Pt))})}function Xx(t){let e=t.children.map(i=>Xx(i)).flat();return[t,...e]}function IO(t,e,i,n){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!Gx(r)&&(o[Da]=r.title),TO(o,t,e,n).pipe(_e(s=>(t._resolvedData=s,t.data=Kg(t,t.parent,i).resolve,null)))}function TO(t,e,i,n){let r=Eg(t);if(r.length===0)return Ae({});let o={};return rt(r).pipe(ft(s=>MO(t[s],e,i,n).pipe(Zn(),st(a=>{o[s]=a}))),ho(1),rh(o),qn(s=>Yx(s)?Pt:Li(s)))}function MO(t,e,i,n){let r=Ma(e)??n,o=es(t,r),s=o.resolve?o.resolve(e,i):bi(r,()=>o(e,i));return rr(s)}function _g(t){return Bt(e=>{let i=t(e);return i?rt(i).pipe(_e(()=>e)):Ae(e)})}var Jx=(()=>{let e=class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===Oe);return r}getResolvedTitleForRoute(n){return n.data[Da]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:()=>oe(PO),providedIn:"root"});let t=e;return t})(),PO=(()=>{let e=class e extends Jx{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(se(Hw))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fa=new ve("",{providedIn:"root",factory:()=>({})}),Hc=new ve(""),em=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=oe(qd)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ae(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=rr(n.loadComponent()).pipe(_e(e_),st(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Vi(()=>{this.componentLoaders.delete(n)})),o=new so(r,()=>new ze).pipe(oo());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ae({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=FO(r,this.compiler,n,this.onLoadEndListener).pipe(Vi(()=>{this.childrenLoaders.delete(r)})),a=new so(s,()=>new ze).pipe(oo());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function FO(t,e,i,n){return rr(t.loadChildren()).pipe(_e(e_),ft(r=>r instanceof Hs||Array.isArray(r)?Ae(r):rt(e.compileModuleAsync(r))),_e(r=>{n&&n(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(i).injector,s=o.get(Hc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Xg),injector:o}}))}function kO(t){return t&&typeof t=="object"&&"default"in t}function e_(t){return kO(t)?t.default:t}var tm=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:()=>oe(RO),providedIn:"root"});let t=e;return t})(),RO=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),t_=new ve(""),n_=new ve("");function LO(t,e,i){let n=t.get(n_),r=t.get(je);return t.get(Ce).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(d=>setTimeout(d));let o,s=new Promise(d=>{o=d}),a=r.startViewTransition(()=>(o(),OO(t))),{onViewTransitionCreated:l}=n;return l&&bi(t,()=>l({transition:a,from:e,to:i})),s})}function OO(t){return new Promise(e=>{Ld(e,{injector:t})})}var nm=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ze,this.transitionAbortSubject=new ze,this.configLoader=oe(em),this.environmentInjector=oe(Yt),this.urlSerializer=oe(Ia),this.rootContexts=oe(Ta),this.location=oe(Vo),this.inputBindingEnabled=oe(zc,{optional:!0})!==null,this.titleStrategy=oe(Jx),this.options=oe(Fa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=oe(tm),this.createViewTransition=oe(t_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ae(void 0),this.rootComponentType=null;let n=o=>this.events.next(new kg(o)),r=o=>this.events.next(new Rg(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Ze(le(le({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,o){return this.transitions=new vt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ba,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ot(s=>s.id!==0),_e(s=>Ze(le({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Bt(s=>{let a=!1,l=!1;return Ae(s).pipe(Bt(d=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",wn.SupersededByNewNavigation),Pt;this.currentTransition=s,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Ze(le({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=d.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&c!=="reload"){let h="";return this.events.next(new ir(d.id,this.urlSerializer.serialize(d.rawUrl),h,kc.IgnoredSameUrlNavigation)),d.resolve(null),Pt}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Ae(d).pipe(Bt(h=>{let g=this.transitions?.getValue();return this.events.next(new $o(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),g!==this.transitions?.getValue()?Pt:Promise.resolve(h)}),SO(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),st(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=Ze(le({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let g=new Rc(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:h,extractedUrl:g,source:p,restoredState:f,extras:v}=d,m=new $o(h,this.urlSerializer.serialize(g),p,f);this.events.next(m);let x=Ux(this.rootComponentType).snapshot;return this.currentTransition=s=Ze(le({},d),{targetSnapshot:x,urlAfterRedirects:g,extras:Ze(le({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,Ae(s)}else{let h="";return this.events.next(new ir(d.id,this.urlSerializer.serialize(d.extractedUrl),h,kc.IgnoredByUrlHandlingStrategy)),d.resolve(null),Pt}}),st(d=>{let u=new Tg(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}),_e(d=>(this.currentTransition=s=Ze(le({},d),{guards:GL(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),s)),eO(this.environmentInjector,d=>this.events.next(d)),st(d=>{if(s.guardsResult=d.guardsResult,Ko(d.guardsResult))throw Qx(this.urlSerializer,d.guardsResult);let u=new Mg(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(u)}),ot(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",wn.GuardRejected),!1)),_g(d=>{if(d.guards.canActivateChecks.length)return Ae(d).pipe(st(u=>{let c=new Pg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),Bt(u=>{let c=!1;return Ae(u).pipe(DO(this.paramsInheritanceStrategy,this.environmentInjector),st({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(u,"",wn.NoDataFromResolver)}}))}),st(u=>{let c=new Fg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}))}),_g(d=>{let u=c=>{let h=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(c.routeConfig).pipe(st(g=>{c.component=g}),_e(()=>{})));for(let g of c.children)h.push(...u(g));return h};return br(u(d.targetSnapshot.root)).pipe(Bi(null),Nt(1))}),_g(()=>this.afterPreactivation()),Bt(()=>{let{currentSnapshot:d,targetSnapshot:u}=s,c=this.createViewTransition?.(this.environmentInjector,d.root,u.root);return c?rt(c).pipe(_e(()=>s)):Ae(s)}),_e(d=>{let u=OL(n.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=s=Ze(le({},d),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),st(()=>{this.events.next(new xa)}),zL(this.rootContexts,n.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),Nt(1),st({next:d=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Si(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{a=!0}}),Qt(this.transitionAbortSubject.pipe(st(d=>{throw d}))),Vi(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",wn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),qn(d=>{if(l=!0,Zx(d))this.events.next(new nr(s.id,this.urlSerializer.serialize(s.extractedUrl),d.message,d.cancellationCode)),VL(d)?this.events.next(new _a(d.url)):s.resolve(!1);else{this.events.next(new wa(s.id,this.urlSerializer.serialize(s.extractedUrl),d,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(d))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return Pt}))}))}cancelNavigationTransition(n,r,o){let s=new nr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function NO(t){return t!==ba}var BO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:()=>oe(VO),providedIn:"root"});let t=e;return t})(),Yg=class{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}},VO=(()=>{let e=class e extends Yg{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ys(e)))(o||e)}})(),e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),i_=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:()=>oe(jO),providedIn:"root"});let t=e;return t})(),jO=(()=>{let e=class e extends i_{constructor(){super(...arguments),this.location=oe(Vo),this.urlSerializer=oe(Ia),this.options=oe(Fa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=oe(tm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new tr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ux(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof $o)this.stateMemento=this.createStateMemento();else if(n instanceof ir)this.rawUrlTree=r.initialUrl;else if(n instanceof Rc){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else n instanceof xa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof nr&&(n.code===wn.GuardRejected||n.code===wn.NoDataFromResolver)?this.restoreHistory(r):n instanceof wa?this.restoreHistory(r,!0):n instanceof Si&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=le(le({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=le(le({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ys(e)))(o||e)}})(),e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ga=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ga||{});function r_(t,e){t.events.pipe(ot(i=>i instanceof Si||i instanceof nr||i instanceof wa||i instanceof ir),_e(i=>i instanceof Si||i instanceof ir?ga.COMPLETE:(i instanceof nr?i.code===wn.Redirect||i.code===wn.SupersededByNewNavigation:!1)?ga.REDIRECTING:ga.FAILED),ot(i=>i!==ga.REDIRECTING),Nt(1)).subscribe(()=>{e()})}function HO(t){throw t}var UO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Vr=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=oe(zd),this.stateManager=oe(i_),this.options=oe(Fa,{optional:!0})||{},this.pendingTasks=oe(Js),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=oe(nm),this.urlSerializer=oe(Ia),this.location=oe(Vo),this.urlHandlingStrategy=oe(tm),this._events=new ze,this.errorHandler=this.options.errorHandler||HO,this.navigated=!1,this.routeReuseStrategy=oe(BO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=oe(Hc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!oe(zc,{optional:!0}),this.eventsSubscription=new Ye,this.isNgZoneEnabled=oe(Ce)instanceof Ce&&Ce.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof nr&&r.code!==wn.Redirect&&r.code!==wn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Si)this.navigated=!0;else if(r instanceof _a){let a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||NO(o.source)};this.scheduleNavigation(a,ba,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}WO(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ba,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let d=le({},o);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(s.state=d)}let l=this.parseUrl(n);this.scheduleNavigation(l,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Xg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:d}=r,u=d?this.currentUrlTree.fragment:a,c=null;switch(l){case"merge":c=le(le({},this.currentUrlTree.queryParams),s);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=s||null}c!==null&&(c=this.removeEmptyProps(c));let h;try{let g=o?o.snapshot:this.routerState.snapshot.root;h=Bx(g)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),h=this.currentUrlTree.root}return Vx(h,n,c,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=Ko(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,ba,null,r)}navigate(n,r={skipLocationChange:!1}){return GO(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=le({},UO):r===!1?o=le({},zO):o=r,Ko(n))return Ax(this.currentUrlTree,n,o);let s=this.parseUrl(n);return Ax(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(n,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,d,u;a?(l=a.resolve,d=a.reject,u=a.promise):u=new Promise((h,g)=>{l=h,d=g});let c=this.pendingTasks.add();return r_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:d,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function GO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new ce(4008,!1)}function WO(t){return!(t instanceof xa)&&!(t instanceof _a)}var Uc=class{};var QO=(()=>{let e=class e{constructor(n,r,o,s,a){this.router=n,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ot(n=>n instanceof Si),hi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Od(s.providers,n,`Route: ${s.path}`));let a=s._injector??n,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return rt(o).pipe(Oi())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(n,r):o=Ae(null);let s=o.pipe(ft(a=>a===null?Ae(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return rt([s,a]).pipe(Oi())}else return s})}};e.\u0275fac=function(r){return new(r||e)(se(Vr),se(qd),se(Yt),se(Uc),se(em))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),o_=new ve(""),qO=(()=>{let e=class e{constructor(n,r,o,s,a={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=oe(Yt),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof $o?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Si?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof ir&&n.code===kc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Lc&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>ae(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),Ld(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Lc(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){Md()},e.\u0275prov=fe({token:e,factory:e.\u0275fac});let t=e;return t})();function ZO(t){return t.routerState.root}function ka(t,e){return{\u0275kind:t,\u0275providers:e}}function YO(){let t=oe(gn);return e=>{let i=t.get(Oo);if(e!==i.components[0])return;let n=t.get(Vr),r=t.get(s_);t.get(im)===1&&n.initialNavigation(),t.get(a_,null,He.Optional)?.setUpPreloading(),t.get(o_,null,He.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var s_=new ve("",{factory:()=>new ze}),im=new ve("",{providedIn:"root",factory:()=>1});function KO(){return ka(2,[{provide:im,useValue:0},{provide:Qd,multi:!0,deps:[gn],useFactory:e=>{let i=e.get(ww,Promise.resolve());return()=>i.then(()=>new Promise(n=>{let r=e.get(Vr),o=e.get(s_);r_(r,()=>{n(!0)}),e.get(nm).afterPreactivation=()=>(n(!0),o.closed?Ae(void 0):o),r.initialNavigation()}))}}])}function $O(){return ka(3,[{provide:Qd,multi:!0,useFactory:()=>{let e=oe(Vr);return()=>{e.setUpLocationChangeListener()}}},{provide:im,useValue:2}])}var a_=new ve("");function XO(t){return ka(0,[{provide:a_,useExisting:QO},{provide:Uc,useExisting:t}])}function JO(){return ka(8,[Cx,{provide:zc,useExisting:Cx}])}function e2(t){let e=[{provide:t_,useValue:LO},{provide:n_,useValue:le({skipNextTransition:!!t?.skipInitialTransition},t)}];return ka(9,e)}var Sx=new ve("ROUTER_FORROOT_GUARD"),t2=[Vo,{provide:Ia,useClass:ya},Vr,Ta,{provide:Xo,useFactory:ZO,deps:[Vr]},em,[]],rm=(()=>{let e=class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[t2,[],{provide:Hc,multi:!0,useValue:n},{provide:Sx,useFactory:o2,deps:[[Vr,new gd,new Pf]]},{provide:Fa,useValue:r||{}},r?.useHash?i2():r2(),n2(),r?.preloadingStrategy?XO(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?s2(r):[],r?.bindToComponentInputs?JO().\u0275providers:[],r?.enableViewTransitions?e2().\u0275providers:[],a2()]}}static forChild(n){return{ngModule:e,providers:[{provide:Hc,multi:!0,useValue:n}]}}};e.\u0275fac=function(r){return new(r||e)(se(Sx,8))},e.\u0275mod=Re({type:e}),e.\u0275inj=ke({});let t=e;return t})();function n2(){return{provide:o_,useFactory:()=>{let t=oe(Sw),e=oe(Ce),i=oe(Fa),n=oe(nm),r=oe(Ia);return i.scrollOffset&&t.setOffset(i.scrollOffset),new qO(r,n,t,e,i)}}}function i2(){return{provide:Pr,useClass:_w}}function r2(){return{provide:Pr,useClass:Dp}}function o2(t){return"guarded"}function s2(t){return[t.initialNavigation==="disabled"?$O().\u0275providers:[],t.initialNavigation==="enabledBlocking"?KO().\u0275providers:[]]}var Dx=new ve("");function a2(){return[{provide:Dx,useFactory:YO},{provide:Ap,multi:!0,useExisting:Dx}]}var l2=[],l_=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=ke({imports:[rm.forRoot(l2),rm]});let t=e;return t})();var sm;try{sm=typeof Intl<"u"&&Intl.v8BreakIterator}catch{sm=!1}var at=(()=>{let e=class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?Jd(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||sm)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(se(Vn))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ra;function d2(){if(Ra==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ra=!0}))}finally{Ra=Ra||!1}return Ra}function or(t){return d2()?t:!!t.capture}var Un=function(t){return t[t.NORMAL=0]="NORMAL",t[t.NEGATED=1]="NEGATED",t[t.INVERTED=2]="INVERTED",t}(Un||{}),Wc,jr;function d_(){if(jr==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return jr=!1,jr;if("scrollBehavior"in document.documentElement.style)jr=!0;else{let t=Element.prototype.scrollTo;t?jr=!/\{\s*\[native code\]\s*\}/.test(t.toString()):jr=!1}}return jr}function ts(){if(typeof document!="object"||!document)return Un.NORMAL;if(Wc==null){let t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let i=document.createElement("div"),n=i.style;n.width="2px",n.height="1px",t.appendChild(i),document.body.appendChild(t),Wc=Un.NORMAL,t.scrollLeft===0&&(t.scrollLeft=1,Wc=t.scrollLeft===0?Un.NEGATED:Un.INVERTED),t.remove()}return Wc}var om;function c2(){if(om==null){let t=typeof document<"u"?document.head:null;om=!!(t&&(t.createShadowRoot||t.attachShadow))}return om}function c_(t){if(c2()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function sr(t){return t.composedPath?t.composedPath()[0]:t.target}function u_(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Qc(t,...e){return e.length?e.some(i=>t[i]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function qc(t,e=0){return u2(t)?Number(t):e}function u2(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function am(t){return Array.isArray(t)?t:[t]}function zn(t){return t instanceof Ue?t.nativeElement:t}function h2(t){if(t.type==="characterData"&&t.target instanceof Comment)return!0;if(t.type==="childList"){for(let e=0;e<t.addedNodes.length;e++)if(!(t.addedNodes[e]instanceof Comment))return!1;for(let e=0;e<t.removedNodes.length;e++)if(!(t.removedNodes[e]instanceof Comment))return!1;return!0}return!1}var f2=(()=>{let e=class e{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),p2=(()=>{let e=class e{constructor(n){this._mutationObserverFactory=n,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((n,r)=>this._cleanupObserver(r))}observe(n){let r=zn(n);return new Te(o=>{let a=this._observeElement(r).pipe(_e(l=>l.filter(d=>!h2(d))),ot(l=>!!l.length)).subscribe(o);return()=>{a.unsubscribe(),this._unobserveElement(r)}})}_observeElement(n){if(this._observedElements.has(n))this._observedElements.get(n).count++;else{let r=new ze,o=this._mutationObserverFactory.create(s=>r.next(s));o&&o.observe(n,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(n,{observer:o,stream:r,count:1})}return this._observedElements.get(n).stream}_unobserveElement(n){this._observedElements.has(n)&&(this._observedElements.get(n).count--,this._observedElements.get(n).count||this._cleanupObserver(n))}_cleanupObserver(n){if(this._observedElements.has(n)){let{observer:r,stream:o}=this._observedElements.get(n);r&&r.disconnect(),o.complete(),this._observedElements.delete(n)}}};e.\u0275fac=function(r){return new(r||e)(se(f2))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),h_=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(n){this._debounce=qc(n),this._subscribe()}constructor(n,r,o){this._contentObserver=n,this._elementRef=r,this._ngZone=o,this.event=new Be,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let n=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?n.pipe(vr(this.debounce)):n).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(ue(p2),ue(Ue),ue(Ce))},e.\u0275dir=Xe({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[Se.HasDecoratorInputTransform,"cdkObserveContentDisabled","disabled",tt],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[St]});let t=e;return t})();var f_=new Set,Ur,g2=(()=>{let e=class e{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):b2}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&m2(n,this._nonce),this._matchMedia(n)}};e.\u0275fac=function(r){return new(r||e)(se(at),se(ko,8))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function m2(t,e){if(!f_.has(t))try{Ur||(Ur=document.createElement("style"),e&&Ur.setAttribute("nonce",e),Ur.setAttribute("type","text/css"),document.head.appendChild(Ur)),Ur.sheet&&(Ur.sheet.insertRule(`@media ${t} {body{ }}`,0),f_.add(t))}catch(i){console.error(i)}}function b2(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var g_=(()=>{let e=class e{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new ze}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return p_(am(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let o=p_(am(n)).map(a=>this._registerQuery(a).observable),s=br(o);return s=Ni(s.pipe(Nt(1)),s.pipe(yr(1),vr(0))),s.pipe(_e(a=>{let l={matches:!1,breakpoints:{}};return a.forEach(({matches:d,query:u})=>{l.matches=l.matches||d,l.breakpoints[u]=d}),l}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),s={observable:new Te(a=>{let l=d=>this._zone.run(()=>a.next(d));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(Yn(r),_e(({matches:a})=>({query:n,matches:a})),Qt(this._destroySubject)),mql:r};return this._queries.set(n,s),s}};e.\u0275fac=function(r){return new(r||e)(se(g2),se(Ce))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function p_(t){return t.map(e=>e.split(",")).reduce((e,i)=>e.concat(i)).map(e=>e.trim())}var dm=class{constructor(e,i){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ze,this._typeaheadSubscription=Ye.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=n=>n.disabled,this._pressedLetters=[],this.tabOut=new ze,this.change=new ze,e instanceof Gi?this._itemChangesSubscription=e.changes.subscribe(n=>this._itemsChanged(n.toArray())):pp(e)&&(this._effectRef=Bo(()=>this._itemsChanged(e()),{injector:i}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(st(i=>this._pressedLetters.push(i)),vr(e),ot(()=>this._pressedLetters.length>0),_e(()=>this._pressedLetters.join(""))).subscribe(i=>{let n=this._getItemsArray();for(let r=1;r<n.length+1;r++){let o=(this._activeItemIndex+r)%n.length,s=n[o];if(!this._skipPredicateFn(s)&&s.getLabel().toUpperCase().trim().indexOf(i)===0){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,i=10){return this._pageUpAndDown={enabled:e,delta:i},this}setActiveItem(e){let i=this._activeItem;this.updateActiveItem(e),this._activeItem!==i&&this.change.next(this._activeItemIndex)}onKeydown(e){let i=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(i){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(r||Qc(e,"shiftKey"))&&(e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(i>=65&&i<=90||i>=48&&i<=57)&&this._letterKeyStream.next(String.fromCharCode(i)));return}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let i=this._getItemsArray(),n=typeof e=="number"?e:i.indexOf(e),r=i[n];this._activeItem=r??null,this._activeItemIndex=n}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let i=this._getItemsArray();for(let n=1;n<=i.length;n++){let r=(this._activeItemIndex+e*n+i.length)%i.length,o=i[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,i){let n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(e+=i,!n[e])return;this.setActiveItem(e)}}_getItemsArray(){return pp(this._items)?this._items():this._items instanceof Gi?this._items.toArray():this._items}_itemsChanged(e){if(this._activeItem){let i=e.indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}};var Kc=class extends dm{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};function cm(t){return t.buttons===0||t.detail===0}function um(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var O2=new ve("cdk-input-modality-detector-options"),N2={ignoreKeys:[18,17,224,91,16]},v_=650,ns=or({passive:!0,capture:!0}),B2=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(n,r,o,s){this._platform=n,this._mostRecentTarget=null,this._modality=new vt(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(l=>l===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=sr(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<v_||(this._modality.next(cm(a)?"keyboard":"mouse"),this._mostRecentTarget=sr(a))},this._onTouchstart=a=>{if(um(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=sr(a)},this._options=le(le({},N2),s),this.modalityDetected=this._modality.pipe(yr(1)),this.modalityChanged=this.modalityDetected.pipe(uo()),n.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,ns),o.addEventListener("mousedown",this._onMousedown,ns),o.addEventListener("touchstart",this._onTouchstart,ns)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ns),document.removeEventListener("mousedown",this._onMousedown,ns),document.removeEventListener("touchstart",this._onTouchstart,ns))}};e.\u0275fac=function(r){return new(r||e)(se(at),se(Ce),se(je),se(O2,8))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Yc=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(Yc||{}),V2=new ve("cdk-focus-monitor-default-options"),Zc=or({passive:!0,capture:!0}),hm=(()=>{let e=class e{constructor(n,r,o,s,a){this._ngZone=n,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ze,this._rootNodeFocusAndBlurListener=l=>{let d=sr(l);for(let u=d;u;u=u.parentElement)l.type==="focus"?this._onFocus(l,u):this._onBlur(l,u)},this._document=s,this._detectionMode=a?.detectionMode||Yc.IMMEDIATE}monitor(n,r=!1){let o=zn(n);if(!this._platform.isBrowser||o.nodeType!==1)return Ae();let s=c_(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return r&&(a.checkChildren=!0),a.subject;let l={checkChildren:r,subject:new ze,rootNode:s};return this._elementInfo.set(o,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(n){let r=zn(n),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(n,r,o){let s=zn(n),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([l,d])=>this._originChanged(l,r,d)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((n,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===Yc.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,r){n.classList.toggle("cdk-focused",!!r),n.classList.toggle("cdk-touch-focused",r==="touch"),n.classList.toggle("cdk-keyboard-focused",r==="keyboard"),n.classList.toggle("cdk-mouse-focused",r==="mouse"),n.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(n,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&r,this._detectionMode===Yc.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?v_:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(n,r){let o=this._elementInfo.get(r),s=sr(n);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(n,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&n.relatedTarget instanceof Node&&r.contains(n.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(n,r){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(r))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let r=n.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Zc),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Zc)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Qt(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(n){let r=n.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Zc),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Zc),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,r,o){this._setClasses(n,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(n){let r=[];return this._elementInfo.forEach((o,s)=>{(s===n||o.checkChildren&&s.contains(n))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let s=n.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(r))return!0}return!1}};e.\u0275fac=function(r){return new(r||e)(se(Ce),se(at),se(B2),se(je,8),se(V2,8))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),y_=(()=>{let e=class e{constructor(n,r){this._elementRef=n,this._focusMonitor=r,this._focusOrigin=null,this.cdkFocusChange=new Be}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let n=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(n,n.nodeType===1&&n.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>{this._focusOrigin=r,this.cdkFocusChange.emit(r)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(ue(Ue),ue(hm))},e.\u0275dir=Xe({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0});let t=e;return t})(),zr=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(zr||{}),m_="cdk-high-contrast-black-on-white",b_="cdk-high-contrast-white-on-black",lm="cdk-high-contrast-active",A_=(()=>{let e=class e{constructor(n,r){this._platform=n,this._document=r,this._breakpointSubscription=oe(g_).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return zr.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(n):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return zr.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return zr.BLACK_ON_WHITE}return zr.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(lm,m_,b_),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===zr.BLACK_ON_WHITE?n.add(lm,m_):r===zr.WHITE_ON_BLACK&&n.add(lm,b_)}}};e.\u0275fac=function(r){return new(r||e)(se(at),se(je))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var H2=new ve("cdk-dir-doc",{providedIn:"root",factory:U2});function U2(){return oe(je)}var z2=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function G2(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?z2.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var is=(()=>{let e=class e{constructor(n){if(this.value="ltr",this.change=new Be,n){let r=n.body?n.body.dir:null,o=n.documentElement?n.documentElement.dir:null;this.value=G2(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(r){return new(r||e)(se(H2,8))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fm=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=ke({});let t=e;return t})();function W2(){return!0}var Q2=new ve("mat-sanity-checks",{providedIn:"root",factory:W2}),an=(()=>{let e=class e{constructor(n,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return u_()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[n]}};e.\u0275fac=function(r){return new(r||e)(se(A_),se(Q2,8),se(je))},e.\u0275mod=Re({type:e}),e.\u0275inj=ke({imports:[fm,fm]});let t=e;return t})();var Fn=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(Fn||{}),mm=class{constructor(e,i,n,r=!1){this._renderer=e,this.element=i,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=Fn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},x_=or({passive:!0,capture:!0}),bm=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let i=sr(e);i&&this._events.get(e.type)?.forEach((n,r)=>{(r===i||r.contains(i))&&n.forEach(o=>o.handleEvent(e))})}}addHandler(e,i,n,r){let o=this._events.get(i);if(o){let s=o.get(n);s?s.add(r):o.set(n,new Set([r]))}else this._events.set(i,new Map([[n,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,x_)})}removeHandler(e,i,n){let r=this._events.get(e);if(!r)return;let o=r.get(i);o&&(o.delete(n),o.size===0&&r.delete(i),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,x_)))}},__={enterDuration:225,exitDuration:150},q2=800,C_=or({passive:!0,capture:!0}),E_=["mousedown","touchstart"],S_=["mouseup","mouseleave","touchend","touchcancel"],La=class La{constructor(e,i,n,r){this._target=e,this._ngZone=i,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=zn(n))}fadeInRipple(e,i,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=le(le({},__),n.animation);n.centered&&(e=r.left+r.width/2,i=r.top+r.height/2);let s=n.radius||Z2(e,i,r),a=e-r.left,l=i-r.top,d=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${a-s}px`,u.style.top=`${l-s}px`,u.style.height=`${s*2}px`,u.style.width=`${s*2}px`,n.color!=null&&(u.style.backgroundColor=n.color),u.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(u);let c=window.getComputedStyle(u),h=c.transitionProperty,g=c.transitionDuration,p=h==="none"||g==="0s"||g==="0s, 0s"||r.width===0&&r.height===0,f=new mm(this,u,n,p);u.style.transform="scale3d(1, 1, 1)",f.state=Fn.FADING_IN,n.persistent||(this._mostRecentTransientRipple=f);let v=null;return!p&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let m=()=>this._finishRippleTransition(f),x=()=>this._destroyRipple(f);u.addEventListener("transitionend",m),u.addEventListener("transitioncancel",x),v={onTransitionEnd:m,onTransitionCancel:x}}),this._activeRipples.set(f,v),(p||!d)&&this._finishRippleTransition(f),f}fadeOutRipple(e){if(e.state===Fn.FADING_OUT||e.state===Fn.HIDDEN)return;let i=e.element,n=le(le({},__),e.config.animation);i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",e.state=Fn.FADING_OUT,(e._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let i=zn(e);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,E_.forEach(n=>{La._eventManager.addHandler(this._ngZone,n,i,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{S_.forEach(i=>{this._triggerElement.addEventListener(i,this,C_)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Fn.FADING_IN?this._startFadeOutTransition(e):e.state===Fn.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let i=e===this._mostRecentTransientRipple,{persistent:n}=e.config;e.state=Fn.VISIBLE,!n&&(!i||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let i=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Fn.HIDDEN,i!==null&&(e.element.removeEventListener("transitionend",i.onTransitionEnd),e.element.removeEventListener("transitioncancel",i.onTransitionCancel)),e.element.remove()}_onMousedown(e){let i=cm(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+q2;!this._target.rippleDisabled&&!i&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!um(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let i=e.changedTouches;if(i)for(let n=0;n<i.length;n++)this.fadeInRipple(i[n].clientX,i[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let i=e.state===Fn.VISIBLE||e.config.terminateOnPointerUp&&e.state===Fn.FADING_IN;!e.config.persistent&&i&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(E_.forEach(i=>La._eventManager.removeHandler(i,e,this)),this._pointerUpEventsRegistered&&(S_.forEach(i=>e.removeEventListener(i,this,C_)),this._pointerUpEventsRegistered=!1))}};La._eventManager=new bm;var vm=La;function Z2(t,e,i){let n=Math.max(Math.abs(t-i.left),Math.abs(t-i.right)),r=Math.max(Math.abs(e-i.top),Math.abs(e-i.bottom));return Math.sqrt(n*n+r*r)}var ym=new ve("mat-ripple-global-options"),Xc=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,r,o,s,a){this._elementRef=n,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new vm(this,r,n,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:le(le(le({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,r=0,o){return typeof n=="number"?this._rippleRenderer.fadeInRipple(n,r,le(le({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,le(le({},this.rippleConfig),n))}};e.\u0275fac=function(r){return new(r||e)(ue(Ue),ue(Ce),ue(at),ue(ym,8),ue(In,8))},e.\u0275dir=Xe({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){r&2&&it("mat-ripple-unbounded",o.unbounded)},inputs:{color:[Se.None,"matRippleColor","color"],unbounded:[Se.None,"matRippleUnbounded","unbounded"],centered:[Se.None,"matRippleCentered","centered"],radius:[Se.None,"matRippleRadius","radius"],animation:[Se.None,"matRippleAnimation","animation"],disabled:[Se.None,"matRippleDisabled","disabled"],trigger:[Se.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let t=e;return t})(),M_=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=ke({imports:[an,an]});let t=e;return t})();var D_={capture:!0},I_=["focus","click","mouseenter","touchstart"],pm="mat-ripple-loader-uninitialized",gm="mat-ripple-loader-class-name",T_="mat-ripple-loader-centered",$c="mat-ripple-loader-disabled",P_=(()=>{let e=class e{constructor(){this._document=oe(je,{optional:!0}),this._animationMode=oe(In,{optional:!0}),this._globalRippleOptions=oe(ym,{optional:!0}),this._platform=oe(at),this._ngZone=oe(Ce),this._hosts=new Map,this._onInteraction=n=>{if(!(n.target instanceof HTMLElement))return;let o=n.target.closest(`[${pm}]`);o&&this._createRipple(o)},this._ngZone.runOutsideAngular(()=>{for(let n of I_)this._document?.addEventListener(n,this._onInteraction,D_)})}ngOnDestroy(){let n=this._hosts.keys();for(let r of n)this.destroyRipple(r);for(let r of I_)this._document?.removeEventListener(r,this._onInteraction,D_)}configureRipple(n,r){n.setAttribute(pm,""),(r.className||!n.hasAttribute(gm))&&n.setAttribute(gm,r.className||""),r.centered&&n.setAttribute(T_,""),r.disabled&&n.setAttribute($c,"")}getRipple(n){return this._hosts.get(n)||this._createRipple(n)}setDisabled(n,r){let o=this._hosts.get(n);if(o){o.disabled=r;return}r?n.setAttribute($c,""):n.removeAttribute($c)}_createRipple(n){if(!this._document)return;let r=this._hosts.get(n);if(r)return r;n.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",n.getAttribute(gm)),n.append(o);let s=new Xc(new Ue(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=n,s.centered=n.hasAttribute(T_),s.disabled=n.hasAttribute($c),this.attachRipple(n,s),s}attachRipple(n,r){n.removeAttribute(pm),this._hosts.set(n,r)}destroyRipple(n){let r=this._hosts.get(n);r&&(r.ngOnDestroy(),this._hosts.delete(n))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Y2=["*",[["mat-toolbar-row"]]],K2=["*","mat-toolbar-row"],$2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Xe({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0});let t=e;return t})(),F_=(()=>{let e=class e{constructor(n,r,o){this._elementRef=n,this._platform=r,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}};e.\u0275fac=function(r){return new(r||e)(ue(Ue),ue(at),ue(je))},e.\u0275cmp=lt({type:e,selectors:[["mat-toolbar"]],contentQueries:function(r,o,s){if(r&1&&$i(s,$2,5),r&2){let a;ct(a=ut())&&(o._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,o){r&2&&(jn(o.color?"mat-"+o.color:""),it("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",o._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[Xt],ngContentSelectors:K2,decls:2,vars:0,template:function(r,o){r&1&&(bn(Y2),zt(0),zt(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0});let t=e;return t})();var k_=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=ke({imports:[an,an]});let t=e;return t})();var J2=["*"],Jc;function eN(){if(Jc===void 0&&(Jc=null,typeof window<"u")){let t=window;t.trustedTypes!==void 0&&(Jc=t.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Jc}function Oa(t){return eN()?.createHTML(t)||t}function R_(t){return Error(`Unable to find icon with the name "${t}"`)}function tN(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function L_(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function O_(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}var Di=class{constructor(e,i,n){this.url=e,this.svgText=i,this.options=n}},nN=(()=>{let e=class e{constructor(n,r,o,s){this._httpClient=n,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(n,r,o){return this.addSvgIconInNamespace("",n,r,o)}addSvgIconLiteral(n,r,o){return this.addSvgIconLiteralInNamespace("",n,r,o)}addSvgIconInNamespace(n,r,o,s){return this._addSvgIconConfig(n,r,new Di(o,null,s))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,r,o,s){let a=this._sanitizer.sanitize(Rt.HTML,o);if(!a)throw O_(o);let l=Oa(a);return this._addSvgIconConfig(n,r,new Di("",l,s))}addSvgIconSet(n,r){return this.addSvgIconSetInNamespace("",n,r)}addSvgIconSetLiteral(n,r){return this.addSvgIconSetLiteralInNamespace("",n,r)}addSvgIconSetInNamespace(n,r,o){return this._addSvgIconSetConfig(n,new Di(r,null,o))}addSvgIconSetLiteralInNamespace(n,r,o){let s=this._sanitizer.sanitize(Rt.HTML,r);if(!s)throw O_(r);let a=Oa(s);return this._addSvgIconSetConfig(n,new Di("",a,o))}registerFontClassAlias(n,r=n){return this._fontCssClassesByAlias.set(n,r),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(...n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){let r=this._sanitizer.sanitize(Rt.RESOURCE_URL,n);if(!r)throw L_(n);let o=this._cachedIconsByUrl.get(r);return o?Ae(eu(o)):this._loadSvgIconFromConfig(new Di(n,null)).pipe(st(s=>this._cachedIconsByUrl.set(r,s)),_e(s=>eu(s)))}getNamedSvgIcon(n,r=""){let o=N_(r,n),s=this._svgIconConfigs.get(o);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,n),s)return this._svgIconConfigs.set(o,s),this._getSvgFromConfig(s);let a=this._iconSetConfigs.get(r);return a?this._getSvgFromIconSetConfigs(n,a):Li(R_(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?Ae(eu(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe(_e(r=>eu(r)))}_getSvgFromIconSetConfigs(n,r){let o=this._extractIconWithNameFromAnySet(n,r);if(o)return Ae(o);let s=r.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(qn(l=>{let u=`Loading icon set URL: ${this._sanitizer.sanitize(Rt.RESOURCE_URL,a.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(u)),Ae(null)})));return ih(s).pipe(_e(()=>{let a=this._extractIconWithNameFromAnySet(n,r);if(!a)throw R_(n);return a}))}_extractIconWithNameFromAnySet(n,r){for(let o=r.length-1;o>=0;o--){let s=r[o];if(s.svgText&&s.svgText.toString().indexOf(n)>-1){let a=this._svgElementFromConfig(s),l=this._extractSvgIconFromSet(a,n,s.options);if(l)return l}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe(st(r=>n.svgText=r),_e(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?Ae(null):this._fetchIcon(n).pipe(st(r=>n.svgText=r))}_extractSvgIconFromSet(n,r,o){let s=n.querySelector(`[id="${r}"]`);if(!s)return null;let a=s.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,o);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),o);let l=this._svgElementFromString(Oa("<svg></svg>"));return l.appendChild(a),this._setSvgAttributes(l,o)}_svgElementFromString(n){let r=this._document.createElement("DIV");r.innerHTML=n;let o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(n){let r=this._svgElementFromString(Oa("<svg></svg>")),o=n.attributes;for(let s=0;s<o.length;s++){let{name:a,value:l}=o[s];a!=="id"&&r.setAttribute(a,l)}for(let s=0;s<n.childNodes.length;s++)n.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(n.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(n,r){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),r&&r.viewBox&&n.setAttribute("viewBox",r.viewBox),n}_fetchIcon(n){let{url:r,options:o}=n,s=o?.withCredentials??!1;if(!this._httpClient)throw tN();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let a=this._sanitizer.sanitize(Rt.RESOURCE_URL,r);if(!a)throw L_(r);let l=this._inProgressUrlFetches.get(a);if(l)return l;let d=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(_e(u=>Oa(u)),Vi(()=>this._inProgressUrlFetches.delete(a)),lh());return this._inProgressUrlFetches.set(a,d),d}_addSvgIconConfig(n,r,o){return this._svgIconConfigs.set(N_(n,r),o),this}_addSvgIconSetConfig(n,r){let o=this._iconSetConfigs.get(n);return o?o.push(r):this._iconSetConfigs.set(n,[r]),this}_svgElementFromConfig(n){if(!n.svgElement){let r=this._svgElementFromString(n.svgText);this._setSvgAttributes(r,n.options),n.svgElement=r}return n.svgElement}_getIconConfigFromResolvers(n,r){for(let o=0;o<this._resolvers.length;o++){let s=this._resolvers[o](r,n);if(s)return iN(s)?new Di(s.url,null,s.options):new Di(s,null)}}};e.\u0275fac=function(r){return new(r||e)(se(kw,8),se(oa),se(je,8),se(Kt))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function eu(t){return t.cloneNode(!0)}function N_(t,e){return t+":"+e}function iN(t){return!!(t.url&&t.options)}var rN=new ve("MAT_ICON_DEFAULT_OPTIONS"),oN=new ve("mat-icon-location",{providedIn:"root",factory:sN});function sN(){let t=oe(je),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var B_=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],aN=B_.map(t=>`[${t}]`).join(", "),lN=/^url\(['"]?#(.*?)['"]?\)$/,V_=(()=>{let e=class e{get color(){return this._color||this._defaultColor}set color(n){this._color=n}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){let r=this._cleanupFontValue(n);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){let r=this._cleanupFontValue(n);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(n,r,o,s,a,l){this._elementRef=n,this._iconRegistry=r,this._location=s,this._errorHandler=a,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ye.EMPTY,l&&(l.color&&(this.color=this._defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),o||n.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(n){if(!n)return["",""];let r=n.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let n=this._elementsWithExternalReferences;if(n&&n.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){let n=this._elementRef.nativeElement,r=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let o=n.childNodes[r];(o.nodeType!==1||o.nodeName.toLowerCase()==="svg")&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let n=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>n.classList.remove(o)),r.forEach(o=>n.classList.add(o)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return typeof n=="string"?n.trim().split(" ")[0]:n}_prependPathToReferences(n){let r=this._elementsWithExternalReferences;r&&r.forEach((o,s)=>{o.forEach(a=>{s.setAttribute(a.name,`url('${n}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(n){let r=n.querySelectorAll(aN),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)B_.forEach(a=>{let l=r[s],d=l.getAttribute(a),u=d?d.match(lN):null;if(u){let c=o.get(l);c||(c=[],o.set(l,c)),c.push({name:a,value:u[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){let[r,o]=this._splitIconName(n);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe(Nt(1)).subscribe(s=>this._setSvgElement(s),s=>{let a=`Error retrieving icon ${r}:${o}! ${s.message}`;this._errorHandler.handleError(new Error(a))})}}};e.\u0275fac=function(r){return new(r||e)(ue(Ue),ue(nN),Ks("aria-hidden"),ue(oN),ue(Kt),ue(rN,8))},e.\u0275cmp=lt({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,o){r&2&&(sn("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),jn(o.color?"mat-"+o.color:""),it("mat-icon-inline",o.inline)("mat-icon-no-color",o.color!=="primary"&&o.color!=="accent"&&o.color!=="warn"))},inputs:{color:"color",inline:[Se.HasDecoratorInputTransform,"inline","inline",tt],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[St,Xt],ngContentSelectors:J2,decls:1,vars:0,template:function(r,o){r&1&&(bn(),zt(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let t=e;return t})(),j_=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=ke({imports:[an,an]});let t=e;return t})();var Na=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Am=class extends Na{constructor(e,i,n,r,o){super(),this.component=e,this.viewContainerRef=i,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=o}},rs=class extends Na{constructor(e,i,n,r){super(),this.templateRef=e,this.viewContainerRef=i,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,i=this.context){return this.context=i,super.attach(e)}detach(){return this.context=void 0,super.detach()}},wm=class extends Na{constructor(e){super(),this.element=e instanceof Ue?e.nativeElement:e}},xm=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Am)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof rs)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof wm)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var H_=(()=>{let e=class e extends rs{constructor(n,r){super(n,r)}};e.\u0275fac=function(r){return new(r||e)(ue(Ht),ue($t))},e.\u0275dir=Xe({type:e,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[mn]});let t=e;return t})();var tu=(()=>{let e=class e extends xm{constructor(n,r,o){super(),this._componentFactoryResolver=n,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Be,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);let r=n.viewContainerRef!=null?n.viewContainerRef:this._viewContainerRef,s=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),a=r.createComponent(s,r.length,n.injector||r.injector,n.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=n,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(n){n.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}};e.\u0275fac=function(r){return new(r||e)(ue(Zi),ue($t),ue(je))},e.\u0275dir=Xe({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[Se.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[mn]});let t=e;return t})();var cN=20,uN=(()=>{let e=class e{constructor(n,r,o){this._ngZone=n,this._platform=r,this._scrolled=new ze,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=cN){return this._platform.isBrowser?new Te(r=>{this._globalSubscription||this._addGlobalListener();let o=n>0?this._scrolled.pipe(Pl(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ae()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){let o=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(ot(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(n){let r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,n)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,r){let o=zn(r),s=n.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let n=this._getWindow();return Qn(n.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(se(Ce),se(at),se(je,8))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),U_=(()=>{let e=class e{constructor(n,r,o,s){this.elementRef=n,this.scrollDispatcher=r,this.ngZone=o,this.dir=s,this._destroyed=new ze,this._elementScrolled=new Te(a=>this.ngZone.runOutsideAngular(()=>Qn(this.elementRef.nativeElement,"scroll").pipe(Qt(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(n){let r=this.elementRef.nativeElement,o=this.dir&&this.dir.value=="rtl";n.left==null&&(n.left=o?n.end:n.start),n.right==null&&(n.right=o?n.start:n.end),n.bottom!=null&&(n.top=r.scrollHeight-r.clientHeight-n.bottom),o&&ts()!=Un.NORMAL?(n.left!=null&&(n.right=r.scrollWidth-r.clientWidth-n.left),ts()==Un.INVERTED?n.left=n.right:ts()==Un.NEGATED&&(n.left=n.right?-n.right:n.right)):n.right!=null&&(n.left=r.scrollWidth-r.clientWidth-n.right),this._applyScrollToOptions(n)}_applyScrollToOptions(n){let r=this.elementRef.nativeElement;d_()?r.scrollTo(n):(n.top!=null&&(r.scrollTop=n.top),n.left!=null&&(r.scrollLeft=n.left))}measureScrollOffset(n){let r="left",o="right",s=this.elementRef.nativeElement;if(n=="top")return s.scrollTop;if(n=="bottom")return s.scrollHeight-s.clientHeight-s.scrollTop;let a=this.dir&&this.dir.value=="rtl";return n=="start"?n=a?o:r:n=="end"&&(n=a?r:o),a&&ts()==Un.INVERTED?n==r?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:a&&ts()==Un.NEGATED?n==r?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:n==r?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}};e.\u0275fac=function(r){return new(r||e)(ue(Ue),ue(uN),ue(Ce),ue(is,8))},e.\u0275dir=Xe({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0});let t=e;return t})(),hN=20,_m=(()=>{let e=class e{constructor(n,r,o){this._platform=n,this._change=new ze,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(n.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+o,right:n.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,r=this._getWindow(),o=n.documentElement,s=o.getBoundingClientRect(),a=-s.top||n.body.scrollTop||r.scrollY||o.scrollTop||0,l=-s.left||n.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:a,left:l}}change(n=hN){return n>0?this._change.pipe(Pl(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(r){return new(r||e)(se(at),se(Ce),se(je,8))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Dm=["*"];function mN(t,e){t&1&&zt(0)}var bN=["tabListContainer"],vN=["tabList"],yN=["tabListInner"],AN=["nextPaginator"],wN=["previousPaginator"],xN=t=>({animationDuration:t}),_N=(t,e)=>({value:t,params:e});function CN(t,e){}var EN=["tabBodyWrapper"],SN=["tabHeader"];function DN(t,e){}function IN(t,e){if(t&1&&Ut(0,DN,0,0,"ng-template",12),t&2){let i=mt().$implicit;et("cdkPortalOutlet",i.templateLabel)}}function TN(t,e){if(t&1&&ye(0),t&2){let i=mt().$implicit;Hd(i.textLabel)}}function MN(t,e){if(t&1){let i=ti();pe(0,"div",7,2),Lt("click",function(){let r=pt(i),o=r.$implicit,s=r.$index,a=mt(),l=jd(1);return gt(a._handleClick(o,l,s))})("cdkFocusChange",function(r){let o=pt(i).$index,s=mt();return gt(s._tabFocusChanged(r,o))}),xe(2,"span",8)(3,"div",9),pe(4,"span",10)(5,"span",11),Ut(6,IN,1,1,null,12)(7,TN,1,1),he()()()}if(t&2){let i=e.$implicit,n=e.$index,r=jd(1),o=mt();jn(i.labelClass),it("mdc-tab--active",o.selectedIndex===n),et("id",o._getTabLabelId(n))("disabled",i.disabled)("fitInkBarToContent",o.fitInkBarToContent),sn("tabIndex",o._getTabIndex(n))("aria-posinset",n+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(n))("aria-selected",o.selectedIndex===n)("aria-label",i.ariaLabel||null)("aria-labelledby",!i.ariaLabel&&i.ariaLabelledby?i.ariaLabelledby:null),dt(3),et("matRippleTrigger",r)("matRippleDisabled",i.disabled||o.disableRipple),dt(3),Nd(6,i.templateLabel?6:7)}}function PN(t,e){t&1&&zt(0)}function FN(t,e){if(t&1){let i=ti();pe(0,"mat-tab-body",13),Lt("_onCentered",function(){pt(i);let r=mt();return gt(r._removeTabBodyWrapperHeight())})("_onCentering",function(r){pt(i);let o=mt();return gt(o._setTabBodyWrapperHeight(r))}),he()}if(t&2){let i=e.$implicit,n=e.$index,r=mt();jn(i.bodyClass),it("mat-mdc-tab-body-active",r.selectedIndex===n),et("id",r._getTabContentId(n))("content",i.content)("position",i.position)("origin",i.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),sn("tabindex",r.contentTabIndex!=null&&r.selectedIndex===n?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(n))("aria-hidden",r.selectedIndex!==n)}}var kN=new ve("MatTabContent"),RN=(()=>{let e=class e{constructor(n){this.template=n}};e.\u0275fac=function(r){return new(r||e)(ue(Ht))},e.\u0275dir=Xe({type:e,selectors:[["","matTabContent",""]],standalone:!0,features:[ni([{provide:kN,useExisting:e}])]});let t=e;return t})(),LN=new ve("MatTabLabel"),W_=new ve("MAT_TAB"),ON=(()=>{let e=class e extends H_{constructor(n,r,o){super(n,r),this._closestTab=o}};e.\u0275fac=function(r){return new(r||e)(ue(Ht),ue($t),ue(W_,8))},e.\u0275dir=Xe({type:e,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[ni([{provide:LN,useExisting:e}]),mn]});let t=e;return t})(),Q_=new ve("MAT_TAB_GROUP"),Im=(()=>{let e=class e{get templateLabel(){return this._templateLabel}set templateLabel(n){this._setTemplateLabelInput(n)}get content(){return this._contentPortal}constructor(n,r){this._viewContainerRef=n,this._closestTabGroup=r,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new ze,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(n){(n.hasOwnProperty("textLabel")||n.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new rs(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(n){n&&n._closestTab===this&&(this._templateLabel=n)}};e.\u0275fac=function(r){return new(r||e)(ue($t),ue(Q_,8))},e.\u0275cmp=lt({type:e,selectors:[["mat-tab"]],contentQueries:function(r,o,s){if(r&1&&($i(s,ON,5),$i(s,RN,7,Ht)),r&2){let a;ct(a=ut())&&(o.templateLabel=a.first),ct(a=ut())&&(o._explicitContent=a.first)}},viewQuery:function(r,o){if(r&1&&Gt(Ht,7),r&2){let s;ct(s=ut())&&(o._implicitContent=s.first)}},hostAttrs:["hidden",""],inputs:{disabled:[Se.HasDecoratorInputTransform,"disabled","disabled",tt],textLabel:[Se.None,"label","textLabel"],ariaLabel:[Se.None,"aria-label","ariaLabel"],ariaLabelledby:[Se.None,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[ni([{provide:W_,useExisting:e}]),St,pn,Xt],ngContentSelectors:Dm,decls:1,vars:0,template:function(r,o){r&1&&(bn(),Ut(0,mN,1,0,"ng-template"))},encapsulation:2});let t=e;return t})(),Cm="mdc-tab-indicator--active",z_="mdc-tab-indicator--no-transition",Em=class{constructor(e){this._items=e}hide(){this._items.forEach(e=>e.deactivateInkBar())}alignToElement(e){let i=this._items.find(r=>r.elementRef.nativeElement===e),n=this._currentItem;if(i!==n&&(n?.deactivateInkBar(),i)){let r=n?.elementRef.nativeElement.getBoundingClientRect?.();i.activateInkBar(r),this._currentItem=i}}},NN=(()=>{let e=class e{constructor(){this._elementRef=oe(Ue),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(n){this._fitToContent!==n&&(this._fitToContent=n,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(n){let r=this._elementRef.nativeElement;if(!n||!r.getBoundingClientRect||!this._inkBarContentElement){r.classList.add(Cm);return}let o=r.getBoundingClientRect(),s=n.width/o.width,a=n.left-o.left;r.classList.add(z_),this._inkBarContentElement.style.setProperty("transform",`translateX(${a}px) scaleX(${s})`),r.getBoundingClientRect(),r.classList.remove(z_),r.classList.add(Cm),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(Cm)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let n=this._elementRef.nativeElement.ownerDocument||document,r=this._inkBarElement=n.createElement("span"),o=this._inkBarContentElement=n.createElement("span");r.className="mdc-tab-indicator",o.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",r.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let n=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;n.appendChild(this._inkBarElement)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Xe({type:e,inputs:{fitInkBarToContent:[Se.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",tt]},features:[St]});let t=e;return t})();var q_=(()=>{let e=class e extends NN{constructor(n){super(),this.elementRef=n,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}};e.\u0275fac=function(r){return new(r||e)(ue(Ue))},e.\u0275dir=Xe({type:e,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(r,o){r&2&&(sn("aria-disabled",!!o.disabled),it("mat-mdc-tab-disabled",o.disabled))},inputs:{disabled:[Se.HasDecoratorInputTransform,"disabled","disabled",tt]},standalone:!0,features:[St,mn]});let t=e;return t})(),G_=or({passive:!0}),BN=650,VN=100,jN=(()=>{let e=class e{get selectedIndex(){return this._selectedIndex}set selectedIndex(n){let r=isNaN(n)?0:n;this._selectedIndex!=r&&(this._selectedIndexChanged=!0,this._selectedIndex=r,this._keyManager&&this._keyManager.updateActiveItem(r))}constructor(n,r,o,s,a,l,d){this._elementRef=n,this._changeDetectorRef=r,this._viewportRuler=o,this._dir=s,this._ngZone=a,this._platform=l,this._animationMode=d,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new ze,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new ze,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new Be,this.indexFocused=new Be,a.runOutsideAngular(()=>{Qn(n.nativeElement,"mouseleave").pipe(Qt(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){Qn(this._previousPaginator.nativeElement,"touchstart",G_).pipe(Qt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Qn(this._nextPaginator.nativeElement,"touchstart",G_).pipe(Qt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){let n=this._dir?this._dir.change:Ae("ltr"),r=this._viewportRuler.change(150),o=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Kc(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(Nt(1)).subscribe(o),Is(n,r,this._items.changes,this._itemsResized()).pipe(Qt(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),o()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return typeof ResizeObserver!="function"?Pt:this._items.changes.pipe(Yn(this._items),Bt(n=>new Te(r=>this._ngZone.runOutsideAngular(()=>{let o=new ResizeObserver(s=>r.next(s));return n.forEach(s=>o.observe(s.elementRef.nativeElement)),()=>{o.disconnect()}}))),yr(1),ot(n=>n.some(r=>r.contentRect.width>0&&r.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(n){if(!Qc(n))switch(n.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let r=this._items.get(this.focusIndex);r&&!r.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(n))}break;default:this._keyManager.onKeydown(n)}}_onContentChanges(){let n=this._elementRef.nativeElement.textContent;n!==this._currentTextContent&&(this._currentTextContent=n||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(n){!this._isValidIndex(n)||this.focusIndex===n||!this._keyManager||this._keyManager.setActiveItem(n)}_isValidIndex(n){return this._items?!!this._items.toArray()[n]:!0}_setTabFocus(n){if(this._showPaginationControls&&this._scrollToLabel(n),this._items&&this._items.length){this._items.toArray()[n].focus();let r=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?r.scrollLeft=0:r.scrollLeft=r.scrollWidth-r.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let n=this.scrollDistance,r=this._getLayoutDirection()==="ltr"?-n:n;this._tabList.nativeElement.style.transform=`translateX(${Math.round(r)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(n){this._scrollTo(n)}_scrollHeader(n){let r=this._tabListContainer.nativeElement.offsetWidth,o=(n=="before"?-1:1)*r/3;return this._scrollTo(this._scrollDistance+o)}_handlePaginatorClick(n){this._stopInterval(),this._scrollHeader(n)}_scrollToLabel(n){if(this.disablePagination)return;let r=this._items?this._items.toArray()[n]:null;if(!r)return;let o=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:a}=r.elementRef.nativeElement,l,d;this._getLayoutDirection()=="ltr"?(l=s,d=l+a):(d=this._tabListInner.nativeElement.offsetWidth-s,l=d-a);let u=this.scrollDistance,c=this.scrollDistance+o;l<u?this.scrollDistance-=u-l:d>c&&(this.scrollDistance+=Math.min(d-c,l-u))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let n=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;n||(this.scrollDistance=0),n!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=n}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let n=this._tabListInner.nativeElement.scrollWidth,r=this._tabListContainer.nativeElement.offsetWidth;return n-r||0}_alignInkBarToSelectedTab(){let n=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,r=n?n.elementRef.nativeElement:null;r?this._inkBar.alignToElement(r):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(n,r){r&&r.button!=null&&r.button!==0||(this._stopInterval(),Ds(BN,VN).pipe(Qt(Is(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:o,distance:s}=this._scrollHeader(n);(s===0||s>=o)&&this._stopInterval()}))}_scrollTo(n){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let r=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(r,n)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:r,distance:this._scrollDistance}}};e.\u0275fac=function(r){return new(r||e)(ue(Ue),ue(Jt),ue(_m),ue(is,8),ue(Ce),ue(at),ue(In,8))},e.\u0275dir=Xe({type:e,inputs:{disablePagination:[Se.HasDecoratorInputTransform,"disablePagination","disablePagination",tt],selectedIndex:[Se.HasDecoratorInputTransform,"selectedIndex","selectedIndex",No]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[St]});let t=e;return t})(),HN=(()=>{let e=class e extends jN{constructor(n,r,o,s,a,l,d){super(n,r,o,s,a,l,d),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new Em(this._items),super.ngAfterContentInit()}_itemSelected(n){n.preventDefault()}};e.\u0275fac=function(r){return new(r||e)(ue(Ue),ue(Jt),ue(_m),ue(is,8),ue(Ce),ue(at),ue(In,8))},e.\u0275cmp=lt({type:e,selectors:[["mat-tab-header"]],contentQueries:function(r,o,s){if(r&1&&$i(s,q_,4),r&2){let a;ct(a=ut())&&(o._items=a)}},viewQuery:function(r,o){if(r&1&&(Gt(bN,7),Gt(vN,7),Gt(yN,7),Gt(AN,5),Gt(wN,5)),r&2){let s;ct(s=ut())&&(o._tabListContainer=s.first),ct(s=ut())&&(o._tabList=s.first),ct(s=ut())&&(o._tabListInner=s.first),ct(s=ut())&&(o._nextPaginator=s.first),ct(s=ut())&&(o._previousPaginator=s.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(r,o){r&2&&it("mat-mdc-tab-header-pagination-controls-enabled",o._showPaginationControls)("mat-mdc-tab-header-rtl",o._getLayoutDirection()=="rtl")},inputs:{disableRipple:[Se.HasDecoratorInputTransform,"disableRipple","disableRipple",tt]},standalone:!0,features:[St,mn,Xt],ngContentSelectors:Dm,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled","disabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled","disabled"]],template:function(r,o){if(r&1){let s=ti();bn(),pe(0,"button",5,0),Lt("click",function(){return pt(s),gt(o._handlePaginatorClick("before"))})("mousedown",function(l){return pt(s),gt(o._handlePaginatorPress("before",l))})("touchend",function(){return pt(s),gt(o._stopInterval())}),xe(2,"div",6),he(),pe(3,"div",7,1),Lt("keydown",function(l){return pt(s),gt(o._handleKeydown(l))}),pe(5,"div",8,2),Lt("cdkObserveContent",function(){return pt(s),gt(o._onContentChanges())}),pe(7,"div",9,3),zt(9),he()()(),pe(10,"button",10,4),Lt("mousedown",function(l){return pt(s),gt(o._handlePaginatorPress("after",l))})("click",function(){return pt(s),gt(o._handlePaginatorClick("after"))})("touchend",function(){return pt(s),gt(o._stopInterval())}),xe(12,"div",6),he()}r&2&&(it("mat-mdc-tab-header-pagination-disabled",o._disableScrollBefore),et("matRippleDisabled",o._disableScrollBefore||o.disableRipple)("disabled",o._disableScrollBefore||null),dt(3),it("_mat-animation-noopable",o._animationMode==="NoopAnimations"),dt(7),it("mat-mdc-tab-header-pagination-disabled",o._disableScrollAfter),et("matRippleDisabled",o._disableScrollAfter||o.disableRipple)("disabled",o._disableScrollAfter||null))},dependencies:[Xc,h_],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2});let t=e;return t})(),UN=new ve("MAT_TABS_CONFIG"),zN={translateTab:Uw("translateTab",[ac("center, void, left-origin-center, right-origin-center",Ci({transform:"none"})),ac("left",Ci({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),ac("right",Ci({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),lc("* => left, * => right, left => center, right => center",sc("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),lc("void => left-origin-center",[Ci({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),sc("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),lc("void => right-origin-center",[Ci({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),sc("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])},GN=(()=>{let e=class e extends tu{constructor(n,r,o,s){super(n,r,s),this._host=o,this._centeringSub=Ye.EMPTY,this._leavingSub=Ye.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Yn(this._host._isCenterPosition(this._host._position))).subscribe(n=>{n&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(ue(Zi),ue($t),ue(Gs(()=>Z_)),ue(je))},e.\u0275dir=Xe({type:e,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[mn]});let t=e;return t})(),Z_=(()=>{let e=class e{set position(n){this._positionIndex=n,this._computePositionAnimationState()}constructor(n,r,o){this._elementRef=n,this._dir=r,this._dirChangeSubscription=Ye.EMPTY,this._translateTabComplete=new ze,this._onCentering=new Be,this._beforeCentering=new Be,this._afterLeavingCenter=new Be,this._onCentered=new Be(!0),this.animationDuration="500ms",this.preserveContent=!1,r&&(this._dirChangeSubscription=r.change.subscribe(s=>{this._computePositionAnimationState(s),o.markForCheck()})),this._translateTabComplete.pipe(uo((s,a)=>s.fromState===a.fromState&&s.toState===a.toState)).subscribe(s=>{this._isCenterPosition(s.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(s.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){this._position=="center"&&this.origin!=null&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(n){let r=this._isCenterPosition(n.toState);this._beforeCentering.emit(r),r&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(n){return n=="center"||n=="left-origin-center"||n=="right-origin-center"}_computePositionAnimationState(n=this._getLayoutDirection()){this._positionIndex<0?this._position=n=="ltr"?"left":"right":this._positionIndex>0?this._position=n=="ltr"?"right":"left":this._position="center"}_computePositionFromOrigin(n){let r=this._getLayoutDirection();return r=="ltr"&&n<=0||r=="rtl"&&n>0?"left-origin-center":"right-origin-center"}};e.\u0275fac=function(r){return new(r||e)(ue(Ue),ue(is,8),ue(Jt))},e.\u0275cmp=lt({type:e,selectors:[["mat-tab-body"]],viewQuery:function(r,o){if(r&1&&Gt(tu,5),r&2){let s;ct(s=ut())&&(o._portalHost=s.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[Se.None,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[Xt],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(r,o){if(r&1){let s=ti();pe(0,"div",1,0),Lt("@translateTab.start",function(l){return pt(s),gt(o._onTranslateTabStarted(l))})("@translateTab.done",function(l){return pt(s),gt(o._translateTabComplete.next(l))}),Ut(2,CN,0,0,"ng-template",2),he()}r&2&&et("@translateTab",rw(3,_N,o._position,iw(1,xN,o.animationDuration)))},dependencies:[GN,U_],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[zN.translateTab]}});let t=e;return t})(),WN=0,QN=!0,Y_=(()=>{let e=class e{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(n){this._fitInkBarToContent=n,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(n){this._indexToSelect=isNaN(n)?null:n}get animationDuration(){return this._animationDuration}set animationDuration(n){let r=n+"";this._animationDuration=/^\d+$/.test(r)?n+"ms":r}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(n){this._contentTabIndex=isNaN(n)?null:n}get backgroundColor(){return this._backgroundColor}set backgroundColor(n){if(!QN)throw new Error("mat-tab-group background color must be set through the Sass theming API");let r=this._elementRef.nativeElement.classList;r.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),n&&r.add("mat-tabs-with-background",`mat-background-${n}`),this._backgroundColor=n}constructor(n,r,o,s){this._elementRef=n,this._changeDetectorRef=r,this._animationMode=s,this._tabs=new Gi,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Ye.EMPTY,this._tabLabelSubscription=Ye.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new Be,this.focusChange=new Be,this.animationDone=new Be,this.selectedTabChange=new Be(!0),this._isServer=!oe(at).isBrowser,this._groupId=WN++,this.animationDuration=o&&o.animationDuration?o.animationDuration:"500ms",this.disablePagination=o&&o.disablePagination!=null?o.disablePagination:!1,this.dynamicHeight=o&&o.dynamicHeight!=null?o.dynamicHeight:!1,o?.contentTabIndex!=null&&(this.contentTabIndex=o.contentTabIndex),this.preserveContent=!!o?.preserveContent,this.fitInkBarToContent=o&&o.fitInkBarToContent!=null?o.fitInkBarToContent:!1,this.stretchTabs=o&&o.stretchTabs!=null?o.stretchTabs:!0}ngAfterContentChecked(){let n=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=n){let r=this._selectedIndex==null;if(!r){this.selectedTabChange.emit(this._createChangeEvent(n));let o=this._tabBodyWrapper.nativeElement;o.style.minHeight=o.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((o,s)=>o.isActive=s===n),r||(this.selectedIndexChange.emit(n),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((r,o)=>{r.position=o-n,this._selectedIndex!=null&&r.position==0&&!r.origin&&(r.origin=n-this._selectedIndex)}),this._selectedIndex!==n&&(this._selectedIndex=n,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let n=this._clampTabIndex(this._indexToSelect);if(n===this._selectedIndex){let r=this._tabs.toArray(),o;for(let s=0;s<r.length;s++)if(r[s].isActive){this._indexToSelect=this._selectedIndex=s,this._lastFocusedTabIndex=null,o=r[s];break}!o&&r[n]&&Promise.resolve().then(()=>{r[n].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(n))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Yn(this._allTabs)).subscribe(n=>{this._tabs.reset(n.filter(r=>r._closestTabGroup===this||!r._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(n){let r=this._tabHeader;r&&(r.focusIndex=n)}_focusChanged(n){this._lastFocusedTabIndex=n,this.focusChange.emit(this._createChangeEvent(n))}_createChangeEvent(n){let r=new Sm;return r.index=n,this._tabs&&this._tabs.length&&(r.tab=this._tabs.toArray()[n]),r}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Is(...this._tabs.map(n=>n._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(n){return Math.min(this._tabs.length-1,Math.max(n||0,0))}_getTabLabelId(n){return`mat-tab-label-${this._groupId}-${n}`}_getTabContentId(n){return`mat-tab-content-${this._groupId}-${n}`}_setTabBodyWrapperHeight(n){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;let r=this._tabBodyWrapper.nativeElement;r.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(r.style.height=n+"px")}_removeTabBodyWrapperHeight(){let n=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=n.clientHeight,n.style.height="",this.animationDone.emit()}_handleClick(n,r,o){r.focusIndex=o,n.disabled||(this.selectedIndex=o)}_getTabIndex(n){let r=this._lastFocusedTabIndex??this.selectedIndex;return n===r?0:-1}_tabFocusChanged(n,r){n&&n!=="mouse"&&n!=="touch"&&(this._tabHeader.focusIndex=r)}};e.\u0275fac=function(r){return new(r||e)(ue(Ue),ue(Jt),ue(UN,8),ue(In,8))},e.\u0275cmp=lt({type:e,selectors:[["mat-tab-group"]],contentQueries:function(r,o,s){if(r&1&&$i(s,Im,5),r&2){let a;ct(a=ut())&&(o._allTabs=a)}},viewQuery:function(r,o){if(r&1&&(Gt(EN,5),Gt(SN,5)),r&2){let s;ct(s=ut())&&(o._tabBodyWrapper=s.first),ct(s=ut())&&(o._tabHeader=s.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(r,o){r&2&&(jn("mat-"+(o.color||"primary")),Ki("--mat-tab-animation-duration",o.animationDuration),it("mat-mdc-tab-group-dynamic-height",o.dynamicHeight)("mat-mdc-tab-group-inverted-header",o.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",o.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[Se.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",tt],stretchTabs:[Se.HasDecoratorInputTransform,"mat-stretch-tabs","stretchTabs",tt],dynamicHeight:[Se.HasDecoratorInputTransform,"dynamicHeight","dynamicHeight",tt],selectedIndex:[Se.HasDecoratorInputTransform,"selectedIndex","selectedIndex",No],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[Se.HasDecoratorInputTransform,"contentTabIndex","contentTabIndex",No],disablePagination:[Se.HasDecoratorInputTransform,"disablePagination","disablePagination",tt],disableRipple:[Se.HasDecoratorInputTransform,"disableRipple","disableRipple",tt],preserveContent:[Se.HasDecoratorInputTransform,"preserveContent","preserveContent",tt],backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[ni([{provide:Q_,useExisting:e}]),St,Xt],ngContentSelectors:Dm,decls:9,vars:6,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","class","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","content","position","origin","animationDuration","preserveContent"]],template:function(r,o){if(r&1){let s=ti();bn(),pe(0,"mat-tab-header",3,0),Lt("indexFocused",function(l){return pt(s),gt(o._focusChanged(l))})("selectFocusedIndex",function(l){return pt(s),gt(o.selectedIndex=l)}),mp(2,MN,8,17,"div",4,gp),he(),Ut(4,PN,1,0),pe(5,"div",5,1),mp(7,FN,1,13,"mat-tab-body",6,gp),he()}r&2&&(et("selectedIndex",o.selectedIndex||0)("disableRipple",o.disableRipple)("disablePagination",o.disablePagination),dt(2),bp(o._tabs),dt(2),Nd(4,o._isServer?4:-1),dt(),it("_mat-animation-noopable",o._animationMode==="NoopAnimations"),dt(2),bp(o._tabs))},dependencies:[HN,q_,y_,Xc,tu,Z_],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2});let t=e;return t})(),Sm=class{};var K_=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=ke({imports:[an,an]});let t=e;return t})();var ZN=["mat-button",""],YN=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],KN=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var $N=new ve("MAT_BUTTON_CONFIG");var XN=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],JN=(()=>{let e=class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(n){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,n)}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}constructor(n,r,o,s){this._elementRef=n,this._platform=r,this._ngZone=o,this._animationMode=s,this._focusMonitor=oe(hm),this._rippleLoader=oe(P_),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let a=oe($N,{optional:!0}),l=n.nativeElement,d=l.classList;this.disabledInteractive=a?.disabledInteractive??!1,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(let{attribute:u,mdcClasses:c}of XN)l.hasAttribute(u)&&d.add(...c)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",r){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};e.\u0275fac=function(r){Md()},e.\u0275dir=Xe({type:e,inputs:{color:"color",disableRipple:[Se.HasDecoratorInputTransform,"disableRipple","disableRipple",tt],disabled:[Se.HasDecoratorInputTransform,"disabled","disabled",tt],ariaDisabled:[Se.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",tt],disabledInteractive:[Se.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",tt]},features:[St]});let t=e;return t})();var $_=(()=>{let e=class e extends JN{constructor(n,r,o,s){super(n,r,o,s)}};e.\u0275fac=function(r){return new(r||e)(ue(Ue),ue(at),ue(Ce),ue(In,8))},e.\u0275cmp=lt({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(sn("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),jn(o.color?"mat-"+o.color:""),it("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[mn,Xt],attrs:ZN,ngContentSelectors:KN,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(bn(YN),xe(0,"span",0),zt(1),pe(2,"span",1),zt(3,1),he(),zt(4,2),xe(5,"span",2)(6,"span",3)),r&2&&it("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let t=e;return t})();var X_=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=ke({imports:[an,M_,an]});let t=e;return t})();var J_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nu=function(t){return t&&t.Math==Math&&t},Ne=nu(typeof globalThis=="object"&&globalThis)||nu(typeof window=="object"&&window)||nu(typeof self=="object"&&self)||nu(typeof J_=="object"&&J_)||function(){return this}()||Function("return this")(),fs={},ln=function(t){try{return!!t()}catch{return!0}},tB=ln,dr=!tB(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),nB=ln,Au=!nB(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),iB=Au,iu=Function.prototype.call,dn=iB?iu.bind(iu):function(){return iu.apply(iu,arguments)},E1={},S1={}.propertyIsEnumerable,D1=Object.getOwnPropertyDescriptor,rB=D1&&!S1.call({1:2},1);E1.f=rB?function(e){var i=D1(this,e);return!!i&&i.enumerable}:S1;var I1=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},T1=Au,M1=Function.prototype,oB=M1.bind,cb=M1.call,sB=T1&&oB.bind(cb,cb),yt=T1?function(t){return t&&sB(t)}:function(t){return t&&function(){return cb.apply(t,arguments)}},P1=yt,aB=P1({}.toString),lB=P1("".slice),Wa=function(t){return lB(aB(t),8,-1)},dB=Ne,cB=yt,uB=ln,hB=Wa,Tm=dB.Object,fB=cB("".split),pB=uB(function(){return!Tm("z").propertyIsEnumerable(0)})?function(t){return hB(t)=="String"?fB(t,""):Tm(t)}:Tm,gB=Ne,mB=gB.TypeError,Kr=function(t){if(t==null)throw mB("Can't call method on "+t);return t},bB=pB,vB=Kr,wu=function(t){return bB(vB(t))},It=function(t){return typeof t=="function"},yB=It,cr=function(t){return typeof t=="object"?t!==null:yB(t)},Mm=Ne,AB=It,wB=function(t){return AB(t)?t:void 0},ur=function(t,e){return arguments.length<2?wB(Mm[t]):Mm[t]&&Mm[t][e]},xB=yt,Pb=xB({}.isPrototypeOf),_B=ur,xu=_B("navigator","userAgent")||"",F1=Ne,Pm=xu,eC=F1.process,tC=F1.Deno,nC=eC&&eC.versions||tC&&tC.version,iC=nC&&nC.v8,Gn,pu;iC&&(Gn=iC.split("."),pu=Gn[0]>0&&Gn[0]<4?1:+(Gn[0]+Gn[1]));!pu&&Pm&&(Gn=Pm.match(/Edge\/(\d+)/),(!Gn||Gn[1]>=74)&&(Gn=Pm.match(/Chrome\/(\d+)/),Gn&&(pu=+Gn[1])));var k1=pu,rC=k1,CB=ln,R1=!!Object.getOwnPropertySymbols&&!CB(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&rC&&rC<41}),EB=R1,L1=EB&&!Symbol.sham&&typeof Symbol.iterator=="symbol",SB=Ne,DB=ur,IB=It,TB=Pb,MB=L1,PB=SB.Object,O1=MB?function(t){return typeof t=="symbol"}:function(t){var e=DB("Symbol");return IB(e)&&TB(e.prototype,PB(t))},FB=Ne,kB=FB.String,_u=function(t){try{return kB(t)}catch{return"Object"}},RB=Ne,LB=It,OB=_u,NB=RB.TypeError,$r=function(t){if(LB(t))return t;throw NB(OB(t)+" is not a function")},BB=$r,Qa=function(t,e){var i=t[e];return i==null?void 0:BB(i)},VB=Ne,Fm=dn,km=It,Rm=cr,jB=VB.TypeError,HB=function(t,e){var i,n;if(e==="string"&&km(i=t.toString)&&!Rm(n=Fm(i,t))||km(i=t.valueOf)&&!Rm(n=Fm(i,t))||e!=="string"&&km(i=t.toString)&&!Rm(n=Fm(i,t)))return n;throw jB("Can't convert object to primitive value")},Cu={exports:{}},oC=Ne,UB=Object.defineProperty,Fb=function(t,e){try{UB(oC,t,{value:e,configurable:!0,writable:!0})}catch{oC[t]=e}return e},zB=Ne,GB=Fb,sC="__core-js_shared__",WB=zB[sC]||GB(sC,{}),kb=WB,aC=kb;(Cu.exports=function(t,e){return aC[t]||(aC[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.22.2",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.2/LICENSE",source:"https://github.com/zloirock/core-js"});var QB=Ne,qB=Kr,ZB=QB.Object,N1=function(t){return ZB(qB(t))},YB=yt,KB=N1,$B=YB({}.hasOwnProperty),Ii=Object.hasOwn||function(e,i){return $B(KB(e),i)},XB=yt,JB=0,eV=Math.random(),tV=XB(1 .toString),B1=function(t){return"Symbol("+(t===void 0?"":t)+")_"+tV(++JB+eV,36)},nV=Ne,iV=Cu.exports,lC=Ii,rV=B1,dC=R1,V1=L1,os=iV("wks"),Zr=nV.Symbol,cC=Zr&&Zr.for,oV=V1?Zr:Zr&&Zr.withoutSetter||rV,en=function(t){if(!lC(os,t)||!(dC||typeof os[t]=="string")){var e="Symbol."+t;dC&&lC(Zr,t)?os[t]=Zr[t]:V1&&cC?os[t]=cC(e):os[t]=oV(e)}return os[t]},sV=Ne,aV=dn,uC=cr,hC=O1,lV=Qa,dV=HB,cV=en,uV=sV.TypeError,hV=cV("toPrimitive"),fV=function(t,e){if(!uC(t)||hC(t))return t;var i=lV(t,hV),n;if(i){if(e===void 0&&(e="default"),n=aV(i,t,e),!uC(n)||hC(n))return n;throw uV("Can't convert object to primitive value")}return e===void 0&&(e="number"),dV(t,e)},pV=fV,gV=O1,j1=function(t){var e=pV(t,"string");return gV(e)?e:e+""},mV=Ne,fC=cr,ub=mV.document,bV=fC(ub)&&fC(ub.createElement),Rb=function(t){return bV?ub.createElement(t):{}},vV=dr,yV=ln,AV=Rb,H1=!vV&&!yV(function(){return Object.defineProperty(AV("div"),"a",{get:function(){return 7}}).a!=7}),wV=dr,xV=dn,_V=E1,CV=I1,EV=wu,SV=j1,DV=Ii,IV=H1,pC=Object.getOwnPropertyDescriptor;fs.f=wV?pC:function(e,i){if(e=EV(e),i=SV(i),IV)try{return pC(e,i)}catch{}if(DV(e,i))return CV(!xV(_V.f,e,i),e[i])};var Xr={},TV=dr,MV=ln,U1=TV&&MV(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),z1=Ne,PV=cr,FV=z1.String,kV=z1.TypeError,cn=function(t){if(PV(t))return t;throw kV(FV(t)+" is not an object")},RV=Ne,LV=dr,OV=H1,NV=U1,ru=cn,gC=j1,BV=RV.TypeError,Lm=Object.defineProperty,VV=Object.getOwnPropertyDescriptor,Om="enumerable",Nm="configurable",Bm="writable";Xr.f=LV?NV?function(e,i,n){if(ru(e),i=gC(i),ru(n),typeof e=="function"&&i==="prototype"&&"value"in n&&Bm in n&&!n[Bm]){var r=VV(e,i);r&&r[Bm]&&(e[i]=n.value,n={configurable:Nm in n?n[Nm]:r[Nm],enumerable:Om in n?n[Om]:r[Om],writable:!1})}return Lm(e,i,n)}:Lm:function(e,i,n){if(ru(e),i=gC(i),ru(n),OV)try{return Lm(e,i,n)}catch{}if("get"in n||"set"in n)throw BV("Accessors not supported");return"value"in n&&(e[i]=n.value),e};var jV=dr,HV=Xr,UV=I1,Eu=jV?function(t,e,i){return HV.f(t,e,UV(1,i))}:function(t,e,i){return t[e]=i,t},ps={exports:{}},zV=yt,GV=It,hb=kb,WV=zV(Function.toString);GV(hb.inspectSource)||(hb.inspectSource=function(t){return WV(t)});var Su=hb.inspectSource,QV=Ne,qV=It,ZV=Su,mC=QV.WeakMap,YV=qV(mC)&&/native code/.test(ZV(mC)),KV=Cu.exports,$V=B1,bC=KV("keys"),G1=function(t){return bC[t]||(bC[t]=$V(t))},Lb={},XV=YV,W1=Ne,Vm=yt,JV=cr,e3=Eu,jm=Ii,Hm=kb,t3=G1,n3=Lb,vC="Object already initialized",fb=W1.TypeError,i3=W1.WeakMap,gu,za,mu,r3=function(t){return mu(t)?za(t):gu(t,{})},o3=function(t){return function(e){var i;if(!JV(e)||(i=za(e)).type!==t)throw fb("Incompatible receiver, "+t+" required");return i}};XV||Hm.state?(ar=Hm.state||(Hm.state=new i3),yC=Vm(ar.get),Um=Vm(ar.has),AC=Vm(ar.set),gu=function(t,e){if(Um(ar,t))throw new fb(vC);return e.facade=t,AC(ar,t,e),e},za=function(t){return yC(ar,t)||{}},mu=function(t){return Um(ar,t)}):(Gr=t3("state"),n3[Gr]=!0,gu=function(t,e){if(jm(t,Gr))throw new fb(vC);return e.facade=t,e3(t,Gr,e),e},za=function(t){return jm(t,Gr)?t[Gr]:{}},mu=function(t){return jm(t,Gr)});var ar,yC,Um,AC,Gr,Ob={set:gu,get:za,has:mu,enforce:r3,getterFor:o3},pb=dr,s3=Ii,Q1=Function.prototype,a3=pb&&Object.getOwnPropertyDescriptor,Nb=s3(Q1,"name"),l3=Nb&&(function(){}).name==="something",d3=Nb&&(!pb||pb&&a3(Q1,"name").configurable),c3={EXISTS:Nb,PROPER:l3,CONFIGURABLE:d3},u3=Ne,wC=It,h3=Ii,xC=Eu,f3=Fb,p3=Su,q1=Ob,g3=c3.CONFIGURABLE,m3=q1.get,b3=q1.enforce,v3=String(String).split("String");(ps.exports=function(t,e,i,n){var r=n?!!n.unsafe:!1,o=n?!!n.enumerable:!1,s=n?!!n.noTargetGet:!1,a=n&&n.name!==void 0?n.name:e,l;if(wC(i)&&(String(a).slice(0,7)==="Symbol("&&(a="["+String(a).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!h3(i,"name")||g3&&i.name!==a)&&xC(i,"name",a),l=b3(i),l.source||(l.source=v3.join(typeof a=="string"?a:""))),t===u3){o?t[e]=i:f3(e,i);return}else r?!s&&t[e]&&(o=!0):delete t[e];o?t[e]=i:xC(t,e,i)})(Function.prototype,"toString",function(){return wC(this)&&m3(this).source||p3(this)});var Z1={},y3=Math.ceil,A3=Math.floor,Du=function(t){var e=+t;return e!==e||e===0?0:(e>0?A3:y3)(e)},w3=Du,x3=Math.max,_3=Math.min,C3=function(t,e){var i=w3(t);return i<0?x3(i+e,0):_3(i,e)},E3=Du,S3=Math.min,qa=function(t){return t>0?S3(E3(t),9007199254740991):0},D3=qa,Y1=function(t){return D3(t.length)},I3=wu,T3=C3,M3=Y1,_C=function(t){return function(e,i,n){var r=I3(e),o=M3(r),s=T3(n,o),a;if(t&&i!=i){for(;o>s;)if(a=r[s++],a!=a)return!0}else for(;o>s;s++)if((t||s in r)&&r[s]===i)return t||s||0;return!t&&-1}},K1={includes:_C(!0),indexOf:_C(!1)},P3=yt,zm=Ii,F3=wu,k3=K1.indexOf,R3=Lb,CC=P3([].push),$1=function(t,e){var i=F3(t),n=0,r=[],o;for(o in i)!zm(R3,o)&&zm(i,o)&&CC(r,o);for(;e.length>n;)zm(i,o=e[n++])&&(~k3(r,o)||CC(r,o));return r},Bb=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],L3=$1,O3=Bb,N3=O3.concat("length","prototype");Z1.f=Object.getOwnPropertyNames||function(e){return L3(e,N3)};var X1={};X1.f=Object.getOwnPropertySymbols;var B3=ur,V3=yt,j3=Z1,H3=X1,U3=cn,z3=V3([].concat),G3=B3("Reflect","ownKeys")||function(e){var i=j3.f(U3(e)),n=H3.f;return n?z3(i,n(e)):i},EC=Ii,W3=G3,Q3=fs,q3=Xr,Z3=function(t,e,i){for(var n=W3(e),r=q3.f,o=Q3.f,s=0;s<n.length;s++){var a=n[s];!EC(t,a)&&!(i&&EC(i,a))&&r(t,a,o(e,a))}},Y3=ln,K3=It,$3=/#|\.prototype\./,Za=function(t,e){var i=J3[X3(t)];return i==t5?!0:i==e5?!1:K3(e)?Y3(e):!!e},X3=Za.normalize=function(t){return String(t).replace($3,".").toLowerCase()},J3=Za.data={},e5=Za.NATIVE="N",t5=Za.POLYFILL="P",J1=Za,Gm=Ne,n5=fs.f,i5=Eu,r5=ps.exports,o5=Fb,s5=Z3,a5=J1,ai=function(t,e){var i=t.target,n=t.global,r=t.stat,o,s,a,l,d,u;if(n?s=Gm:r?s=Gm[i]||o5(i,{}):s=(Gm[i]||{}).prototype,s)for(a in e){if(d=e[a],t.noTargetGet?(u=n5(s,a),l=u&&u.value):l=s[a],o=a5(n?a:i+(r?".":"#")+a,t.forced),!o&&l!==void 0){if(typeof d==typeof l)continue;s5(d,l)}(t.sham||l&&l.sham)&&i5(d,"sham",!0),r5(s,a,d,t)}},l5=Wa,d5=Ne,Vb=l5(d5.process)=="process",c5=ps.exports,u5=function(t,e,i){for(var n in e)c5(t,n,e[n],i);return t},eE=Ne,h5=It,f5=eE.String,p5=eE.TypeError,g5=function(t){if(typeof t=="object"||h5(t))return t;throw p5("Can't set "+f5(t)+" as a prototype")},m5=yt,b5=cn,v5=g5,y5=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},i;try{i=m5(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),i(e,[]),t=e instanceof Array}catch{}return function(r,o){return b5(r),v5(o),t?i(r,o):r.__proto__=o,r}}():void 0),A5=Xr.f,w5=Ii,x5=en,SC=x5("toStringTag"),_5=function(t,e,i){t&&!i&&(t=t.prototype),t&&!w5(t,SC)&&A5(t,SC,{configurable:!0,value:e})},C5=ur,E5=Xr,S5=en,D5=dr,DC=S5("species"),I5=function(t){var e=C5(t),i=E5.f;D5&&e&&!e[DC]&&i(e,DC,{configurable:!0,get:function(){return this}})},T5=Ne,M5=Pb,P5=T5.TypeError,F5=function(t,e){if(M5(e,t))return t;throw P5("Incorrect invocation")},k5=en,R5=k5("toStringTag"),tE={};tE[R5]="z";var L5=String(tE)==="[object z]",O5=Ne,N5=L5,B5=It,cu=Wa,V5=en,j5=V5("toStringTag"),H5=O5.Object,U5=cu(function(){return arguments}())=="Arguments",z5=function(t,e){try{return t[e]}catch{}},jb=N5?cu:function(t){var e,i,n;return t===void 0?"Undefined":t===null?"Null":typeof(i=z5(e=H5(t),j5))=="string"?i:U5?cu(e):(n=cu(e))=="Object"&&B5(e.callee)?"Arguments":n},G5=yt,W5=ln,nE=It,Q5=jb,q5=ur,Z5=Su,iE=function(){},Y5=[],rE=q5("Reflect","construct"),Hb=/^\s*(?:class|function)\b/,K5=G5(Hb.exec),$5=!Hb.exec(iE),Ba=function(e){if(!nE(e))return!1;try{return rE(iE,Y5,e),!0}catch{return!1}},oE=function(e){if(!nE(e))return!1;switch(Q5(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return $5||!!K5(Hb,Z5(e))}catch{return!0}};oE.sham=!0;var X5=!rE||W5(function(){var t;return Ba(Ba.call)||!Ba(Object)||!Ba(function(){t=!0})||t})?oE:Ba,J5=Ne,e4=X5,t4=_u,n4=J5.TypeError,i4=function(t){if(e4(t))return t;throw n4(t4(t)+" is not a constructor")},IC=cn,r4=i4,o4=en,s4=o4("species"),a4=function(t,e){var i=IC(t).constructor,n;return i===void 0||(n=IC(i)[s4])==null?e:r4(n)},l4=Au,sE=Function.prototype,TC=sE.apply,MC=sE.call,aE=typeof Reflect=="object"&&Reflect.apply||(l4?MC.bind(TC):function(){return MC.apply(TC,arguments)}),PC=yt,d4=$r,c4=Au,u4=PC(PC.bind),Ub=function(t,e){return d4(t),e===void 0?t:c4?u4(t,e):function(){return t.apply(e,arguments)}},h4=ur,lE=h4("document","documentElement"),f4=yt,p4=f4([].slice),g4=Ne,m4=g4.TypeError,b4=function(t,e){if(t<e)throw m4("Not enough arguments");return t},v4=xu,dE=/(?:ipad|iphone|ipod).*applewebkit/i.test(v4),xn=Ne,y4=aE,A4=Ub,FC=It,w4=Ii,x4=ln,kC=lE,_4=p4,RC=Rb,C4=b4,E4=dE,S4=Vb,gb=xn.setImmediate,mb=xn.clearImmediate,D4=xn.process,Wm=xn.Dispatch,I4=xn.Function,LC=xn.MessageChannel,T4=xn.String,Qm=0,ja={},OC="onreadystatechange",Ga,Wr,qm,Zm;try{Ga=xn.location}catch{}var zb=function(t){if(w4(ja,t)){var e=ja[t];delete ja[t],e()}},Ym=function(t){return function(){zb(t)}},NC=function(t){zb(t.data)},BC=function(t){xn.postMessage(T4(t),Ga.protocol+"//"+Ga.host)};(!gb||!mb)&&(gb=function(e){C4(arguments.length,1);var i=FC(e)?e:I4(e),n=_4(arguments,1);return ja[++Qm]=function(){y4(i,void 0,n)},Wr(Qm),Qm},mb=function(e){delete ja[e]},S4?Wr=function(t){D4.nextTick(Ym(t))}:Wm&&Wm.now?Wr=function(t){Wm.now(Ym(t))}:LC&&!E4?(qm=new LC,Zm=qm.port2,qm.port1.onmessage=NC,Wr=A4(Zm.postMessage,Zm)):xn.addEventListener&&FC(xn.postMessage)&&!xn.importScripts&&Ga&&Ga.protocol!=="file:"&&!x4(BC)?(Wr=BC,xn.addEventListener("message",NC,!1)):OC in RC("script")?Wr=function(t){kC.appendChild(RC("script"))[OC]=function(){kC.removeChild(this),zb(t)}}:Wr=function(t){setTimeout(Ym(t),0)});var cE={set:gb,clear:mb},M4=xu,P4=Ne,F4=/ipad|iphone|ipod/i.test(M4)&&P4.Pebble!==void 0,k4=xu,R4=/web0s(?!.*chrome)/i.test(k4),Yr=Ne,VC=Ub,L4=fs.f,Km=cE.set,O4=dE,N4=F4,B4=R4,$m=Vb,jC=Yr.MutationObserver||Yr.WebKitMutationObserver,HC=Yr.document,UC=Yr.process,ou=Yr.Promise,zC=L4(Yr,"queueMicrotask"),uE=zC&&zC.value,Va,Qr,Ha,as,Xm,Jm,su,GC;uE||(Va=function(){var t,e;for($m&&(t=UC.domain)&&t.exit();Qr;){e=Qr.fn,Qr=Qr.next;try{e()}catch(i){throw Qr?as():Ha=void 0,i}}Ha=void 0,t&&t.enter()},!O4&&!$m&&!B4&&jC&&HC?(Xm=!0,Jm=HC.createTextNode(""),new jC(Va).observe(Jm,{characterData:!0}),as=function(){Jm.data=Xm=!Xm}):!N4&&ou&&ou.resolve?(su=ou.resolve(void 0),su.constructor=ou,GC=VC(su.then,su),as=function(){GC(Va)}):$m?as=function(){UC.nextTick(Va)}:(Km=VC(Km,Yr),as=function(){Km(Va)}));var V4=uE||function(t){var e={fn:t,next:void 0};Ha&&(Ha.next=e),Qr||(Qr=e,as()),Ha=e},j4=Ne,H4=function(t,e){var i=j4.console;i&&i.error&&(arguments.length==1?i.error(t):i.error(t,e))},Gb=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}},hE=function(){this.head=null,this.tail=null};hE.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}};var U4=hE,z4=Ne,Iu=z4.Promise,G4=typeof window=="object"&&typeof Deno!="object",W4=Ne,Ua=Iu,Q4=It,q4=J1,Z4=Su,Y4=en,K4=G4,WC=k1;Ua&&Ua.prototype;var $4=Y4("species"),bb=!1,fE=Q4(W4.PromiseRejectionEvent),X4=q4("Promise",function(){var t=Z4(Ua),e=t!==String(Ua);if(!e&&WC===66)return!0;if(WC>=51&&/native code/.test(t))return!1;var i=new Ua(function(o){o(1)}),n=function(o){o(function(){},function(){})},r=i.constructor={};return r[$4]=n,bb=i.then(function(){})instanceof n,bb?!e&&K4&&!fE:!0}),Ya={CONSTRUCTOR:X4,REJECTION_EVENT:fE,SUBCLASSING:bb},gs={},QC=$r,J4=function(t){var e,i;this.promise=new t(function(n,r){if(e!==void 0||i!==void 0)throw TypeError("Bad Promise constructor");e=n,i=r}),this.resolve=QC(e),this.reject=QC(i)};gs.f=function(t){return new J4(t)};var ej=ai,bu=Vb,lr=Ne,hs=dn,tj=ps.exports,nj=u5,qC=y5,ij=_5,rj=I5,oj=$r,uu=It,sj=cr,aj=F5,lj=a4,pE=cE.set,Wb=V4,dj=H4,cj=Gb,uj=U4,gE=Ob,vu=Iu,Qb=Ya,mE=gs,Tu="Promise",bE=Qb.CONSTRUCTOR,hj=Qb.REJECTION_EVENT,fj=Qb.SUBCLASSING,eb=gE.getterFor(Tu),pj=gE.set,ls=vu&&vu.prototype,qr=vu,au=ls,vE=lr.TypeError,vb=lr.document,qb=lr.process,yb=mE.f,gj=yb,mj=!!(vb&&vb.createEvent&&lr.dispatchEvent),yE="unhandledrejection",bj="rejectionhandled",ZC=0,AE=1,vj=2,Zb=1,wE=2,lu,YC,yj,KC,xE=function(t){var e;return sj(t)&&uu(e=t.then)?e:!1},_E=function(t,e){var i=e.value,n=e.state==AE,r=n?t.ok:t.fail,o=t.resolve,s=t.reject,a=t.domain,l,d,u;try{r?(n||(e.rejection===wE&&wj(e),e.rejection=Zb),r===!0?l=i:(a&&a.enter(),l=r(i),a&&(a.exit(),u=!0)),l===t.promise?s(vE("Promise-chain cycle")):(d=xE(l))?hs(d,l,o,s):o(l)):s(i)}catch(c){a&&!u&&a.exit(),s(c)}},CE=function(t,e){t.notified||(t.notified=!0,Wb(function(){for(var i=t.reactions,n;n=i.get();)_E(n,t);t.notified=!1,e&&!t.rejection&&Aj(t)}))},EE=function(t,e,i){var n,r;mj?(n=vb.createEvent("Event"),n.promise=e,n.reason=i,n.initEvent(t,!1,!0),lr.dispatchEvent(n)):n={promise:e,reason:i},!hj&&(r=lr["on"+t])?r(n):t===yE&&dj("Unhandled promise rejection",i)},Aj=function(t){hs(pE,lr,function(){var e=t.facade,i=t.value,n=$C(t),r;if(n&&(r=cj(function(){bu?qb.emit("unhandledRejection",i,e):EE(yE,e,i)}),t.rejection=bu||$C(t)?wE:Zb,r.error))throw r.value})},$C=function(t){return t.rejection!==Zb&&!t.parent},wj=function(t){hs(pE,lr,function(){var e=t.facade;bu?qb.emit("rejectionHandled",e):EE(bj,e,t.value)})},ds=function(t,e,i){return function(n){t(e,n,i)}},us=function(t,e,i){t.done||(t.done=!0,i&&(t=i),t.value=e,t.state=vj,CE(t,!0))},Ab=function(t,e,i){if(!t.done){t.done=!0,i&&(t=i);try{if(t.facade===e)throw vE("Promise can't be resolved itself");var n=xE(e);n?Wb(function(){var r={done:!1};try{hs(n,e,ds(Ab,r,t),ds(us,r,t))}catch(o){us(r,o,t)}}):(t.value=e,t.state=AE,CE(t,!1))}catch(r){us({done:!1},r,t)}}};if(bE&&(qr=function(e){aj(this,au),oj(e),hs(lu,this);var i=eb(this);try{e(ds(Ab,i),ds(us,i))}catch(n){us(i,n)}},au=qr.prototype,lu=function(e){pj(this,{type:Tu,done:!1,notified:!1,parent:!1,reactions:new uj,rejection:!1,state:ZC,value:void 0})},lu.prototype=nj(au,{then:function(e,i){var n=eb(this),r=yb(lj(this,qr));return n.parent=!0,r.ok=uu(e)?e:!0,r.fail=uu(i)&&i,r.domain=bu?qb.domain:void 0,n.state==ZC?n.reactions.add(r):Wb(function(){_E(r,n)}),r.promise}}),YC=function(){var t=new lu,e=eb(t);this.promise=t,this.resolve=ds(Ab,e),this.reject=ds(us,e)},mE.f=yb=function(t){return t===qr||t===yj?new YC(t):gj(t)},uu(vu)&&ls!==Object.prototype)){KC=ls.then,fj||tj(ls,"then",function(e,i){var n=this;return new qr(function(r,o){hs(KC,n,r,o)}).then(e,i)},{unsafe:!0});try{delete ls.constructor}catch{}qC&&qC(ls,au)}ej({global:!0,wrap:!0,forced:bE},{Promise:qr});ij(qr,Tu,!1);rj(Tu);var SE={},xj=en,_j=SE,Cj=xj("iterator"),Ej=Array.prototype,Sj=function(t){return t!==void 0&&(_j.Array===t||Ej[Cj]===t)},Dj=jb,XC=Qa,Ij=SE,Tj=en,Mj=Tj("iterator"),DE=function(t){if(t!=null)return XC(t,Mj)||XC(t,"@@iterator")||Ij[Dj(t)]},Pj=Ne,Fj=dn,kj=$r,Rj=cn,Lj=_u,Oj=DE,Nj=Pj.TypeError,Bj=function(t,e){var i=arguments.length<2?Oj(t):e;if(kj(i))return Rj(Fj(i,t));throw Nj(Lj(t)+" is not iterable")},Vj=dn,JC=cn,jj=Qa,Hj=function(t,e,i){var n,r;JC(t);try{if(n=jj(t,"return"),!n){if(e==="throw")throw i;return i}n=Vj(n,t)}catch(o){r=!0,n=o}if(e==="throw")throw i;if(r)throw n;return JC(n),i},Uj=Ne,zj=Ub,Gj=dn,Wj=cn,Qj=_u,qj=Sj,Zj=Y1,e1=Pb,Yj=Bj,Kj=DE,t1=Hj,$j=Uj.TypeError,hu=function(t,e){this.stopped=t,this.result=e},n1=hu.prototype,IE=function(t,e,i){var n=i&&i.that,r=!!(i&&i.AS_ENTRIES),o=!!(i&&i.IS_ITERATOR),s=!!(i&&i.INTERRUPTED),a=zj(e,n),l,d,u,c,h,g,p,f=function(m){return l&&t1(l,"normal",m),new hu(!0,m)},v=function(m){return r?(Wj(m),s?a(m[0],m[1],f):a(m[0],m[1])):s?a(m,f):a(m)};if(o)l=t;else{if(d=Kj(t),!d)throw $j(Qj(t)+" is not iterable");if(qj(d)){for(u=0,c=Zj(t);c>u;u++)if(h=v(t[u]),h&&e1(n1,h))return h;return new hu(!1)}l=Yj(t,d)}for(g=l.next;!(p=Gj(g,l)).done;){try{h=v(p.value)}catch(m){t1(l,"throw",m)}if(typeof h=="object"&&h&&e1(n1,h))return h}return new hu(!1)},Xj=en,TE=Xj("iterator"),ME=!1;try{i1=0,tb={next:function(){return{done:!!i1++}},return:function(){ME=!0}},tb[TE]=function(){return this},Array.from(tb,function(){throw 2})}catch{}var i1,tb,Jj=function(t,e){if(!e&&!ME)return!1;var i=!1;try{var n={};n[TE]=function(){return{next:function(){return{done:i=!0}}}},t(n)}catch{}return i},e8=Iu,t8=Jj,n8=Ya.CONSTRUCTOR,PE=n8||!t8(function(t){e8.all(t).then(void 0,function(){})}),i8=ai,r8=dn,o8=$r,s8=gs,a8=Gb,l8=IE,d8=PE;i8({target:"Promise",stat:!0,forced:d8},{all:function(e){var i=this,n=s8.f(i),r=n.resolve,o=n.reject,s=a8(function(){var a=o8(i.resolve),l=[],d=0,u=1;l8(e,function(c){var h=d++,g=!1;u++,r8(a,i,c).then(function(p){g||(g=!0,l[h]=p,--u||r(l))},o)}),--u||r(l)});return s.error&&o(s.value),n.promise}});var c8=ai,u8=Ya.CONSTRUCTOR,wb=Iu,h8=ur,f8=It,p8=ps.exports,r1=wb&&wb.prototype;c8({target:"Promise",proto:!0,forced:u8,real:!0},{catch:function(t){return this.then(void 0,t)}});f8(wb)&&(nb=h8("Promise").prototype.catch,r1.catch!==nb&&p8(r1,"catch",nb,{unsafe:!0}));var nb,g8=ai,m8=dn,b8=$r,v8=gs,y8=Gb,A8=IE,w8=PE;g8({target:"Promise",stat:!0,forced:w8},{race:function(e){var i=this,n=v8.f(i),r=n.reject,o=y8(function(){var s=b8(i.resolve);A8(e,function(a){m8(s,i,a).then(n.resolve,r)})});return o.error&&r(o.value),n.promise}});var x8=ai,_8=dn,C8=gs,E8=Ya.CONSTRUCTOR;x8({target:"Promise",stat:!0,forced:E8},{reject:function(e){var i=C8.f(this);return _8(i.reject,void 0,e),i.promise}});var S8=cn,D8=cr,I8=gs,T8=function(t,e){if(S8(t),D8(e)&&e.constructor===t)return e;var i=I8.f(t),n=i.resolve;return n(e),i.promise},M8=ai,P8=ur,F8=Ya.CONSTRUCTOR,k8=T8;P8("Promise");M8({target:"Promise",stat:!0,forced:F8},{resolve:function(e){return k8(this,e)}});var R8=Ne,L8=jb,O8=R8.String,ms=function(t){if(L8(t)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return O8(t)},N8=cn,B8=function(){var t=N8(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},Yb=ln,V8=Ne,Kb=V8.RegExp,$b=Yb(function(){var t=Kb("a","y");return t.lastIndex=2,t.exec("abcd")!=null}),j8=$b||Yb(function(){return!Kb("a","y").sticky}),H8=$b||Yb(function(){var t=Kb("^r","gy");return t.lastIndex=2,t.exec("str")!=null}),U8={BROKEN_CARET:H8,MISSED_STICKY:j8,UNSUPPORTED_Y:$b},FE={},z8=$1,G8=Bb,W8=Object.keys||function(e){return z8(e,G8)},Q8=dr,q8=U1,Z8=Xr,Y8=cn,K8=wu,$8=W8;FE.f=Q8&&!q8?Object.defineProperties:function(e,i){Y8(e);for(var n=K8(i),r=$8(i),o=r.length,s=0,a;o>s;)Z8.f(e,a=r[s++],n[a]);return e};var X8=cn,J8=FE,o1=Bb,eH=Lb,tH=lE,nH=Rb,iH=G1,s1=">",a1="<",xb="prototype",_b="script",kE=iH("IE_PROTO"),ib=function(){},RE=function(t){return a1+_b+s1+t+a1+"/"+_b+s1},l1=function(t){t.write(RE("")),t.close();var e=t.parentWindow.Object;return t=null,e},rH=function(){var t=nH("iframe"),e="java"+_b+":",i;return t.style.display="none",tH.appendChild(t),t.src=String(e),i=t.contentWindow.document,i.open(),i.write(RE("document.F=Object")),i.close(),i.F},du,fu=function(){try{du=new ActiveXObject("htmlfile")}catch{}fu=typeof document<"u"?document.domain&&du?l1(du):rH():l1(du);for(var t=o1.length;t--;)delete fu[xb][o1[t]];return fu()};eH[kE]=!0;var LE=Object.create||function(e,i){var n;return e!==null?(ib[xb]=X8(e),n=new ib,ib[xb]=null,n[kE]=e):n=fu(),i===void 0?n:J8.f(n,i)},oH=ln,sH=Ne,aH=sH.RegExp,lH=oH(function(){var t=aH(".","s");return!(t.dotAll&&t.exec(`
`)&&t.flags==="s")}),dH=ln,cH=Ne,uH=cH.RegExp,hH=dH(function(){var t=uH("(?<a>b)","g");return t.exec("b").groups.a!=="b"||"b".replace(t,"$<a>c")!=="bc"}),cs=dn,Mu=yt,fH=ms,pH=B8,gH=U8,mH=Cu.exports,bH=LE,vH=Ob.get,yH=lH,AH=hH,wH=mH("native-string-replace",String.prototype.replace),yu=RegExp.prototype.exec,Cb=yu,xH=Mu("".charAt),_H=Mu("".indexOf),CH=Mu("".replace),rb=Mu("".slice),Eb=function(){var t=/a/,e=/b*/g;return cs(yu,t,"a"),cs(yu,e,"a"),t.lastIndex!==0||e.lastIndex!==0}(),OE=gH.BROKEN_CARET,Sb=/()??/.exec("")[1]!==void 0,EH=Eb||Sb||OE||yH||AH;EH&&(Cb=function(e){var i=this,n=vH(i),r=fH(e),o=n.raw,s,a,l,d,u,c,h;if(o)return o.lastIndex=i.lastIndex,s=cs(Cb,o,r),i.lastIndex=o.lastIndex,s;var g=n.groups,p=OE&&i.sticky,f=cs(pH,i),v=i.source,m=0,x=r;if(p&&(f=CH(f,"y",""),_H(f,"g")===-1&&(f+="g"),x=rb(r,i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&xH(r,i.lastIndex-1)!==`
`)&&(v="(?: "+v+")",x=" "+x,m++),a=new RegExp("^(?:"+v+")",f)),Sb&&(a=new RegExp("^"+v+"$(?!\\s)",f)),Eb&&(l=i.lastIndex),d=cs(yu,p?a:i,x),p?d?(d.input=rb(d.input,m),d[0]=rb(d[0],m),d.index=i.lastIndex,i.lastIndex+=d[0].length):i.lastIndex=0:Eb&&d&&(i.lastIndex=i.global?d.index+d[0].length:l),Sb&&d&&d.length>1&&cs(wH,d[0],a,function(){for(u=1;u<arguments.length-2;u++)arguments[u]===void 0&&(d[u]=void 0)}),d&&g)for(d.groups=c=bH(null),u=0;u<g.length;u++)h=g[u],c[h[0]]=d[h[1]];return d});var Xb=Cb,SH=ai,d1=Xb;SH({target:"RegExp",proto:!0,forced:/./.exec!==d1},{exec:d1});var c1=yt,u1=ps.exports,DH=Xb,h1=ln,NE=en,IH=Eu,TH=NE("species"),ob=RegExp.prototype,BE=function(t,e,i,n){var r=NE(t),o=!h1(function(){var d={};return d[r]=function(){return 7},""[t](d)!=7}),s=o&&!h1(function(){var d=!1,u=/a/;return t==="split"&&(u={},u.constructor={},u.constructor[TH]=function(){return u},u.flags="",u[r]=/./[r]),u.exec=function(){return d=!0,null},u[r](""),!d});if(!o||!s||i){var a=c1(/./[r]),l=e(r,""[t],function(d,u,c,h,g){var p=c1(d),f=u.exec;return f===DH||f===ob.exec?o&&!g?{done:!0,value:a(u,c,h)}:{done:!0,value:p(c,u,h)}:{done:!1}});u1(String.prototype,t,l[0]),u1(ob,r,l[1])}n&&IH(ob[r],"sham",!0)},Jb=yt,MH=Du,PH=ms,FH=Kr,kH=Jb("".charAt),f1=Jb("".charCodeAt),RH=Jb("".slice),p1=function(t){return function(e,i){var n=PH(FH(e)),r=MH(i),o=n.length,s,a;return r<0||r>=o?t?"":void 0:(s=f1(n,r),s<55296||s>56319||r+1===o||(a=f1(n,r+1))<56320||a>57343?t?kH(n,r):s:t?RH(n,r,r+2):(s-55296<<10)+(a-56320)+65536)}},LH={codeAt:p1(!1),charAt:p1(!0)},OH=LH.charAt,VE=function(t,e,i){return e+(i?OH(t,e).length:1)},NH=Ne,g1=dn,BH=cn,VH=It,jH=Wa,HH=Xb,UH=NH.TypeError,jE=function(t,e){var i=t.exec;if(VH(i)){var n=g1(i,t,e);return n!==null&&BH(n),n}if(jH(t)==="RegExp")return g1(HH,t,e);throw UH("RegExp#exec called on incompatible receiver")},zH=dn,GH=BE,WH=cn,QH=qa,sb=ms,qH=Kr,ZH=Qa,YH=VE,m1=jE;GH("match",function(t,e,i){return[function(r){var o=qH(this),s=r==null?void 0:ZH(r,t);return s?zH(s,r,o):new RegExp(r)[t](sb(o))},function(n){var r=WH(this),o=sb(n),s=i(e,r,o);if(s.done)return s.value;if(!r.global)return m1(r,o);var a=r.unicode;r.lastIndex=0;for(var l=[],d=0,u;(u=m1(r,o))!==null;){var c=sb(u[0]);l[d]=c,c===""&&(r.lastIndex=YH(o,QH(r.lastIndex),a)),d++}return d===0?null:l}]});var ev=yt,KH=N1,$H=Math.floor,ab=ev("".charAt),XH=ev("".replace),lb=ev("".slice),JH=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,e6=/\$([$&'`]|\d{1,2})/g,t6=function(t,e,i,n,r,o){var s=i+t.length,a=n.length,l=e6;return r!==void 0&&(r=KH(r),l=JH),XH(o,l,function(d,u){var c;switch(ab(u,0)){case"$":return"$";case"&":return t;case"`":return lb(e,0,i);case"'":return lb(e,s);case"<":c=r[lb(u,1,-1)];break;default:var h=+u;if(h===0)return d;if(h>a){var g=$H(h/10);return g===0?d:g<=a?n[g-1]===void 0?ab(u,1):n[g-1]+ab(u,1):d}c=n[h-1]}return c===void 0?"":c})},n6=aE,b1=dn,Pu=yt,i6=BE,r6=ln,o6=cn,s6=It,a6=Du,l6=qa,ss=ms,d6=Kr,c6=VE,u6=Qa,h6=t6,f6=jE,p6=en,Db=p6("replace"),g6=Math.max,m6=Math.min,b6=Pu([].concat),db=Pu([].push),v1=Pu("".indexOf),y1=Pu("".slice),v6=function(t){return t===void 0?t:String(t)},y6=function(){return"a".replace(/./,"$0")==="$0"}(),A1=function(){return/./[Db]?/./[Db]("a","$0")==="":!1}(),A6=!r6(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"});i6("replace",function(t,e,i){var n=A1?"$":"$0";return[function(o,s){var a=d6(this),l=o==null?void 0:u6(o,Db);return l?b1(l,o,a,s):b1(e,ss(a),o,s)},function(r,o){var s=o6(this),a=ss(r);if(typeof o=="string"&&v1(o,n)===-1&&v1(o,"$<")===-1){var l=i(e,s,a,o);if(l.done)return l.value}var d=s6(o);d||(o=ss(o));var u=s.global;if(u){var c=s.unicode;s.lastIndex=0}for(var h=[];;){var g=f6(s,a);if(g===null||(db(h,g),!u))break;var p=ss(g[0]);p===""&&(s.lastIndex=c6(a,l6(s.lastIndex),c))}for(var f="",v=0,m=0;m<h.length;m++){g=h[m];for(var x=ss(g[0]),b=g6(m6(a6(g.index),a.length),0),A=[],_=1;_<g.length;_++)db(A,v6(g[_]));var S=g.groups;if(d){var D=b6([x],A,b,a);S!==void 0&&db(D,S);var F=ss(n6(o,void 0,D))}else F=h6(x,a,b,A,S,o);b>=v&&(f+=y1(a,v,b)+F,v=b+x.length)}return f+y1(a,v)}]},!A6||!y6||A1);var w6=cr,x6=Wa,_6=en,C6=_6("match"),E6=function(t){var e;return w6(t)&&((e=t[C6])!==void 0?!!e:x6(t)=="RegExp")},S6=Ne,D6=E6,I6=S6.TypeError,HE=function(t){if(D6(t))throw I6("The method doesn't accept regular expressions");return t},T6=en,M6=T6("match"),UE=function(t){var e=/./;try{"/./"[t](e)}catch{try{return e[M6]=!1,"/./"[t](e)}catch{}}return!1},P6=ai,zE=yt,F6=fs.f,k6=qa,w1=ms,R6=HE,L6=Kr,O6=UE,x1=zE("".startsWith),N6=zE("".slice),B6=Math.min,GE=O6("startsWith"),V6=!GE&&!!function(){var t=F6(String.prototype,"startsWith");return t&&!t.writable}();P6({target:"String",proto:!0,forced:!V6&&!GE},{startsWith:function(e){var i=w1(L6(this));R6(e);var n=k6(B6(arguments.length>1?arguments[1]:void 0,i.length)),r=w1(e);return x1?x1(i,r,n):N6(i,n,n+r.length)===r}});var j6=en,H6=LE,U6=Xr,Ib=j6("unscopables"),Tb=Array.prototype;Tb[Ib]==null&&U6.f(Tb,Ib,{configurable:!0,value:H6(null)});var z6=function(t){Tb[Ib][t]=!0},G6=ai,W6=K1.includes,Q6=z6;G6({target:"Array",proto:!0},{includes:function(e){return W6(this,e,arguments.length>1?arguments[1]:void 0)}});Q6("includes");var q6=ai,WE=yt,Z6=fs.f,Y6=qa,_1=ms,K6=HE,$6=Kr,X6=UE,C1=WE("".endsWith),J6=WE("".slice),eU=Math.min,QE=X6("endsWith"),tU=!QE&&!!function(){var t=Z6(String.prototype,"endsWith");return t&&!t.writable}();q6({target:"String",proto:!0,forced:!tU&&!QE},{endsWith:function(e){var i=_1($6(this));K6(e);var n=arguments.length>1?arguments[1]:void 0,r=i.length,o=n===void 0?r:eU(Y6(n),r),s=_1(e);return C1?C1(i,s,o):J6(i,o-s.length,o)===s}});function nU(t,e,i,n){function r(o){return o instanceof i?o:new i(function(s){s(o)})}return new(i||(i=Promise))(function(o,s){function a(u){try{d(n.next(u))}catch(c){s(c)}}function l(u){try{d(n.throw(u))}catch(c){s(c)}}function d(u){u.done?o(u.value):r(u.value).then(a,l)}d((n=n.apply(t,e||[])).next())})}var iU=t=>new Promise((e,i)=>{try{let n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=()=>{let r=new FileReader;r.readAsArrayBuffer(n.response),r.onloadend=()=>{e(r.result)}},n.send()}catch{i(`error while retrieving file ${t}.`)}});var rU=t=>{if(t){let e=t.src;t.src="about:blank",setTimeout(()=>{t&&(t.src=e)},100)}};var Mb=t=>{let e=t.match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return e&&{href:t,protocol:e[1],host:e[2],hostname:e[3],port:e[4],pathname:e[5],search:e[6],hash:e[7]}},qE=t=>nU(void 0,void 0,void 0,function*(){mammoth||console.error("Please install mammoth and make sure mammoth.browser.min.js is loaded.");let e=yield iU(t);return(yield mammoth.convertToHtml({arrayBuffer:e})).value}),ZE=()=>{let t=null,e=0;return{subscribe:(i,n=3e3,r=5)=>{if(tv(i))t&&clearInterval(t);else return t=setInterval(()=>{e++,e>=r&&clearInterval(t),rU(i)},n),t},unsubscribe:()=>{t&&clearInterval(t)}}},tv=t=>{var e;let i=!1;try{oU()?i=!(!((e=t?.contentWindow)===null||e===void 0)&&e.document):i=!t?.contentDocument}catch{}return i},oU=()=>/MSIE (\d+\.\d+);/.test(navigator.userAgent)||navigator.userAgent.indexOf("Trident/")>-1,nv=(t,e="google",i="",n="")=>{switch(e){case"google":n="https://docs.google.com/gview?url=%URL%&embedded=true";break;case"office":{n="https://view.officeapps.live.com/op/embed.aspx?src=%URL%";break}case"pdf":{n="";break}}let r=e==="google"||e==="office"||e==="url",o=t?.indexOf("/")?encodeURIComponent(t):t,s=n?n.replace("%URL%",o):t;if(i&&r&&e!=="url"){let a=i.startsWith("&")?"":"&";s=`${s}${a}${i}`}return{url:s,externalViewer:r}},YE=(t,e)=>{let i=Mb(t),n=Mb(e);return i&&n?t.replace(i.port?`${i.hostname}:${i.port}`:i.hostname,n.port?`${n.hostname}:${n.port}`:n.hostname):t};var KE=t=>{let e=Mb(t),i=e?.hostname||"";return["localhost","127.0.0.1","","::1"].includes(i)||i.startsWith("192.168.")||i.startsWith("10.0.")||i.endsWith(".local")};var sU=["iframe"];function aU(t,e){if(t&1&&xe(0,"div",4),t&2){let i=mt(2);et("innerHtml",i.docHtml,$f)}}function lU(t,e){if(t&1&&(pe(0,"object",5)(1,"p"),ye(2," Your browser does not support PDFs. "),pe(3,"a",6),ye(4,"Download the PDF"),he(),ye(5,". "),he()()),t&2){let i=mt(2);et("data",i.fullUrl,Sd),dt(3),et("href",i.fullUrl,cA)}}function dU(t,e){if(t&1&&(Bd(0),Ut(1,aU,1,1,"div",2)(2,lU,6,2,"object",3),Vd()),t&2){let i=mt();dt(),et("ngIf",i.configuredViewer!=="pdf"),dt(),et("ngIf",i.fullUrl&&i.configuredViewer==="pdf")}}function cU(t,e){if(t&1){let i=ti();pe(0,"iframe",9,0),Lt("load",function(){pt(i);let r=mt(2);return gt(r.iframeLoaded())}),he()}if(t&2){let i=mt(2);et("src",i.fullUrl,Sd)}}function uU(t,e){if(t&1){let i=ti();pe(0,"iframe",12,0),Lt("load",function(){pt(i);let r=mt(3);return gt(r.iframeLoaded())}),he()}if(t&2){let i=mt(3);et("src",i.fullUrl,Sd)}}function hU(t,e){if(t&1&&(pe(0,"div",10),xe(1,"div"),Ut(2,uU,2,1,"iframe",11),he()),t&2){let i=mt(2);dt(),Ki("background-color",i.disableContent==="popout-hide"?"#fff":"transparent"),it("overlay-full",i.disableContent==="all")("overlay-popout-google",i.configuredViewer==="google"&&(i.disableContent==="popout"||i.disableContent==="popout-hide"))("overlay-popout-office",i.configuredViewer==="office"&&(i.disableContent==="popout"||i.disableContent==="popout-hide")),dt(),et("ngIf",i.fullUrl)}}function fU(t,e){if(t&1&&(Bd(0),Ut(1,cU,2,1,"iframe",7)(2,hU,3,9,"div",8),Vd()),t&2){let i=mt();dt(),et("ngIf",i.fullUrl&&i.disableContent==="none"),dt(),et("ngIf",i.disableContent!=="none")}}var $E=(()=>{class t{constructor(i,n){this.domSanitizer=i,this.ngZone=n,this.loaded=new Be,this.url="",this.queryParams="",this.viewerUrl="",this.googleCheckInterval=3e3,this.googleMaxChecks=5,this.disableContent="none",this.googleCheckContentLoaded=!0,this.viewer="google",this.overrideLocalhost="",this.iframes=void 0,this.fullUrl=void 0,this.externalViewer=!1,this.docHtml="",this.configuredViewer="google",this.checkIFrameSubscription=void 0,this.shouldCheckIframe=!1}ngAfterViewInit(){if(this.shouldCheckIframe){let i=this.iframes?.first?.nativeElement;i&&(this.shouldCheckIframe=!1,this.reloadIframe(i))}}ngOnDestroy(){this.checkIFrameSubscription&&this.checkIFrameSubscription.unsubscribe()}ngOnChanges(i){return ae(this,null,function*(){if(i&&i.viewer&&(i.viewer.isFirstChange||i.viewer.currentValue!==i.viewer.previousValue)&&(this.viewer!=="google"&&this.viewer!=="office"&&this.viewer!=="mammoth"&&this.viewer!=="pdf"&&this.viewer!=="url"&&console.error(`Unsupported viewer: '${this.viewer}'. Supported viewers: google, office, mammoth and pdf`),this.configuredViewer=this.viewer),i.url&&i.url.currentValue!==i.url.previousValue||i.viewer&&i.viewer.currentValue!==i.viewer.previousValue||i.viewerUrl&&i.viewerUrl.currentValue!==i.viewerUrl.previousValue){let n=nv(this.url,this.configuredViewer,this.queryParams,this.viewerUrl);if(this.externalViewer=n.externalViewer,n.externalViewer&&this.overrideLocalhost&&KE(this.url)){let r=YE(this.url,this.overrideLocalhost);n=nv(r,this.configuredViewer,this.queryParams,this.viewerUrl)}this.docHtml="",this.checkIFrameSubscription&&this.checkIFrameSubscription.unsubscribe(),this.url?n.externalViewer||this.configuredViewer==="url"||this.configuredViewer==="pdf"?(this.fullUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(n.url),this.configuredViewer==="google"&&this.googleCheckContentLoaded&&this.ngZone.runOutsideAngular(()=>{let r=this.iframes?.first?.nativeElement;r?this.reloadIframe(r):this.shouldCheckIframe=!0})):this.configuredViewer==="mammoth"&&(this.docHtml=yield qE(this.url)):this.fullUrl=void 0}})}reloadIframe(i){this.checkIFrameSubscription=ZE(),this.checkIFrameSubscription.subscribe(i,this.googleCheckInterval,this.googleMaxChecks)}iframeLoaded(){let i=this.iframes?.first?.nativeElement;i&&tv(i)&&(this.loaded.emit(void 0),this.checkIFrameSubscription&&this.checkIFrameSubscription.unsubscribe())}}return t.\u0275fac=function(i){return new(i||t)(ue(oa),ue(Ce))},t.\u0275cmp=lt({type:t,selectors:[["ngx-doc-viewer"]],viewQuery:function(i,n){if(i&1&&Gt(sU,5),i&2){let r;ct(r=ut())&&(n.iframes=r)}},inputs:{url:"url",queryParams:"queryParams",viewerUrl:"viewerUrl",googleCheckInterval:"googleCheckInterval",googleMaxChecks:"googleMaxChecks",disableContent:"disableContent",googleCheckContentLoaded:"googleCheckContentLoaded",viewer:"viewer",overrideLocalhost:"overrideLocalhost"},outputs:{loaded:"loaded"},features:[pn],decls:2,vars:2,consts:[["iframe",""],[4,"ngIf"],[3,"innerHtml",4,"ngIf"],["type","application/pdf","width","100%","height","100%",3,"data",4,"ngIf"],[3,"innerHtml"],["type","application/pdf","width","100%","height","100%",3,"data"],[3,"href"],["id","iframe-doc-viewer","frameBorder","0",3,"src","load",4,"ngIf"],["class","container",4,"ngIf"],["id","iframe-doc-viewer","frameBorder","0",3,"load","src"],[1,"container"],["id","iframe","frameBorder","0",3,"src","load",4,"ngIf"],["id","iframe","frameBorder","0",3,"load","src"]],template:function(i,n){i&1&&Ut(0,dU,3,2,"ng-container",1)(1,fU,3,2,"ng-container",1),i&2&&(et("ngIf",!n.externalViewer),dt(),et("ngIf",n.externalViewer))},dependencies:[Ew],styles:["[_nghost-%COMP%]{display:block}.container[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}.overlay-popout-google[_ngcontent-%COMP%]{width:40px;height:40px;right:26px;top:11.5px;position:absolute;z-index:1000}.overlay-popout-office[_ngcontent-%COMP%]{width:100px;height:20px;right:0;bottom:0;position:absolute;z-index:1000}.overlay-full[_ngcontent-%COMP%]{width:100%;height:100%;right:0;top:0;position:absolute;z-index:1000}iframe[_ngcontent-%COMP%]{width:100%;height:100%}"]}),t})(),XE=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Re({type:t}),t.\u0275inj=ke({imports:[jo]}),t})();var JE=(()=>{let e=class e{constructor(){this.file="https://file-examples.com/storage/feedf97377669a777a26bd6/2017/10/file-sample_150kB.pdf"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=lt({type:e,selectors:[["app-left-part"]],decls:235,vars:1,consts:[[2,"display","flex","width","100%","margin-top","1%","justify-content","space-evenly"],[1,"reg1"],[2,"display","flex"],[2,"width","10vh","margin-top","3vh","margin-left","3vh"],[2,"display","ruby"],[2,"height","1vh","margin-top","3vh"],[2,"font-family","cursive","font-weight","bolder","color","blue"],[2,"display","flex","gap","2vh"],[2,"width","23vh","height","24px","background-color","#BBE9FF"],[2,"font-family","cursive","color","blue"],[2,"width","23vh","height","24px"],[2,"font-family","cursive","color","red"],[2,"color","gray"],[1,"reg2"],[2,"display","inline-block"],["src","/assets/location.svg",2,"margin-top","5vh","margin-left","1vh"],[2,"margin-top","2vh","margin-left","2vh"],[2,"font-family","cursive"],[1,"reg3"],["src","/assets/mail.svg",2,"margin-top","5vh","margin-left","1vh"],["label","Overview"],["label","Transactions","disabled",""],["label","Statement","disabled",""],["label","Mail","disabled",""],["label","Activities","disabled",""],[2,"flex","1 1 auto"],["mat-button","",2,"margin-top","1vh"],[2,"color","red"],[2,"display","flex","width","100%"],[1,"invoiceno"],[2,"margin-left","3vh","margin-top","3vh","font-family","cursive"],[2,"color","blue"],[2,"font-size","10vh","margin-top","5vh"],["src","assets/arrow.svg"],[2,"margin-left","3vh","margin-top","2vh","font-family","cursive"],[2,"margin-left","2vh","margin-top","2vh","font-family","cursive"],[1,"invoiceno2"],[2,"color","forestgreen"],[2,"color","forestgreen","margin-left","15px","background-color","deepskyblue"],["src","/assets/bankdetails.svg"],[2,"display","flex","margin-top","2vh","gap","10px"],["mat-stroked-button","","color","primary"],[2,"display","flex","gap","50px"],[1,"waybill"],[2,"margin-left","2vh","margin-top","6vh"],["src","assets/Group.svg"],[2,"margin-top","2vh","margin-left","6vh","font-family","cursive","color","blue"],[2,"margin-top","1vh","display","flex","gap","2px"],["href","../assets/Book.pdf",1,"btn","btn-button"],[1,"btn","btn-button"],[1,"btn","btn-button",2,"color","red"],["src","assets/2.svg"],["href","",1,"btn","btn-button"],["href","",1,"btn","btn-button",2,"color","red"],[2,"display","flex","flex-direction","column"],["href","../assets/Book.pdf",1,"btn","btn-primary"],[1,"waybill2"],[2,"width","39vh","margin-top","2vh","margin-left","3vh","font-family","cursive","color","blue"],[2,"margin-top","6vh","margin-left","2vh"],[1,"btn","btn-primary"],[2,"width","38vh","margin-top","2vh","margin-left","3vh","font-family","cursive","color","blue"],[2,"margin-top","6vh","margin-left","8vh"],["color","primary",1,"btn","btn-primary"],["viewer","google",2,"width","100%","height","50vh",3,"url"]],template:function(r,o){r&1&&(pe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon"),ye(5,"person"),he()(),pe(6,"div",4)(7,"div",5)(8,"span",6),ye(9,"ABC International Corporation Pvt \u2026"),he()(),pe(10,"div",7)(11,"div",8)(12,"span",9),ye(13,"Thiruvananthapuram"),he()(),pe(14,"div",10)(15,"span",11),ye(16,"`7122000.00 Cr "),xe(17,"br"),pe(18,"p",12),ye(19,"Current Balance"),he()()()()()()(),pe(20,"div",13)(21,"div",14)(22,"div",2)(23,"div"),xe(24,"img",15),he(),pe(25,"div",16)(26,"span",17),ye(27,"2E, 2nd Floor, VM Complex, Co-opertaive colony road, Alwarpet, Chennai 600018. Tamilnadu."),he()()()()(),pe(28,"div",18)(29,"div",14)(30,"div",2)(31,"div"),xe(32,"img",19),he(),pe(33,"div",16)(34,"span",17),ye(35,"Mobile : 9840060001 "),xe(36,"br"),ye(37," Email: abcintlgmail.com "),xe(38,"br"),ye(39," GSTN: 33AABCA2525D1Z7"),he()()()()()(),pe(40,"div",2)(41,"mat-tab-group"),xe(42,"mat-tab",20)(43,"mat-tab",21)(44,"mat-tab",22)(45,"mat-tab",23)(46,"mat-tab",24),he(),xe(47,"div",25),pe(48,"button",26)(49,"mat-icon"),ye(50,"keyboard_backspace"),he(),pe(51,"b",27),ye(52,"Back"),he()()(),xe(53,"br"),pe(54,"div",28)(55,"div",29)(56,"div",30)(57,"span",4)(58,"p",31),ye(59,"InvoiceNo"),he(),xe(60,"br"),ye(61," 123456778 "),he()()(),pe(62,"span",32),xe(63,"img",33),he(),pe(64,"div",29)(65,"div",34)(66,"span",4)(67,"p",31),ye(68,"Invoice Date"),he(),xe(69,"br"),ye(70," 25 Mar 2024 "),he()()(),pe(71,"span",32),xe(72,"img",33),he(),pe(73,"div",29)(74,"div",35)(75,"span",4)(76,"p",31),ye(77,"Invoice Value"),he(),xe(78,"br"),ye(79," 399999999 "),he()()(),pe(80,"span",32),xe(81,"img",33),he(),pe(82,"div",36)(83,"div",35)(84,"span",4)(85,"p",31),ye(86,"Invoice Status"),he(),xe(87,"br"),pe(88,"p",37),ye(89,"Accecpted"),he()()()(),pe(90,"span",32),xe(91,"img",33),he(),pe(92,"div",29)(93,"div",35)(94,"span",4)(95,"p",31),ye(96,"Due Status"),he(),xe(97,"br"),pe(98,"p",38),ye(99,"Partially"),he()()()(),pe(100,"span",32),xe(101,"img",33),he(),pe(102,"div",36)(103,"div",35)(104,"span",4)(105,"p",31),ye(106,"Receipt Mode"),he(),xe(107,"br"),pe(108,"p",37),xe(109,"img",39),he()()()()(),xe(110,"br"),pe(111,"div",40)(112,"div")(113,"button",41)(114,"mat-icon"),ye(115,"edit"),he(),ye(116,"Edit"),he()(),pe(117,"div")(118,"button",41)(119,"mat-icon"),ye(120,"share"),he(),ye(121,"Share"),he()(),pe(122,"div")(123,"button",41)(124,"mat-icon"),ye(125," local_printshop"),he(),ye(126,"Print"),he()(),pe(127,"div")(128,"button",41)(129,"mat-icon"),ye(130,"cloud_download"),he(),ye(131,"Download"),he()(),pe(132,"div")(133,"button",41)(134,"mat-icon"),ye(135,"delete"),he(),ye(136,"Delete"),he()(),pe(137,"div")(138,"button",41),ye(139,"More"),pe(140,"mat-icon"),ye(141,"more_vert"),he()()()(),xe(142,"br"),pe(143,"div",42)(144,"div",43)(145,"div",2)(146,"div",44),xe(147,"img",45),he(),pe(148,"div",46)(149,"span"),ye(150,"e-Invoice No: 123456789012345 "),xe(151,"br"),ye(152," Date : 24 Mar 2024 10:34 PM"),he(),xe(153,"br"),pe(154,"div",2)(155,"div",47)(156,"div")(157,"a",48)(158,"mat-icon"),ye(159,"cloud_download"),he()()(),pe(160,"div")(161,"a",48)(162,"mat-icon"),ye(163,"local_printshop"),he()()(),pe(164,"div")(165,"a",49)(166,"mat-icon"),ye(167,"share"),he()()(),pe(168,"div")(169,"a",49)(170,"mat-icon"),ye(171,"visibility"),he()()(),pe(172,"div")(173,"a",50)(174,"mat-icon"),ye(175,"cancel"),he()()()()()()()(),pe(176,"div",43)(177,"div",2)(178,"div",44),xe(179,"img",51),he(),pe(180,"div",46)(181,"span"),ye(182,"e-Waybill No: 52356689656 "),xe(183,"br"),ye(184," Date : 24 Mar 2024 10:34 PM"),he(),xe(185,"br"),pe(186,"div",2)(187,"div",47)(188,"div")(189,"a",48)(190,"mat-icon"),ye(191,"cloud_download"),he()()(),pe(192,"div")(193,"a",52)(194,"mat-icon"),ye(195,"local_printshop"),he()()(),pe(196,"div")(197,"a",52)(198,"mat-icon"),ye(199,"share"),he()()(),pe(200,"div")(201,"a",52)(202,"mat-icon"),ye(203,"visibility"),he()()(),pe(204,"div")(205,"a",53)(206,"mat-icon"),ye(207,"cancel"),he()()()()()()()(),pe(208,"div",54)(209,"a",55),ye(210,"Receipt"),he(),xe(211,"br"),pe(212,"a",55),ye(213,"Reminder"),he()()(),xe(214,"br"),pe(215,"div",42)(216,"div",56)(217,"div",2)(218,"div",57)(219,"span"),ye(220," Once you\u2019ve received partial or full payment from your customer for this invoice, you can proceed to record it. "),he()(),pe(221,"div",58)(222,"button",59),ye(223,"Record Receipt"),he()()()(),pe(224,"div",56)(225,"div",56)(226,"div",2)(227,"div",60)(228,"span"),ye(229," If you haven\u2019t received partial or full payment from your customer for this invoice, please send a reminder for payment. "),he()(),pe(230,"div",61)(231,"button",62),ye(232,"Reminder"),he()()()()()(),xe(233,"br")(234,"ngx-doc-viewer",63)),r&2&&(dt(234),et("url",o.file))},dependencies:[V_,Im,Y_,$_,$E],styles:[".reg1[_ngcontent-%COMP%]{width:60vh;height:15vh;background-color:#fff;color:#000;border-radius:10px;box-shadow:0 15px 0 -202px #2379dd,0 15px 0 -9px #4a90e2 inset;border:1px solid blue}.reg2[_ngcontent-%COMP%]{width:45vh;height:15vh;background-color:#fff;color:#000;border-radius:10px;box-shadow:0 15px 0 -202px #cad1d8,0 15px 0 -9px #db8514 inset;border:1px solid rgb(233,184,143)}.reg3[_ngcontent-%COMP%]{width:45vh;height:15vh;background-color:#fff;color:#000;border-radius:10px;box-shadow:0 15px 0 -202px #cad1d8,0 15px 0 -9px #ec410d inset;border:1px solid rgb(233,184,143)}.invoiceno[_ngcontent-%COMP%]{width:20vh;height:15vh;background-color:#fff;color:#000;border-radius:15px;border:1px solid blue;box-shadow:0 15px 0 -202px #2379dd,0 15px 0 -11px #4a90e2}.waybill[_ngcontent-%COMP%]{background-color:#dbf4ff;box-shadow:3px 3px 3px #00000029;border-radius:4px;opacity:1;top:382px;left:850px;width:342px;height:104px}.waybill2[_ngcontent-%COMP%]{background-color:#dbf4ff;box-shadow:3px 3px 3px #00000029;border-radius:4px;opacity:1;top:382px;left:850px;width:70vh;height:104px}.invoiceno2[_ngcontent-%COMP%]{width:20vh;height:15vh;background-color:#fff;color:#000;border-radius:15px;border:1px solid blue;box-shadow:0 15px 0 -202px #2cf803,0 15px 0 -11px #2cf803}"]});let t=e;return t})();var eS=(()=>{let e=class e{constructor(){this.title="ABC-company"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=lt({type:e,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"toolbar"],[2,"display","flex"],[2,"width","30%"]],template:function(r,o){r&1&&(xe(0,"mat-toolbar",0),pe(1,"div",1),xe(2,"div",2),pe(3,"div"),xe(4,"app-left-part"),he()())},dependencies:[F_,JE],styles:[".toolbar[_ngcontent-%COMP%]{background-color:#0078ac}"]});let t=e;return t})();var mU={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},pX=Ze(le({},mU),{"[class.ng-submitted]":"isSubmitted"});var bU=new ve("CallSetDisabledState",{providedIn:"root",factory:()=>tS}),tS="always";var vU=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=ke({});let t=e;return t})();var nS=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:bU,useValue:n.callSetDisabledState??tS}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=ke({imports:[vU]});let t=e;return t})();var Ka=function(t){return t[t.DISABLE=0]="DISABLE",t[t.ENABLE=1]="ENABLE",t[t.ENABLE_FORMS=2]="ENABLE_FORMS",t[t.ENABLE_STORAGE=3]="ENABLE_STORAGE",t}(Ka||{});var Ti={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},yU=typeof window>"u"?!1:!!globalThis.MSInputMethodContext&&!!document.documentMode,AU=typeof navigator>"u"||/Edge\/\d./i.test(navigator.userAgent),wU=typeof ReadableStream>"u"||typeof Promise.allSettled>"u",xU="4.4.713",_U="4.5.629";function bs(t){return t?.includes("bleeding-edge")?_U:xU}function hr(t,e=""){return t.includes("://")?t:`./${t+e}`}function CU(){return typeof navigator<"u"&&navigator?.language||"en-US"}var un={needsES5:yU||AU||wU,annotationEditorMode:0,annotationMode:Ka.ENABLE_FORMS,defaultZoomDelay:400,cursorToolOnLoad:0,defaultUrl:"",defaultZoomValue:void 0,disableHistory:!1,disablePageLabels:!1,enablePermissions:!1,docBaseUrl:"",enablePrintAutoRotate:!0,externalLinkRel:"noopener noreferrer nofollow",externalLinkTarget:0,historyUpdateUrl:!1,ignoreDestinationZoom:!1,imageResourcesPath:"./images/",maxCanvasPixels:16777216,forcePageColors:!1,pageColorsBackground:"Canvas",pageColorsForeground:"CanvasText",pdfBugEnabled:!1,printResolution:150,rangeChunkSize:65536,removePageBorders:!1,renderer:"canvas",renderForms:!0,enableXfa:!0,fontExtraProperties:!1,sidebarViewOnLoad:-1,scrollModeOnLoad:-1,spreadModeOnLoad:-1,textLayerMode:1,useOnlyCssZoom:!1,viewOnLoad:0,cMapPacked:!0,cMapUrl:function(){return`${hr(un.assetsFolder,"/..")}/cmaps/`},disableAutoFetch:!1,disableFontFace:!1,disableRange:!1,disableStream:!0,isEvalSupported:!0,isOffscreenCanvasSupported:!0,maxImageSize:-1,pdfBug:!1,postMessageTransfers:!0,verbosity:1,workerPort:null,assetsFolder:"assets",_internalFilenameSuffix:".min",sandboxBundleSrc:function(){return un.needsES5?`./pdf.sandbox-${bs(hr(un.assetsFolder))}-es5.mjs`:`./pdf.sandbox-${bs(hr(un.assetsFolder))}${un._internalFilenameSuffix}.mjs`},workerSrc:function(){return un.needsES5?`${hr(un.assetsFolder)}/pdf.worker-${bs(hr(un.assetsFolder))}-es5.mjs`:`${hr(un.assetsFolder)}/pdf.worker-${bs(hr(un.assetsFolder))}${un._internalFilenameSuffix}.mjs`},standardFontDataUrl:()=>`${hr(un.assetsFolder,"/..")}/standard_fonts/`,doubleTapZoomFactor:"page-width",doubleTapZoomsInHandMode:!0,doubleTapZoomsInTextSelectionMode:!1,doubleTapResetsZoomOnSecondDoubleTap:!1,enableScripting:!0,defaultCacheSize:50,passwordPrompt:void 0,locale:CU(),activateWillReadFrequentlyFlag:!1,enableHWA:!0};var EU=(()=>{class t{onPDFJSInitSignal=qA(void 0);pdfjsVersion=bs(un.assetsFolder);constructor(){Bo(()=>{this.onPDFJSInitSignal()&&(this.pdfjsVersion=bs(un.assetsFolder))})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),SU=(()=>{class t{rendererFactory;ngxExtendedPdfViewerInitialized=!1;secondaryMenuIsEmpty=!1;renderer;PDFViewerApplication;constructor(i,n){this.rendererFactory=i,this.renderer=this.rendererFactory.createRenderer(null,null),Bo(()=>{this.PDFViewerApplication=n.onPDFJSInitSignal()})}find(i,n={}){if(this.ngxExtendedPdfViewerInitialized){let r=document.getElementById("findHighlightAll");r&&(r.checked=n.highlightAll??!1);let o=document.getElementById("findMatchCase");o&&(o.checked=n.matchCase??!1);let s=document.getElementById("findEntireWord");s&&(s.checked=n.wholeWords??!1);let a=document.getElementById("findMatchDiacritics");a&&(a.checked=n.matchDiacritics??!1);let l=document.getElementById("findInput");return l?(l.value=i,l.classList.remove("hidden"),l.dispatchEvent(new Event("input")),!0):(console.error("Unexpected error: the input field used to search isn't part of the DOM."),!1)}else return console.error("The PDF viewer hasn't finished initializing. Please call find() later."),!1}findNext(){if(this.ngxExtendedPdfViewerInitialized){let i=document.getElementById("findNext");return i?(i.click(),!0):!1}else return console.error("The PDF viewer hasn't finished initializing. Please call findNext() later."),!1}findPrevious(){if(this.ngxExtendedPdfViewerInitialized){let i=document.getElementById("findPrevious");return i?(i.click(),!0):!1}else return console.error("The PDF viewer hasn't finished initializing. Please call findPrevious() later."),!1}print(i){if(this.PDFViewerApplication){let n=!!this.PDFViewerApplication.PDFPrintServiceFactory&&!i;n||(i||(i={}),this.setPrintRange(i),this.PDFViewerApplication?.printPdf(),n||this.PDFViewerApplication?.eventBus.on("afterprint",this.removePrintRange.bind(this),{once:!0}))}}removePrintRange(){this.PDFViewerApplication?.PDFPrintServiceFactory&&(delete this.PDFViewerApplication.PDFPrintServiceFactory.isInPDFPrintRange,delete this.PDFViewerApplication.PDFPrintServiceFactory.filteredPageCount)}setPrintRange(i){if(!this.PDFViewerApplication?.PDFPrintServiceFactory){console.error("The print service hasn't been initialized yet.");return}this.PDFViewerApplication.PDFPrintServiceFactory.isInPDFPrintRange=n=>this.isInPDFPrintRange(n,i),this.PDFViewerApplication.PDFPrintServiceFactory.filteredPageCount=this.filteredPageCount(this.PDFViewerApplication?.pagesCount,i)}filteredPageCount(i,n){let r=0;for(let o=1;o<=i;o++)this.isInPDFPrintRange(o,n)&&r++;return r}isInPDFPrintRange(i,n){let r=i+1;return!(n.from&&r<n.from||n.to&&r>n.to||n.excluded&&n.excluded.some(o=>o===r)||n.included&&!n.included.some(o=>o===r))}getPageAsLines(i){return ae(this,null,function*(){if(this.PDFViewerApplication){let s=(yield(yield(this.PDFViewerApplication?.pdfDocument).getPage(i)).getTextContent()).items.filter(f=>!f.type),a=Number.MAX_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER,c=0,h=0,g="",p=new Array;for(let f=0;f<s.length;f++){let v=s[f];if(!v.hasEOL){let x=v.transform[4],b=-v.transform[5],A=v.width,_=v.height;a=Math.min(a,x),l=Math.min(l,b),d=Math.max(d,x+A),u=Math.max(u,b+_),g+=v.str,v.dir==="rtl"&&h++,v.dir==="ltr"&&c++}if(f===s.length-1||v.hasEOL){let x;c>0&&h>0?x="both":c>0?x="ltr":h>0&&(x="rtl");let b={direction:x,x:a,y:l,width:d-a,height:u-l,text:g.trim()};p.push(b),a=Number.MAX_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER,c=0,h=0,g=""}}return p}return[]})}getPageAsText(i){return ae(this,null,function*(){if(!this.PDFViewerApplication)return"";let o=(yield(yield(this.PDFViewerApplication?.pdfDocument).getPage(i)).getTextContent()).items;return this.convertTextInfoToText(o)})}convertTextInfoToText(i){return i?i.filter(n=>!n.type).map(n=>n.hasEOL?n.str+`
`:n.str).join(""):""}getPageAsCanvas(a,l,d){return ae(this,arguments,function*(i,n,r,o="#FFFFFF",s=Ka.ENABLE){if(!this.PDFViewerApplication)return Promise.resolve(void 0);let c=yield this.PDFViewerApplication.pdfDocument.getPage(i);return this.draw(c,n,r,o,s)})}getPageAsImage(a,l,d){return ae(this,arguments,function*(i,n,r,o="#FFFFFF",s=Ka.ENABLE){return(yield this.getPageAsCanvas(i,n,r,o,s))?.toDataURL()})}draw(a,l,d){return ae(this,arguments,function*(i,n,r,o="#FFFFFF",s=Ka.ENABLE){let u=1;n.scale?u=n.scale:n.width?u=n.width/i.getViewport({scale:1}).width:n.height&&(u=n.height/i.getViewport({scale:1}).height);let c=i.getViewport({scale:u}),{ctx:h,canvas:g}=this.getPageDrawContext(c.width,c.height),p=c.clone(),f={canvasContext:h,viewport:p,background:r,backgroundColorToReplace:o,annotationMode:s},v=i.render(f),m=()=>Promise.resolve(g);return v.promise.then(m)})}getPageDrawContext(i,n){let r=document.createElement("canvas"),o=r.getContext("2d",{alpha:!0});if(!o)throw new Error("Couldn't create the 2d context");return r.width=i,r.height=n,this.renderer.setStyle(r,"width",`${i}px`),this.renderer.setStyle(r,"height",`${n}px`),{ctx:o,canvas:r}}getCurrentDocumentAsBlob(){return ae(this,null,function*(){return(yield this.PDFViewerApplication?.export())||void 0})}getFormData(i=!0){return ae(this,null,function*(){if(!this.PDFViewerApplication)return[];let n=this.PDFViewerApplication?.pdfDocument,r=96/72,o=[];for(let s=1;s<=n?.numPages;s++){let a=yield n.getPage(s);(yield a.getAnnotations()).filter(d=>d.subtype==="Widget").map(d=>le({},d)).forEach(d=>{let u=a.getViewport({scale:r}).convertToViewportRectangle(d.rect);if(i&&d.fieldName)try{if(d.exportValue){let c=this.PDFViewerApplication?.pdfDocument.annotationStorage.getValue(d.id,d.fieldName+"/"+d.exportValue,"");d.value=c?.value}else if(d.radioButton){let c=this.PDFViewerApplication?.pdfDocument.annotationStorage.getValue(d.id,d.fieldName+"/"+d.fieldValue,"");d.value=c?.value}else{let c=this.PDFViewerApplication?.pdfDocument.annotationStorage.getValue(d.id,d.fieldName,"");d.value=c?.value}}catch{}o.push({fieldAnnotation:d,fieldRect:u,pageNumber:s})})}return o})}addPageToRenderQueue(i){return this.PDFViewerApplication?.pdfViewer.addPageToRenderQueue(i)??!1}isRenderQueueEmpty(){return this.PDFViewerApplication?!this.PDFViewerApplication.pdfViewer.renderingQueue.getHighestPriority(this.PDFViewerApplication?.pdfViewer._getVisiblePages(),this.PDFViewerApplication?.pdfViewer._pages,!0,!1):!0}hasPageBeenRendered(i){if(!this.PDFViewerApplication)return!1;let n=this.PDFViewerApplication?.pdfViewer._pages;return n.length>i&&i>=0?n[i].renderingState===3:!1}sleep(i){return new Promise(n=>setTimeout(n,i))}renderPage(i){return ae(this,null,function*(){if(!this.hasPageBeenRendered(i))for(yield this.addPageToRenderQueue(i);!this.hasPageBeenRendered(i);)yield this.sleep(7)})}currentlyRenderedPages(){return this.PDFViewerApplication?(this.PDFViewerApplication?.pdfViewer._pages).filter(n=>n.renderingState===3).map(n=>n.id):[]}numberOfPages(){return this.PDFViewerApplication?(this.PDFViewerApplication?.pdfViewer._pages).length:0}getCurrentlyVisiblePageNumbers(){let i=this.PDFViewerApplication;return i?i.pdfViewer._getVisiblePages().views?.map(r=>r.id):[]}listLayers(){return ae(this,null,function*(){if(!this.PDFViewerApplication)return[];let i=yield this.PDFViewerApplication?.pdfViewer.optionalContentConfigPromise;if(i)return i.getOrder().filter(o=>typeof o!="object").map(o=>{let s=i.getGroup(o);return{layerId:o,name:s.name,visible:s.visible}})})}toggleLayer(i){return ae(this,null,function*(){if(!this.PDFViewerApplication)return;let n=yield this.PDFViewerApplication?.pdfViewer.optionalContentConfigPromise;if(n){let r=n.getGroup(i).visible,o=document.querySelector(`input[id='${i}']`);o&&(r=o.checked,o.checked=!r),n.setVisibility(i,!r),this.PDFViewerApplication?.eventBus.dispatch("optionalcontentconfig",{source:this,promise:Promise.resolve(n)})}})}scrollPageIntoView(i,n){this.PDFViewerApplication?.pdfViewer?.scrollPagePosIntoView(i,n)}getSerializedAnnotations(){return this.PDFViewerApplication?.pdfViewer.getSerializedAnnotations()}addEditorAnnotation(i){this.PDFViewerApplication?.pdfViewer.addEditorAnnotation(i)}removeEditorAnnotations(i){this.PDFViewerApplication?.pdfViewer.removeEditorAnnotations(i)}loadImageAsDataURL(i){return ae(this,null,function*(){if(i.startsWith("data:"))return i;let n=yield fetch(i);if(!n.ok)throw new Error(`Failed to fetch the image from ${i}: ${n.statusText}`);return yield n.blob()})}addImageToAnnotationLayer(d){return ae(this,arguments,function*({urlOrDataUrl:i,page:n,left:r,bottom:o,right:s,top:a,rotation:l}){if(!this.PDFViewerApplication){console.error("The PDF viewer has not been initialized yet.");return}let u;n!==void 0?(n!==this.currentPageIndex()&&(yield this.renderPage(n)),u=n):u=this.currentPageIndex()||0;let c=this.PDFViewerApplication.pdfViewer.annotationEditorMode;this.switchAnnotationEdtorMode(13);let h=yield this.loadImageAsDataURL(i),g=this.PDFViewerApplication.pdfViewer._pages[u].pdfPage.view,p=g[0],f=g[1],v=g[2],m=g[3],x=v-p,b=m-f,A=this.PDFViewerApplication?.pdfViewer._pages[u].div.clientWidth,_=this.PDFViewerApplication?.pdfViewer._pages[u].div.clientHeight,S=this.convertToPDFCoordinates(r,x,0,A),D=this.convertToPDFCoordinates(o,b,0,_),F=this.convertToPDFCoordinates(s,x,x,A),k=this.convertToPDFCoordinates(a,b,b,_),U={annotationType:13,pageIndex:u,bitmapUrl:h,rect:[S,D,F,k],rotation:l??0};this.addEditorAnnotation(U),yield this.sleep(10),this.switchAnnotationEdtorMode(c)})}currentPageIndex(){let i=this.PDFViewerApplication?.pdfViewer;if(i)return i.currentPageNumber-1}convertToPDFCoordinates(i,n,r,o){return i?typeof i=="string"?i.endsWith("%")?parseInt(i,10)/100*n:i.endsWith("px")?parseInt(i,10)*(n/o):parseInt(i,10):i:r}switchAnnotationEdtorMode(i){this.PDFViewerApplication?.eventBus.dispatch("switchannotationeditormode",{mode:i})}set editorFontSize(i){this.setEditorProperty(Ti.FREETEXT_SIZE,i)}set editorFontColor(i){this.setEditorProperty(Ti.FREETEXT_COLOR,i)}set editorInkColor(i){this.setEditorProperty(Ti.INK_COLOR,i)}set editorInkOpacity(i){this.setEditorProperty(Ti.INK_OPACITY,i)}set editorInkThickness(i){this.setEditorProperty(Ti.INK_THICKNESS,i)}set editorHighlightColor(i){this.setEditorProperty(Ti.HIGHLIGHT_COLOR,i)}set editorHighlightDefaultColor(i){this.setEditorProperty(Ti.HIGHLIGHT_DEFAULT_COLOR,i)}set editorHighlightShowAll(i){this.setEditorProperty(Ti.HIGHLIGHT_SHOW_ALL,i)}set editorHighlightThickness(i){this.setEditorProperty(Ti.HIGHLIGHT_THICKNESS,i)}setEditorProperty(i,n){this.PDFViewerApplication?.eventBus.dispatch("switchannotationeditorparams",{type:i,value:n}),this.PDFViewerApplication?.eventBus.dispatch("annotationeditorparamschanged",{details:[[i,n]]})}static \u0275fac=function(n){return new(n||t)(se(mi),se(EU))};static \u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();Promise.allSettled||window.Zone&&!window["__zone_symbol__Promise.allSettled"]&&console.error("Please update zone.js to version 0.10.3 or higher. Otherwise, you'll run the slow ECMAScript 5 version even on modern browser that can run the fast ESMAScript 2015 version.");var iS=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Re({type:t});static \u0275inj=ke({providers:[SU],imports:[jo,nS]})}return t})();var Jr=dv(cS(),1),vs=dv(uS(),1);function VU(t,e,i){t[e]=i}function jU(){return typeof window>"u"}jU()||VU(Jr,"verbosity",Jr.VerbosityLevel.INFOS);var hS=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Re({type:t});static \u0275inj=ke({})}return t})();var fS=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Re({type:e,bootstrap:[eS]}),e.\u0275inj=ke({imports:[rc,l_,k_,yx,j_,K_,X_,iS,hS,XE]});let t=e;return t})();jw().bootstrapModule(fS).catch(t=>console.error(t));
